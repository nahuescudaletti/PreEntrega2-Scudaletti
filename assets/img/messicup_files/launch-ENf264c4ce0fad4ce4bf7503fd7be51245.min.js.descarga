// For license information, see `https://assets.adobedtm.com/launch-ENf264c4ce0fad4ce4bf7503fd7be51245.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2022-12-09T08:44:00Z",turbineBuildDate:"2022-09-28T18:15:16Z",turbineVersion:"27.4.0"},environment:{id:"ENf264c4ce0fad4ce4bf7503fd7be51245",stage:"production"},dataElements:{pageTitle:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlPageContentName");return""==e&&(e=document.title),e}}},ddlPageType:{defaultValue:"page",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.type"}},LotID:{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==window.lotame_16003){var e="",t=window.localStorage.panoramaId||"",a=window.localStorage._cc_id||_satellite.cookie.get("_cc_id")||"";""==t&&""==a||(e=t+"|"+a)}return e}}},alConfig:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=location.hostname;try{var t=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("DE alConfig. alConfig parse error, overwrite")}t.dr||(t.dr=document.referrer),t.uP||(t.uP=_satellite.getVar("URLParams")||{});var a=_satellite.getVar("OneTrustPreferences");t.logging=/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging")||!1,t.pageName=_satellite.getVar("pageName"),t.OTPrefs=a,t.uID=_satellite.getVar("userID"),t.uS=_satellite.getVar("userStatus"),t.uPID=_satellite.getVar("userProviderID"),t.tealId=_satellite.getVar("TeaID"),t.tSettings={account:"fifacxm",profile:"main",dataSourceKey:"4fcjh8",endpoint:"",dataObjectName:""},t.lotId=_satellite.getVar("LotID"),t.lTrackV=_satellite.getVar("linkTrackVars"),t.prodPages=_satellite.getVar("ProdPages"),t.fifaplus=_satellite.getVar("FifaPlusPages"),t.fifaplusGames=_satellite.getVar("FifaPlusGamesPages"),t.fifaplusNft=_satellite.getVar("FifaPlusNFTPages"),t.fifaplusStoreQatar=_satellite.getVar("FifaPlusStoreQatarPages"),t.mcPages=/mediacells.com/.test(e),t.fifacom=_satellite.getVar("FifaComPages"),t.fifagg=_satellite.getVar("FifaggPages"),t.ticketing=_satellite.getVar("TicketingPages"),t.account=/^account(|-dev|-qa)\.fifa\.com/.test(location.hostname),t.Perf=/,2,/.test(a),t.Func=/,3,/.test(a),t.Tgt=/,4,/.test(a),t.LotConsents={analytics:t.Tgt,crossdevice:t.Tgt,datasharing:t.Tgt,targeting:t.Tgt};var n=JSON.parse(localStorage.getItem("lotame_16003_consent"))||"";n=(n=(n=n.consent||"")[0]||"").types||"";for(var r=0;r<n.length;r++)if("targeting"==n[r].name){t.lotConsentResp=n[r].consent||"";break}t.AnaPage=t.Perf,t.TealPage=t.Tgt&&(t.mcPages||t.fifacom||t.fifagg||t.ticketing||t.fifaplusGames||t.fifaplusNft||t.account),t.LotPage=t.Tgt&&/:tickets:.*?checkout:confirmation/.test(t.pageName);var i=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"";if(""!=i&&t.AnaPage){t.g=i;var o=(i||"").split("country_code=");t.gc=(o[1]||"").substring(0,2).toLowerCase(),t.logging&&console.log("### FPT alGeo Set:",i)}return t.logging&&console.log("DE alConfig:",t),sessionStorage.setItem("com.adobe.alConfig",JSON.stringify(t)),t}}},URLs_oid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_oid",caseInsensitive:!0}},ddlPageLanguage:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageLanguage"}},pageID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.pathname,t=_satellite.getVar("ddlPageID");return""==t&&(pageID=_satellite.getVar("ddlPageContentID")),""==t&&_satellite.getVar("TicketingFaqPages")?/\/faq\/article/.test(e)?t=e.split("/")[e.split("/").length-2]:/\/faq\/category/.test(e)&&(t=_satellite.getVar("URLid")):""==t&&/fifaofficial.cn\/detail\/?\d+$/.test([location.hostname,e].join(""))&&(t=e.substring(e.lastIndexOf("/")+1)),t}}},ddlAdSlots:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.adslots"}},URLs_cid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_cid",caseInsensitive:!0}},OneTrustPreferences:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t="";if("undefined"!=typeof OnetrustActiveGroups){var a=(OnetrustActiveGroups||"").split(",");e&&console.log("### DE:OneTrustPreferences from OnetrustActiveGroups:",a,"###")}else a=(((_satellite.cookie.get("OptanonConsent")||"").split("&groups=")[1]||"").split("&")[0]||"").split(",")||"",e&&console.log("### DE:OneTrustPreferences from OptanonConsent Cookie:",a,"###");for(var n=0;n<a.length;n++)/^[0-9]{1}(|:1)$/.test(a[n])&&(e&&console.log("### DE:OneTrustPreferences - Extract:",n,a[n],"###"),t+=","+a[n].substring(0,1));return t+","}}},FifaPlusNFTPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^((|www\.)(|dev\.|stage\.)collect\.fifa\.com|(|www\.)(|dev\.|stage\.)nft\.fifa\.com|www\.staging\.fifa\.terraform\.info|lfl-fifa-(dev|production).s3-website.us-east-1.amazonaws.com)$/.test(location.hostname)||/^algofan.dept.engineering/.test(location.hostname)||/^(|www\.)fifa.com\/fifaplus\/(|[a-z]{2}\/)collect/i.test(location.hostname+location.pathname)}}},URLCampaignID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"campaignId",caseInsensitive:!0}},ddlPageIssueDate:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.issueDate"}},URLutm_campaign:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_campaign",caseInsensitive:!0}},ddlPageContentName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.contentName"}},FifaPlusStoreQatarPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^(fifastore\.qa|fifa\.abuissa\.com|fifa\.abuissa-alb-1054430335\.me-central-1\.elb\.amazonaws\.com)$/.test(location.hostname)}}},URLParams:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e={},t=(location.search||"").substring(1).split("&"),a=0;a<t.length;a++)part=t[a].split("="),null!=part[1]&&(e[part[0].toLowerCase()]=part[1].toLowerCase());return 0==Object.keys(e).length&&(e=""),e}}},FifaComPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t="www.fifa.com"==location.host&&!/^www\.fifa\.com\/fifaplus/.test(location.hostname+location.pathname),a=/^origin1904\-.+?\.cxm\.fifa\.com$/.test(location.hostname),n=/^cxm\-.+?\-(fifacom|mascotvote)\.(trafficmanager|azurewebsites)\.net$/.test(location.hostname),r=/^(dev|uat)-www.fifa.com$/.test(location.hostname)&&!/^www\.fifa\.com\/fifaplus/.test(location.hostname+location.pathname);return e&&console.log("#### L1 DE FIFAComPages. intpage:",a,". fifacomaz:",n,location.hostname),t||a||n||r}}},userGender:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("ddlUserGender")}}},ddlPageParentTitle:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageParentTitle"}},BlockedPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/fifaplus\/[a-z]{2}\/webview/.test(location.pathname)&&!/\/webview\/video-player/.test(location.pathname)||/fifaplus\/[a-z]{2}\/webview\/video-player\//.test(location.pathname)&&/liveblog=true/.test(location.search)}}},DOMh1:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"text",elementSelector:"h1"}},URLlinkId:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"linkId",caseInsensitive:!0}},URLappID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"appID",caseInsensitive:!0}},pageName:{defaultValue:"home",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=_satellite.getVar("ddlPageName"),a=_satellite.getVar("ddlPageType");if(""==t&&(t=(t=location.pathname.replace(/\//g,":").substring(1)).replace(/index(|_[a-z]{2})\.html|\.html|index\.htm|\.php/gi,"")),t=t.replace(/^[A-Za-z]{2}(|-[A-Za-z]{2})($|\:)/,"").toLowerCase(),_satellite.getVar("FifaComPages")||_satellite.getVar("Fifa+Pages")||""!=_satellite.getVar("ddlPageName")){var n={" ":"-","#":":"};if(t=t.replace(/[ #]/g,(function(e){return n[e]}))||"home",/^tournaments($|\:)/.test(t)){var r={"match-center":"matches",qualifiers:"preliminaries",":womens":"",":mens":""};(v=(t=t.replace(/\b(?:match-center|qualifiers|:womens|:mens)\b/g,(function(e){return r[e]}))).split(":")).length>2?v.shift():v[0]=v[0].replace("tournaments","fifa-tournaments");var i=Number((new Date).getFullYear().toString().substring(3,4)-1),o=i+3,s=new RegExp("202["+i+"-"+o+"]"),l=new RegExp("202["+i+"-9]");e&&console.log(i,o,s,l,s.test(2020),l.test(2026)),t=!/[0-9]{4}/.test(v[1])||s.test(v[1])||l.test(v[1])?v.join(":"):v[0]+":archive:"+v.slice(1-v.length).join(":")}else/^(terms-of-service|data-protection-portal|downloads|cookie-policy)($|\:)/.test(t)?t="about-fifa:legal:"+t:/^legal($|\:)/.test(t)?t="about-fifa:"+t:/^(contact-fifa($|\:)|jobs$)/.test(t)?t="about-fifa:organisation:"+t:/^profile/.test(t)?t="account:"+t:/^about-fifa:the-best-(|fifa-)football-awards/.test(t)&&(t=t.replace("about-fifa:",""));return e&&console.log("#### DE PN 2021-06-11 0800 nPageName:",t+":"+a),t.replace(/:$/,"")+":"+a}var c=location.hostname,d={"#":"",_:"-","/":":"},u=location.hash.replace(/(?:#|_|\/)/g,(function(e){return d[e]}));if(e&&console.log("#### DE PN 2021-06-11 0800 nPageName:",t,". PageHash:",u),t=t.replace(/organisation:ticketing/,"ticketing"),/360fanpic(|.+)2019/.test(t))t="womensworldcup:"+t;else if(/^account(|-qa|-dev|-pre).fifa.com$/.test(c)){e&&console.log("### DE PN B2C Pages: ",t);var g=document.title,f=_satellite.getVar("URLCampaignID");a="form","sign-in-orsign-up"==g||"FIFA.com Club Login"==g?t="account:sign-in:":"sign-up"==g||"FIFA.com Club Sign-up"==g?t="account:sign-up:":"social-sign-up"==g?t="account:social-sign-up:":"reset-password"==g||"FIFA.com Club Reset password"==g?t="account:reset-password:":"FIFA.com Club"==g&&(t="account:sign-in-up:"),/account:/.test(t)&&""!=f&&(t+=f)}else if(a="microsite",e&&console.log("### DE PN Microsite Pages: ",t),/^(football-technology|quality).fifa.com$/.test(c))t="technical:football-technology:"+t;else if(/fifaofficial.cn$/.test(c))t=/wandayuyanjia.fifaofficial.cn$/.test(c)?"fifa-china:bracket-challenge:"+t:/dreamteam.fifaofficial.cn$/.test(c)?"fifa-china:dream-team:"+t:"fifa-china:"+t;else if(_satellite.getVar("TicketingPages")){if(/^fifa(t|w)\-/.test(c))var p=c.split("-")[1],m=new RegExp("fifa(t|w)-"+p+"-"),h=c.split(".")[0].replace(m,"");else/^access(|w)\.tickets\.fifa\.com/.test(c)?(p=t.split(":")[2],/fac21.+?/.test(p)?p="arabcup":/fwc22.+?|fwcmaint/.test(p)?p="worldcup:qatar2022":/fwwc23.+?|fwwc23maint/.test(p)&&(p="womensworldcup:australia-new-zealand2023"),h="queue",t=""):(p=c.split(".")[1],h=c.split(".")[0]);var v=p+":tickets:"+h;v=(v+=":"+t).replace(/(lang:|_)[a-z]{2}$/,"").replace("lottery:",""),"fwc22"==p&&(v=(v+=u).replace(/:[0-9]+/g,""));var y={fwwc23:"womensworldcup:australia-new-zealand2023",fwc22:"worldcup:qatar2022",fcwc:"clubworldcup",fac21:"arabcup",fenc21:"fifae:fenc",fenc22:"fifae:fenc",":step:":":",":event:":"-","secured:":"","secure:":"","pkpcontroller:wp:":""};t=v.replace(/\b(?:fwwc23|fwc22|fcwc|fac21|fenc21|fenc22|:step:|:event:|secured:|secure:|pkpcontroller:wp:)\b/g,(function(e){return y[e]}))}else if(_satellite.getVar("FifaggPages"))v="fifae:fifagg:","www.fifa.gg"!=c&&(v+=c.replace(/\.fifa\.gg/,":")),/(password(:|_)reset|confirm_account):/.test(t)&&(t=t.substring(0,t.lastIndexOf(":"))),t=(t=v+t.replace(/:[A-Za-z0-9]{8}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{11,12}(:|$)/g,":")).replace(":dansk","");else if(/^(integrity.fifa.com|education(|-staging).sportradar.com)$/.test(c))t="about-fifa:legal:integrity:e-learning"+u,e&&console.log("### DE PN e-learning : ",t);else if(/^(staging|prelive)\.(|staging\.)fifatc\.sportradar\.com$/.test(c)||/fifatrainingcentre\.com(|\/)$/.test(c)||/^trainingcentre/.test(t))t="technical:fifa-training-centre:"+t.replace(/^trainingcentre/,"");else if(_satellite.getVar("TicketingFaqPages")){t=t.toLowerCase().replace(/[a-z]{2}-[a-z]{2}:/i,"");var b={arabcup2021:"arabcup",qatar2022:"worldcup",":case":":case-created"};t=(t=t.replace(/\b(?:arabcup2021|qatar2022|:case)\b/gi,(function(e){return b[e]}))||"").replace(/article.+/,"article:"),/faq:(article|category):$/.test(t)&&_satellite.getVar("DOMh1")&&(t=t+_satellite.getVar("DOMh1").replace(/ /g,"-")+":"),t="tickets:support:"+t.replace(/\//g,":"),e&&console.log("### DE PN ticketing support: ",t)}else/jobs\.fifa\.com/.test(c)?t="about-fifa:careers:"+t:_satellite.getVar("FifaPlusNFTPages")?(/^(collectible:\d+|marketplace:D[0-9]{2}-[0-9]{2}|pack-opening:[A-Za-z0-9]{8}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{12})(:|$)/.test(t)&&((v=t.split(":")).splice(1,1),t=v.join(":")),t=("fifaplus:collect:"+t+":"+u).replace("::",":")):_satellite.getVar("FifaPlusStoreQatarPages")&&(t="fifaplus:shop:store:qatar:"+t);return e&&console.log("### DE PN Create Page Name: ",t),t=t.replace(/:$/,"")+":"+a,e&&console.log("### DE PN nPageName: ",t),t}}},ddlUserStatus:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.status"}},ddlPageStatus:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.status"}},FifaPlusGamesPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^play(|-staging)\.fifa\.com$/.test(location.hostname)||/fifa-wc22.uat.f2p.media.geniussports.com/.test(location.host)}}},McPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=/mediacells.com/.test(window.location.hostname);return e&&console.log("#### DE - McPages:",t),t}}},ddlUserGender:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.gender"}},TeaID:{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=(_satellite.cookie.get("TEAL")||"").split("$"),t=0;t<e.length;t+=1)if(0===e[t].indexOf("v:"))var a=e[t].substring(2);return a}}},userStatus:{forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlUserStatus");if("1"==e?e="logged in":"0"==e&&(e="not logged in"),""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e="Login succeeded"==(a.loginStatus||"")?"logged in":"not logged in")}return e}}},ddlEventSocialType:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.event.socialType"}},URLadobe_mc:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"adobe_mc",caseInsensitive:!0}},pageParentID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlPageParentID");return""==e&&(pageID=_satellite.getVar("ddlPagexLangContentID")),""==e&&_satellite.getVar("TicketingFaqPages")&&(e=_satellite.getVar("pageID")),e}}},sysEnv:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t=window.location.hostname,a=(navigator.userAgent,new URLSearchParams(location.search.toLowerCase()));return _satellite.getVar("FifaComPages")||/^account(|-qa|-dev|-pre).fifa.com$/.test(t)?e="fifacom":_satellite.getVar("FifaPlusNFTPages")?e="app"==a.get("context")||a.get("adobe_mc")?"fifaPlusAppWebViewNft":"fifaPlusWebNft":_satellite.getVar("FifaPlusStoreQatarPages")?e="app"==a.get("context")||a.get("adobe_mc")?"fifaPlusAppWebViewStoreQatar":"fifaPlusWebStoreQatar":(e="microsite",("app"==a.get("context")||a.get("adobe_mc"))&&(sysEnv+="AppWebView")),e}}},userID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlUserID");if(""==e&&(e=_satellite.getVar("URLs_uid")),""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=a.ssoId)}if(""==e){var n=_satellite.cookie.get("app_vi");null!=n&&""!=n&&(e=n)}return e}}},URLAppView:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"appview",caseInsensitive:!0}},alfConfig:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=JSON.parse(sessionStorage.getItem("com.adobe.falConfig"))||""}catch(t){"production"!=_satellite.environment.stage&&console.log("#### FWDR trackAlbumAction. alConfig parse error, overwrite"),e=""}var t=_satellite.getVar("FifaPlusPages"),a=_satellite.getVar("OneTrustPreferences"),n={logging:/development|staging/.test(_satellite.environment.stage)||localStorage.getItem("com.adobe.alLogging")||!1,fifaplus:t,OTPrefs:a,uID:_satellite.getVar("userID"),uS:_satellite.getVar("userStatus"),uPID:_satellite.getVar("userProviderID"),tealId:_satellite.getVar("TeaID"),tSettings:{account:"fifacxm",profile:"main",dataSourceKey:"4fcjh8",endpoint:"",dataObjectName:"digitalData"},lotId:_satellite.getVar("LotID"),lTrackV:_satellite.getVar("linkTrackVars"),prodPages:_satellite.getVar("ProdPages"),mcPages:/mediacells.com/.test(location.hostname),Perf:/,2,/.test(a),Func:/,3,/.test(a),Tgt:/,4,/.test(a)};e?(n.dr=e.dr,n.uP=e.uP):(n.dr=document.referrer,n.uP=_satellite.getVar("URLParams")||{}),n.AnaPage=n.Perf,n.TealPage=n.Tgt,n.LotPage=!1,n.LotConsents={analytics:n.Tgt,crossdevice:n.Tgt,datasharing:n.Tgt,targeting:n.Tgt};var r=JSON.parse(localStorage.getItem("lotame_16003_consent"))||"";r=(r=(r=r.consent||"")[0]||"").types||"";for(var i=0;i<r.length;i++)if("targeting"==r[i].name){n.lotConsentResp=r[i].consent||"";break}n.GamPage=n.fifaplus&&n.Tgt,n.SsoPage=n.fifaplus&&/(login|auth).+?fifa\.com/.test(location.hostname),n.fpix=n.Tgt;var o=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"";if(""!=o&&n.AnaPage){n.g=o;var s=(o||"").split("country_code=");n.gc=(s[1]||"").substring(0,2).toLowerCase(),n.logging&&console.log("### FP falConfig alGeo Set:",o)}return/\.fifa\.com/.test(location.hostname)||(n.tSettings.cookie_domain=location.hostname),n.logging&&console.log("***FP falConfig:",n),sessionStorage.setItem("com.adobe.falConfig",JSON.stringify(n)),n}}},URLs_pid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_pid",caseInsensitive:!0}},ddlPageEdition:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.competitionEdition"}},ddlEntityName:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.entity.name"}},userDOB:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlUserDob").split("t")[0];if(""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";if("ACCOUNT_EVENTS"===dataLayer[t].event){var n=a.dateOfBirth||"";if(""!=n){function r(e){return e<=9?"0"+e:e}var i=new Date(n);e=i.getFullYear()+"-"+r(i.getMonth()+1)+"-"+r(i.getDate())}}}return e}}},userCountry:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlUserCountry");if(""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=(e=a.residenceCountryCode||"").toLowerCase())}return e}}},ProdPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=window.location.hostname,a=location.pathname,n=(/fifa\.com/.test(t)&&!/^(origin|static|img|css|js|hospitality).*fifa.com$/.test(t)||/fifaofficial\.cn|fifa\.gg/.test(t)||/fifatrainingcentre\.com(|\/)$/.test(t)||/fifa\.powerappsportals\.com/.test(t)||/origin1904(|.+?)-p\.cxm\.fifa\.com/.test(location.hostname)||/fifastore\.(qa|com)/.test(location.hostname))&&!(/.onmicrosoft.com\/|signuporsignin\/api/.test([t,a].join("/"))||/secutix|tickets/.test(t)&&/[a-z]{2}\/(header|footer).html$/.test(a)||/^fifat\-.+.\-.secutix.com$/.test(t));return e&&console.log("#### DE - prodPages:",n,t,a),n}}},ddlPageID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageID"}},LoggingL1:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/development|staging/.test(_satellite.environment.stage)}}},TealiumExtensionSettings:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.getVar("ProdPages")||_satellite.getVar("FifaPlusPages"))var e={account:"fifacxm",profile:"main",dataSourceKey:"4fcjh8",endpoint:"",dataObjectName:"digitalData"};else e={account:"fifacxm",profile:"sandbox",dataSourceKey:"yx8yyj",endpoint:"",dataObjectName:"digitalData"};return/\.fifa\.com/.test(location.hostname)||(e.cookie_domain=location.hostname),e}}},ddlUserCountry:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.country"}},TicketingPages:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/\-(shop|lottery)\.secutix\.com|(\.|-)tickets\.fifa\.com$/.test(location.hostname)}}},URLcid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!0}},ddlAssets:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.assets"}},sessionID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(/\.fifa\.com$/.test(location.host))var e=".fifa.com";else e=location.host;var t=_satellite.cookie.get("adobeSessionCookie");if(!t){var a=(new Date).getTime();t=Math.random().toString(24).substring(2,12)+Math.random().toString(24).substring(2,12)+a}return _satellite.cookie.set("adobeSessionCookie",t,{expires:.0208333,domain:e,path:"/"}),t}}},userProviderID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=(e=a.userId||"").toLowerCase())}return e}}},ddlEventType:{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.event.eventType"}},GoogleAdIds:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"23775277:fifa.com;36306753:fifa.com;23853517:adidas;105147157:alfa-bank;4582890605:alrosa;23874037:budweiser;34417477:coca-cola;58854397:gazprom;34748677:hyundai;35777197:kia;37355677:mcdonalds;35950237:panini;4453139949:qatar airways;24201997:test;23853277:visa;4589555901:vivo;4561676845:wanda;4577827620:hisense;2756885921:fan-movement-ros;2822813685:FIFAe Club World Cup-ROS;191121757:house-rotation;2752856840:integrity-ros;2480303944:technology-ros;2803776943:podcast-play-on-ros;202085313:the-club-house"}}},FifaPlusPages:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/(plus\.fifa\.com|fifaplus-.+?\.cxm\.fifa\.com|-fifaplus\.azurewebsites\.net)$/.test(location.hostname)||/^origin1904.fifa.com$/.test(location.hostname)||/(^|www\.)fifa.com\/fifaplus/.test(location.hostname+location.pathname)||/(login|auth).+?fifa\.com/.test(location.hostname)}}},ddlPagexLangContentID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.xLangContentID"}},URLintcmp:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"intcmp",caseInsensitive:!0}},pageLanguage:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=(document.documentElement.lang||"").toLowerCase();if(e&&console.log("#### DE pageLanguage 2021-05-11 1200 - Ini. Lang=",t),2!=t.length)if("hi-in"==t)t="ar";else if(/^[a-z]{2}\-[a-z]{2}/.test(t))t=t.substring(0,2);else if(/fifaofficial.cn$/.test(window.location.hostname))t="cn";else{var a=_satellite.getVar("ddlPageLanguage");if(""!=a)t=a;else{var n=location.pathname.replace(/\//g,":").substring(1);t=/^[a-z]{2}(|\:)$/.test(n)?n.split(":")[0]:"unknown"}}else"qa"==t&&(t="ar");return e&&console.log("#### DE pageLanguage - End. Lang=",t),t}}},URLs_uid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"s_uid",caseInsensitive:!0}},userLang:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlUserLanguage");if(""==e&&"undefined"!=typeof dataLayer)for(var t=dataLayer.length-1;t>=0;t--)if(void 0!==dataLayer[t].event){var a=(dataLayer[t]["event-data"]||"").user||"";"ACCOUNT_EVENTS"===dataLayer[t].event&&(e=a.language)}return e}}},FifaggPages:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!1,t=location.hostname,a=/^(www\.|login\.|dev\-.+?|)fifa(\.|)gg($|\-)/.test(t)||/\.fifa\.gg$/.test(t);return e&&console.log("DE FifaggPages, hostname",a,t),/^(www\.|login\.|dev\-.+?|)fifa(\.|)gg($|\-)/.test(t)||/\.fifa\.gg($|\/)/.test(t)}}},ddlUserID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.id"}},ddlUserDob:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.dob"}},TicketingFaqPages:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.hostname;return/^(ticketsupport|ticketingfaq)(|\-dev|\-uat)\.fifa\.com|^fifa(|\-dev|-uat)\.powerappsportals\.com/.test(e)}}},ddlPageName:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageName"}},pageParentTitle:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("ddlPageParentTitle");return""==e&&(pageID=_satellite.getVar("ddlPageContentName")),""==e&&_satellite.getVar("TicketingFaqPages")?e=_satellite.getVar("DOMh1"):""==e&&/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/($|(|.+\/)(photos|videos)\/)/.test([location.hostname,location.pathname].join(""))&&(e=location.hash.replace(/#/g,"")),e}}},ddlUserLanguage:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.language"}},URLid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"id",caseInsensitive:!0}},ddlPageSlug:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageSlug"}},ddlPageParentID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageParentID"}},URLcreated:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"created",caseInsensitive:!0}},ddlPageContentID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.contentID"}},ddlEntityID:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.attributes.entity.id"}},linkTrackVars:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"events,pageName,channel,eVar15,eVar51,eVar52,eVar53,eVar5,eVar7,eVar8,eVar9,eVar11,eVar12,eVar16,eVar22,eVar24,eVar25,eVar26,eVar27,eVar28,eVar29,eVar32,eVar34,eVar43,eVar46,eVar55,eVar56,eVar65,eVar66,eVar68,eVar69,eVar70,eVar81,eVar93,eVar94,eVar95,eVar99,prop74"}}},AdobeOptIns:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("OneTrustPreferences"),t=/,2,/.test(e);return{aa:t,aam:!1,ecid:t,mediaaa:t}}}}},extensions:{"adobe-media-analytics":{displayName:"Adobe Media Analytics (3.x SDK) for Audio and Video",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd9a187e9632d49738559339a913561f0/",settings:{ssl:!0,channel:"",appVersion:"",playerName:"Theo",debugLogging:!1,trackingServer:"fifa.hb-api.omtrdc.net",exportNamespace:"ADB"},modules:{"adobe-media-analytics/src/lib/sharedModules/media.js":{name:"media",shared:!0,script:function(e,t,a,n){"use strict"
;var r=a("../helpers/configure"),i=a("../helpers/exportGlobal"),o=a("../helpers/mediaAPI"),s=n.getExtensionSettings(),l=n.getSharedModule("adobe-analytics","get-tracker");n.logger.info("Configuring MediaSDK"),r(s,l).catch((function(e){n.logger.error("Error configuring MediaSDK: "+e)})),i(s),e.exports=o}},"adobe-media-analytics/src/lib/helpers/configure.js":{script:function(e,t,a){"use strict";function n(e){var t=new s;return t.trackingServer=e.trackingServer,t.appVersion=e.appVersion,t.debugLogging=e.debugLogging,t.ssl=e.ssl,t.channel=e.channel,t.playerName=e.playerName,"string"==typeof t.playerName&&""!==t.playerName||(t.playerName="unknown"),t}var r=a("@adobe/reactor-promise"),i=a("../codeLibrary/MediaSDK"),o=i.Media,s=i.MediaConfig;e.exports=function(e,t){return r.resolve().then((function(){if(!t)throw new Error("Error getting a reference to Analytics shared module. Make sure Adobe Analytics Extension is configured properly.");return t().then((function(t){var a=n(e);o.configure(a,t)}))}))}}},"adobe-media-analytics/src/lib/helpers/exportGlobal.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-window"),i=(a("@adobe/reactor-object-assign"),a("./mediaAPI"));e.exports=function(e){try{var t=e&&e.exportNamespace;if(t)if(void 0===r[t]||"object"==typeof r[t]&&!r[t])r[t]=Object.freeze({Media:i});else{var a='Exporting APIs to Browser window["'+t+'"] failed as it is not null/undefined.';n.logger.error(a)}}catch(e){a='Exporting APIs to Browser window["'+t+'"] failed with reason'+e.message+".",n.logger.error(a)}}}},"adobe-media-analytics/src/lib/helpers/mediaAPI.js":{script:function(e,t,a){"use strict";var n=a("../codeLibrary/MediaSDK").Media,r={Event:n.Event,MediaType:n.MediaType,StreamType:n.StreamType,PlayerState:n.PlayerState,MediaObjectKey:n.MediaObjectKey,VideoMetadataKeys:n.VideoMetadataKeys,AudioMetadataKeys:n.AudioMetadataKeys,AdMetadataKeys:n.AdMetadataKeys,version:n.version,createMediaObject:n.createMediaObject,createAdBreakObject:n.createAdBreakObject,createAdObject:n.createAdObject,createChapterObject:n.createChapterObject,createQoEObject:n.createQoEObject,createStateObject:n.createStateObject,getInstance:n.getInstance};e.exports=Object.freeze(r)}},"adobe-media-analytics/src/lib/codeLibrary/MediaSDK.js":{script:function(e,t){var a,n;a=this,n=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){var e=0;return{getUniqueId:function(){return e+=1}}}function g(){return(new Date).getTime()}function f(e,t){if(window.console){var a;switch(e){case D.Log:a=window.console.log;break;case D.Info:a=window.console.info;break;case D.Warn:a=window.console.warn;break;case D.Error:a=window.console.error}a&&a("MediaSDK: ["+function(){var e=new Date,t=function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(e.getMilliseconds());return e.toTimeString()+"."+t}()+"] "+t)}}function p(e,t){return setInterval(e,t)}function m(e){var t=e.debugLogging;O(t)&&(x=t)}function h(e,t,a){(x||e===D.Error)&&f(e,t+" "+a)}function v(e){var t=N(e)?"["+e+"]":"";return{log:function(e){!function(e,t){h(D.Log,e,t)}(t,e)},info:function(e){!function(e,t){h(D.Info,e,t)}(t,e)},warn:function(e){!function(e,t){h(D.Warn,e,t)}(t,e)},error:function(e){!function(e,t){h(D.Error,e,t)}(t,e)}}}function y(e){var t={};return M(e)&&Object.keys(e).forEach((function(a){var n=e[a],r=n.id,i=n.authState,o=void 0===i?0:i;N(r)&&(t[a]={id:r,authState:o})})),t}function b(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r({},Y.EventType,e.eventType);n[Y.PlayerTime]=(r(t={},K.Playhead,e.playhead),r(t,K.Ts,e.ts),t),X(e.customMetadata)||(n[Y.CustomMetadata]=e.customMetadata),X(e.qoeData)||(n[Y.QoE]=e.qoeData);var i=o({},e.params);if(e.eventType===j.SessionStart){N(a[F.AnalyticsTrackingServer])&&(i[q.AnalyticsTrackingServer]=a[F.AnalyticsTrackingServer]),N(a[F.Rsid])&&(i[q.AnalyticsRsid]=a[F.Rsid]),O(a[F.AnalyticsSsl])&&(i[q.AnalyticsSsl]=a[F.AnalyticsSsl]),N(a[F.Vid])&&(i[q.AnalyticsVisitorId]=a[F.Vid]),N(a[F.Aid])&&(i[q.AnalyticsAid]=a[F.Aid]),N(a[F.McOrgId])&&(i[q.VisitorMcOrgId]=a[F.McOrgId]),N(a[F.Mcid])&&(i[q.VisitorMcuserId]=a[F.Mcid]),ee(a[F.AamLocHint])&&(i[q.VisitorAamLocHint]=a[F.AamLocHint]);var s=y(a[F.CustomerIds]);if(M(s)&&!X(s)&&(i[q.VisitorCustomerIds]=s),!N(i[G.Channel])){var l=a[F.MediaChannel];i[G.Channel]=N(l)?l:"unknown"}var c=a[F.MediaPlayerName];i[G.PlayerName]=N(c)?c:"unknown",N(a[F.MediaAppVersion])&&(i[G.SdkVersion]=a[F.MediaAppVersion]),i[q.MediaVersion]="js-extn-3.0.2"}else if(e.eventType===j.AdStart){var d=a[F.MediaPlayerName];i[$.PlayerName]=N(d)?d:"unknown"}return X(i)||(n[Y.Params]=i),ae((function(){return JSON.stringify(n)}),"")}function _(e){try{var t=e.split("/");return t[4]?t[4]:""}catch(e){return""}}var P=Object.freeze({AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"}),C=Object.freeze({MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"}),S=Object.freeze({Video:"video",Audio:"audio"}),k=Object.freeze({FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"}),E=Object.freeze({Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"}),I=Object.freeze({Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"}),V=Object.freeze({Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"}),A=Object.freeze({VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"}),T=Object.freeze({OptOut:"optout",OptIn:"optin",OptUnknown:"optunknown"}),w=function(e){return null==e},D=Object.freeze({Log:"log",Info:"info",Warn:"warn",Error:"error"}),O=function(e){return"boolean"==typeof e},L=function(e){return"string"==typeof e},N=function(e){return L(e)&&e.length>0},M=function(t){return!w(t)&&!Array.isArray(t)&&"object"===e(t)},x=!1,F=Object.freeze({AnalyticsTrackingServer:"analyticstrackingserver",AnalyticsSsl:"analyticsssl",Rsid:"rsid",Vid:"vid",Aid:"aid",Mcid:"mid",McOrgId:"orgid",AamLocHint:"aamlochint",CustomerIds:"customerids",MediaTrackingServer:"mediatrackingserver",MediaChannel:"mediachannel",MediaPlayerName:"mediaplayername",MediaAppVersion:"mediaappversion",MediaSsl:"mediassl"}),R=Object.freeze({Get:"GET",Post:"POST"}),j=Object.freeze({SessionStart:"sessionStart",SessionComplete:"sessionComplete",SessionEnd:"sessionEnd",AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",Play:"play",Ping:"ping",BufferStart:"bufferStart",PauseStart:"pauseStart",BitrateChange:"bitrateChange",Error:"error",StateStart:"stateStart",StateEnd:"stateEnd"}),B=Object.freeze({Show:"media.show",Season:"media.season",Episode:"media.episode",AssetId:"media.assetId",Genre:"media.genre",FirstAirDate:"media.firstAirDate",FirstDigitalDate:"media.firstDigitalDate",Rating:"media.rating",Originator:"media.originator",Network:"media.network",ShowType:"media.showType",AdLoad:"media.adLoad",MVPD:"media.pass.mvpd",Auth:"media.pass.auth",DayPart:"media.dayPart",Feed:"media.feed",StreamFormat:"media.streamFormat",Artist:"media.artist",Album:"media.album",Label:"media.label",Author:"media.author",Station:"media.station",Publisher:"media.publisher"}),U=Object.freeze({Advertiser:"media.ad.advertiser",CampaignId:"media.ad.campaignId",CreativeId:"media.ad.creativeId",SiteId:"media.ad.siteId",CreativeUrl:"media.ad.creativeURL",PlacementId:"media.ad.placementId"}),G=Object.freeze({Id:"media.id",Name:"media.name",Length:"media.length",ContentType:"media.contentType",StreamType:"media.streamType",PlayerName:"media.playerName",Resume:"media.resume",Channel:"media.channel",Publisher:"media.publisher",SdkVersion:"media.sdkVersion"}),q=Object.freeze({AppInstallationId:"appInstallationId",AnalyticsTrackingServer:"analytics.trackingServer",AnalyticsRsid:"analytics.reportSuite",AnalyticsSsl:"analytics.enableSSL",AnalyticsVisitorId:"analytics.visitorId",AnalyticsAid:"analytics.aid",VisitorMcOrgId:"visitor.marketingCloudOrgId",VisitorMcuserId:"visitor.marketingCloudUserId",VisitorAamLocHint:"visitor.aamLocationHint",VisitorCustomerIds:"visitor.customerIDs",VisitorCustomerKeyId:"id",VisitorCustomerKeyAuthState:"authState",MediaVersion:"media.libraryVersion"}),H=Object.freeze({Channel:"media.channel"}),z=Object.freeze({PodFriendlyName:"media.ad.podFriendlyName",PodIndex:"media.ad.podIndex",PodSecond:"media.ad.podSecond"}),$=Object.freeze({Name:"media.ad.name",Id:"media.ad.id",Length:"media.ad.length",PodPosition:"media.ad.podPosition",PlayerName:"media.ad.playerName"}),J=Object.freeze({FriendlyName:"media.chapter.friendlyName",Length:"media.chapter.length",Offset:"media.chapter.offset",Index:"media.chapter.index"}),W=Object.freeze({StateName:"media.state.name"}),Q=Object.freeze({Bitrate:"media.qoe.bitrate",DroppedFrames:"media.qoe.droppedFrames",Fps:"media.qoe.framesPerSecond",StartupTime:"media.qoe.timeToStart",ErrorId:"media.qoe.errorID",ErrorSource:"media.qoe.errorSource",ErrorSourcePlayer:"player",ErrorSourceExternal:"external"}),Y=Object.freeze({EventType:"eventType",Params:"params",QoE:"qoeData",CustomMetadata:"customMetadata",PlayerTime:"playerTime"}),K=Object.freeze({Playhead:"playhead",Ts:"ts"}),X=function(e){return 0===Object.keys(e).length},Z=function(e){return"number"==typeof e&&!isNaN(e)},ee=function(e){var t=parseInt(e,10);return Z(t)&&e===t},te=function(e){return"function"==typeof e},ae=function(e,t){if(!te(e))return t;try{return e()}catch(e){return t}},ne=[F.AnalyticsTrackingServer,F.AnalyticsSsl,F.Rsid,F.Vid,F.Aid,F.Mcid,F.McOrgId,F.AamLocHint,F.CustomerIds,F.MediaChannel,F.MediaAppVersion,F.MediaPlayerName,F.MediaTrackingServer,F.MediaSsl],re={"Content-Type":"application/json"},ie=function(){function e(a){t(this,e),this._logger=v("MediaSession("+a+")"),this._hits=[],this._ecParams=null,this._sessionId=null,this._creatingMCSession=!1,this._createSessionFailureCount=0,this._internalError=!1,this._doneQueuing=!1}return n(e,[{key:"queue",value:function(e){this._internalError||this._doneQueuing||this._hits.push(e)}},{key:"process",value:function(e){this._internalError||0!==this._hits.length&&e.isReady()&&(this._ecParams||(this._ecParams=e.resolveKeys(ne)),w(this._sessionId)?this._startMCSession():this._flushPendingHits())}},{key:"end",value:function(){this._logger.log("end"),this._doneQueuing=!0}},{key:"abort",value:function(){this._logger.log("abort"),this._doneQueuing=!0,this._hits=[]}},{key:"doneProcessing",value:function(){return this._internalError||this._doneQueuing&&0===this._hits.length}},{key:"_startMCSession",value:function(){var e=this;if(!this._creatingMCSession){var t=this._hits[0];if(t.eventType!==j.SessionStart)return this._logger.log("Dropping hit("+t.eventType+") as we expected sessionStart"),void this._hits.shift();var a,n=((a=this._ecParams)[F.MediaSsl]?"https":"http")+"://"+a[F.MediaTrackingServer]+"/api/v1/sessions",r=b(t,this._ecParams);this._creatingMCSession=!0,this._sendRequest(n,R.Post,re,r,(function(t,a){var n,r=!1;do{if(201!==t)break;var i=a.location;if(!N(i))break;if(!(n=_(i)))break;r=!0}while(0);r?(e._logger.log("Media collection session created with session id :  "+n),e._sessionId=n,e._hits.shift()):(e._logger.log("Creating Media collection session failed"),e._createSessionFailureCount+=1,e._createSessionFailureCount>=3&&(e._logger.log("Internal error: Creating Media collection session failed 3 times"),e._internalError=!0)),e._creatingMCSession=!1}))}}},{key:"_flushPendingHits",value:function(){var e=this;this._hits.splice(0,3).forEach((function(t){var a,n,r=(a=e._ecParams,n=e._sessionId,(a[F.MediaSsl]?"https":"http")+"://"+a[F.MediaTrackingServer]+"/api/v1/sessions/"+n+"/events"),i=b(t,e._ecParams);e._sendRequest(r,R.Post,re,i,(function(){}))}))}},{key:"_sendRequest",value:function(e,t,a,n,r){!function(e,t,a,n,r){if(void 0!==window.XMLHttpRequest){var i=new window.XMLHttpRequest;if("withCredentials"in i){var o=i;return o.open(t,e,!0),M(a)&&Object.keys(a).forEach((function(e){o.setRequestHeader(e,a[e])})),o.timeout=5e3,o.onload=function(){var e=o.status&&parseInt(o.status,10),t=o.responseText,a=function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach((function(e){var a=e.split(":",1)[0],n=e.substring(a.length+2);a.length>0&&(t[a.toLowerCase()]=n)}))}catch(e){}return t}(o.getAllResponseHeaders());r(e,a,t)},o.onerror=function(){r(0)},void o.send(n)}r(0)}}(e,t,a,n,r)}}]),e}(),oe=function(){function e(){t(this,e),this._logger=v("MediaProcessor"),this._isConfigured=!1,this._privacyStatus=T.OptUnknown,this._sessionIdGenerator=u(),this._sessionMap={}}return n(e,[{key:"configure",value:function(e){var t=this;this._isConfigured||(this._ecResolver=e,this._privacyStatus=this._ecResolver.getPrivacyStatus(),this._ecResolver.notifyPrivacyChange(this._onPrivacyChange.bind(this)),this._isConfigured=!0,this._processSessionTimer=p((function(){t._tick()}),500),this._logger.log("Configured with resolver"))}},{key:"startSession",value:function(){if(this._privacyStatus===T.OptOut)return this._logger.log("Privacy is opted out. Not starting a session"),-1;var t=this._sessionIdGenerator.getUniqueId();return this._sessionMap[t]=e._createMediaSession(t),t}},{key:"processHit",value:function(e,t){if(-1!==e){var a=this._sessionMap[e];w(a)||(this._logger.log("Process hit for session("+e+") => "+t),a.queue(t))}}},{key:"endSession",value:function(e){if(-1!==e){var t=this._sessionMap[e];w(t)||t.end()}}},{key:"_tick",value:function(){var e=this;Object.keys(this._sessionMap).forEach((function(t){var a=e._sessionMap[t];a.process(e._ecResolver),a.doneProcessing()&&(e._logger.log("Removing session "+t+" from store as it has finished processing"),delete e._sessionMap[t])}))}},{key:"_onPrivacyChange",value:function(e){var t=this;this._logger.log("Privacy switched to "+e),this._privacyStatus=e,e===T.OptOut&&(this._logger.log("Aborting all active sessions"),Object.keys(this._sessionMap).forEach((function(e){t._sessionMap[e].abort()})))}}],[{key:"_createMediaSession",value:function(e){return new ie(e)}}]),e}(),se=function(){function e(a){var n=a.id,r=a.name,i=a.position,o=a.length;if(t(this,e),!N(n))throw new TypeError("id is not a valid string");if(!N(r))throw new TypeError("name is not a valid string");if(!ee(i)||i<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.id=n,this.name=r,this.position=i,this.length=o}return n(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.id===t.id&&this.name===t.name&&this.position===t.position&&this.length===t.length}},{key:"serialize",value:function(){var e;return r(e={},"ad.id",this.id),r(e,"ad.name",this.name),r(e,"ad.position",this.position),r(e,"ad.length",this.length),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({id:t["ad.id"],name:t["ad.name"],position:t["ad.position"],length:t["ad.length"]})}),null):null}}]),e}(),le=function(){function e(a){var n=a.name,r=a.position,i=a.startTime;if(t(this,e),!N(n))throw new TypeError("name is not a valid string");if(!ee(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(i)||i<0)throw new TypeError("startTime cannot be less than zero");this.name=n,this.position=r,this.startTime=i}return n(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.name===t.name&&this.position===t.position&&this.startTime===t.startTime}},{key:"serialize",value:function(){var e;return r(e={},"adbreak.name",this.name),r(e,"adbreak.position",this.position),r(e,"adbreak.starttime",this.startTime),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({name:t["adbreak.name"],position:t["adbreak.position"],startTime:t["adbreak.starttime"]})}),null):null}}]),e}(),ce=function(){function e(a){var n=a.name,r=a.position,i=a.startTime,o=a.length;if(t(this,e),!N(n))throw new TypeError("name is not a valid string");if(!ee(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(i)||i<0)throw new TypeError("startTime cannot be less than zero");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.name=n,this.position=r,this.startTime=i,this.length=o}return n(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.name===t.name&&this.position===t.position&&this.startTime===t.startTime&&this.length===t.length}},{key:"serialize",value:function(){var e;return r(e={},"chapter.name",this.name),r(e,"chapter.position",this.position),r(e,"chapter.starttime",this.startTime),r(e,"chapter.length",this.length),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({name:t["chapter.name"],position:t["chapter.position"],startTime:t["chapter.starttime"],length:t["chapter.length"]})}),null):null}}]),e}(),de=new RegExp("^[a-zA-Z0-9_\\.]{1,64}$"),ue=function(){function e(a){var n=a.name;if(t(this,e),!N(n))throw new TypeError("name is not a valid string");if(!de.test(n))throw new TypeError("name should match '^[a-zA-Z0-9_\\.]{1,64}$' pattern");this.name=n}return n(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.name===t.name}},{key:"serialize",value:function(){return r({},"customstate.name",this.name)}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({name:t["customstate.name"]})}),null):null}}]),e}(),ge=function(){function e(a){var n=a.id,r=a.name,i=a.streamType,o=a.mediaType,s=a.length,l=a.resumed,c=a.prerollWaitTime,d=a.granularAdTracking;if(t(this,e),!N(n))throw new TypeError("id is not a valid string");if(!N(r))throw new TypeError("name is not a valid string");if(!N(i))throw new TypeError("streamType is not a valid string");if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.id=n,this.name=r,this.streamType=i,this.mediaType=o!==S.Audio?S.Video:o,this.length=s,this.resumed=!!O(l)&&l,this.prerollWaitTime=!ee(c)||c<0?250:c,this.granularAdTracking=!!O(d)&&d}return n(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.id===t.id&&this.name===t.name&&this.streamType===t.streamType&&this.mediaType===t.mediaType&&this.length===t.length&&this.resumed===t.resumed&&this.prerollWaitTime===t.prerollWaitTime&&this.granularAdTracking===t.granularAdTracking}},{key:"serialize",value:function(){var e;return r(e={},"media.id",this.id),r(e,"media.name",this.name),r(e,"media.streamtype",this.streamType),r(e,"media.type",this.mediaType),r(e,"media.length",this.length),r(e,"media.resumed",this.resumed),r(e,"media.prerollwaittime",this.prerollWaitTime),r(e,"media.granularadtracking",this.granularAdTracking),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({id:t["media.id"],name:t["media.name"],streamType:t["media.streamtype"],mediaType:t["media.type"],length:t["media.length"],resumed:t["media.resumed"],prerollWaitTime:t["media.prerollwaittime"],granularAdTracking:t["media.granularadtracking"]})}),null):null}}]),e}(),fe=function(){function e(a){var n=a.bitrate,r=a.droppedFrames,i=a.fps,o=a.startupTime;if(t(this,e),!Z(n)||n<0)throw new TypeError("bitrate must not be less than zero");if(!Z(r)||r<0)throw new TypeError("dropped frames must not be less than zero");if(!Z(i)||i<0)throw new TypeError("fps must not be less than zero");if(!Z(o)||o<0)throw new TypeError("startupTime must not be less than zero");this.bitrate=n,this.droppedFrames=r,this.fps=i,this.startupTime=o}return n(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.bitrate===t.bitrate&&this.droppedFrames===t.droppedFrames&&this.fps===t.fps&&this.startupTime===t.startupTime}},{key:"serialize",value:function(){var e;return r(e={},"qoe.bitrate",this.bitrate),r(e,"qoe.droppedframes",this.droppedFrames),r(e,"qoe.fps",this.fps),r(e,"qoe.startuptime",this.startupTime),e}}],[{key:"deserialize",value:function(t){return M(t)?ae((function(){return new e({bitrate:t["qoe.bitrate"],droppedFrames:t["qoe.droppedframes"],fps:t["qoe.fps"],startupTime:t["qoe.startuptime"]})}),null):null}}]),e}(),pe=v("Media"),me=function(e){try{return JSON.stringify(e,null,4)}catch(e){return"[Error formatting object]"}},he=Object.freeze({Name:"event.name",Params:"event.params",Metadata:"event.metadata",TimeStamp:"event.ts",InternalEvent:"event.internal",Playhead:"event.playhead",ErrorId:"error.id"}),ve=Object.freeze(o({SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pause",Error:"error",QoEUpdate:"qoeUpdate",PlayheadUpdate:"playheadUpdate"},P)),ye=function(){function e(a,n){if(t(this,e),w(a))throw new Error("id is not valid");this.id=a,this.description=n,this.predicates=[],this.actions=[]}return n(e,[{key:"addPredicate",value:function(e,t,a){if(!te(e))throw new Error("predicate is not a function");return this.predicates.push({predicate:e,val:t,message:a}),this}},{key:"addAction",value:function(e){if(!te(e))throw new Error("action is not a function");return this.actions.push(e),this}},{key:"runPredicates",value:function(e){for(var t=0;t<this.predicates.length;++t){var a=this.predicates[t];if(a.predicate(e)!==a.val)return{success:!1,message:a.message}}return{success:!0,message:""}}},{key:"runActions",value:function(e){for(var t=0;t<this.actions.length;++t)if(!(0,this.actions[t])(e))return!1;return!0}}]),e}(),be=function(){function e(a){if(t(this,e),!a)throw new Error("RuleEngine needs a logger");this.logger=a,this.rules={}}return n(e,[{key:"setEnterAction",value:function(e){if(!te(e))throw new Error("enterAction is not a function");this.enterAction=e}},{key:"setExitAction",value:function(e){if(!te(e))throw new Error("exitAction is not a function");this.exitAction=e}},{key:"addRule",value:function(e){if(!(e instanceof ye))throw new Error("rule is not valid");this.rules[e.id]=e}},{key:"processRule",value:function(e,t){var a=this.rules[e];if(!a)return{success:!1,message:"Matching rule is not found"};var n=a.runPredicates(t);do{if(!n.success){this.logger.log("RuleEngine: Predicates failed for rule "+a.description+" : "+n.message);break}if(this.enterAction&&!this.enterAction(a,t)){this.logger.log("RuleEngine: Enter action prevents further processing for rule "+a.description);break}if(!a.runActions(t)){this.logger.log("RuleEngine: Rule action prevents further processing for rule "+a.description);break}this.exitAction&&this.exitAction(a,t)}while(0);return n}}]),e}(),_e=Object.freeze({Init:0,Play:1,Pause:2,Buffer:3,Seek:4,Stall:5}),Pe=function(){function e(a,n){t(this,e),this._mediaInfo=a,this._mediaMetadata=n,this._adBreakInfo=null,this._adInfo=null,this._adMetadata=null,this._chapterInfo=null,this._chapterMetadata=null,this._qoeInfo=null,this._playhead=0,this._playstate=_e.Init,this._buffering=!1,this._seeking=!1,this._customStates=new Map}return n(e,[{key:"setAdBreakInfo",value:function(e){this._adBreakInfo=e}},{key:"clearAdBreakInfo",value:function(){this._adBreakInfo=null}},{key:"setAdInfo",value:function(e,t){this._adInfo=e,this._adMetadata=t}},{key:"clearAdInfo",value:function(){this._adInfo=null,this._adMetadata=null}},{key:"setChapterInfo",value:function(e,t){this._chapterInfo=e,this._chapterMetadata=t}},{key:"clearChapterInfo",value:function(){this._chapterInfo=null,this._chapterMetadata=null}},{key:"enterPlaybackState",value:function(e){switch(e){case _e.Play:case _e.Pause:case _e.Stall:this._playstate=e;break;case _e.Buffer:this._buffering=!0;break;case _e.Seek:this._seeking=!0}}},{key:"exitPlaybackState",value:function(e){switch(e){case _e.Buffer:this._buffering=!1;break;case _e.Seek:this._seeking=!1}}},{key:"isInPlaybackState",value:function(e){var t=!1;switch(e){case _e.Init:case _e.Play:case _e.Pause:case _e.Stall:t=this._playstate===e;break;case _e.Buffer:t=this._buffering;break;case _e.Seek:t=this._seeking}return t}},{key:"isIdle",value:function(){return!this.isInPlaybackState(_e.Play)||this.isInPlaybackState(_e.Seek)||this.isInPlaybackState(_e.Buffer)}},{key:"startCustomState",value:function(e){this._customStates.set(e.name,e)}},{key:"endCustomState",value:function(e){this._customStates.set(e.name,null)}},{key:"isCustomStateActive",value:function(e){return!!this._customStates.get(e.name)}},{key:"getActiveCustomStates",value:function(){var e=[];return this._customStates.forEach((function(t){t&&e.push(t)})),e}},{key:"hasTrackedCustomState",value:function(e){return this._customStates.has(e.name)}},{key:"numTrackedCustomStates",value:function(){return this._customStates.size}},{key:"mediaInfo",get:function(){return this._mediaInfo}},{key:"mediaMetadata",get:function(){return this._mediaMetadata}},{key:"isInAdBreak",get:function(){return!!this._adBreakInfo}},{key:"adBreakInfo",get:function(){return this._adBreakInfo}},{key:"isInAd",get:function(){return!!this._adInfo}},{key:"adInfo",get:function(){return this._adInfo}},{key:"adMetadata",get:function(){return this._adMetadata}},{key:"isInChapter",get:function(){return!!this._chapterInfo}},{key:"chapterInfo",get:function(){return this._chapterInfo}},{key:"chapterMetadata",get:function(){return this._chapterMetadata}},{key:"qoeInfo",get:function(){return this._qoeInfo},set:function(e){this._qoeInfo=e}},{key:"playhead",get:function(){return this._playhead},set:function(e){this._playhead=e}}]),e}(),Ce=function(){function e(a){var n=a.eventType,r=a.params,i=a.customMetadata,o=a.qoeData,s=a.playhead,l=a.ts;if(t(this,e),!L(n))throw new Error("eventType should be a valid string");if(!Z(s))throw new Error("playhead should be a valid number");if(!ee(l)||l<0)throw new Error("ts should be a valid positive integer");this.eventType=n,this.params=M(r)?r:{},this.customMetadata=M(i)?i:{},this.qoeData=M(o)?o:{},this.playhead=s,this.ts=l}return n(e,[{key:"toString",value:function(){return me(this)}}]),e}(),Se=function(){function e(a,n,r,i,o){t(this,e),this._logger=a,this._hitProcessor=n,this._config=r,this._media=i,this._refTs=o,this._previousState=_e.Init,this._previousStateTs=o,this._interval=1e4,this._lastQoeInfo=null,this._startSession()}return n(e,[{key:"setRefTS",value:function(e){this._refTs=e}},{key:"processMediaStart",value:function(){this._processMediaStart(!1)}},{key:"processMediaComplete",value:function(){this._generateHit(j.SessionComplete),this._endSession()}},{key:"processMediaSkip",value:function(){this._generateHit(j.SessionEnd),this._endSession()}},{key:"processAdBreakStart",value:function(){var t=e._extractAdBreakParams(this._media);this._generateHit(j.AdBreakStart,t,{})}},{key:"processAdBreakComplete",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdBreakSkip",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdStart",value:function(){e._isGranularAdTrackingEnabled(this._media)&&(this._interval=1e3);var t=e._extractAdParams(this._media),a=e._extractAdMetadata(this._media);this._generateHit(j.AdStart,t,a)}},{key:"processAdComplete",value:function(){this._interval=1e4,this._generateHit(j.AdComplete)}},{key:"processAdSkip",value:function(){this._interval=1e4,this._generateHit(j.AdSkip)}},{key:"processChapterStart",value:function(){var t=e._extractChapterParams(this._media),a=e._extractChapterMetadata(this._media);this._generateHit(j.ChapterStart,t,a)}},{key:"processChapterComplete",value:function(){this._generateHit(j.ChapterComplete)}},{key:"processChapterSkip",value:function(){this._generateHit(j.ChapterSkip)}},{key:"processCustomStateStart",value:function(e){var t={};t[W.StateName]=e.name,this._generateHit(j.StateStart,t,{},{})}},{key:"processCustomStateEnd",value:function(e){var t={};t[W.StateName]=e.name,this._generateHit(j.StateEnd,t,{},{})}},{key:"processSessionAbort",value:function(){this.processMediaSkip()}},{key:"processSessionRestart",value:function(){this._previousState=_e.Init,this._previousStateTs=this._refTs,this._lastQoeInfo=null,this._startSession(),this.processMediaStart(!0),this._media.isInChapter&&this.processChapterStart(),this._media.isInAdBreak&&this.processAdBreakStart(),this._media.isInAd&&this.processAdStart();var e,t=this._media.getActiveCustomStates();for(e=0;e<t.length;e++)this.processCustomStateStart(t[e]);this.processPlayback(!0)}},{key:"processBitrateChange",value:function(){var t=e._extractQoeData(this._media);this._generateHit(j.BitrateChange,{},{},t)}},{key:"processError",value:function(t){var a=e._extractQoeData(this._media);a[Q.ErrorId]=t,a[Q.ErrorSource]=Q.ErrorSourcePlayer,this._generateHit(j.Error,{},{},a)}},{key:"processPlayback",value:function(t){if(this._isTracking){var a=this._getPlaybackState();if(this._previousState!==a||t){var n=e._playbackStateToMediaCollectionEvent(a);this._generateHit(n),this._previousState=a,this._previousStateTs=this._refTs}else a===this._previousState&&this._refTs-this._previousStateTs>=this._interval&&(this._generateHit(j.Ping),this._previousStateTs=this._refTs)}}},{key:"_processMediaStart",value:function(t){var a={};a=e._extractMediaParams(this._media),t&&(a[G.Resume]=!0);var n=this._config[H.Channel];N(n)&&(a[H.Channel]=n);var r=e._extractMediaMetadata(this._media);this._generateHit(j.SessionStart,a,r)}},{key:"_generateHit",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(w(r)){var i=this._media.qoeInfo;!(w(i)||!w(this._lastQoeInfo)&&this._lastQoeInfo.equal(i))&&(r=e._extractQoeData(this._media),this._lastQoeInfo=i)}if(this._isTracking){var o=this._media.playhead,s=this._refTs,l=new Ce({eventType:t,params:a,customMetadata:n,qoeData:r,playhead:o,ts:s});this._hitProcessor.processHit(this._sessionId,l)}else this._logger.log("#_generateHit - Dropping hit as we have internally stopped tracking the session")}},{key:"_getPlaybackState",value:function(){
return this._media.isInPlaybackState(_e.Buffer)?_e.Buffer:this._media.isInPlaybackState(_e.Seek)?_e.Seek:this._media.isInPlaybackState(_e.Play)?_e.Play:this._media.isInPlaybackState(_e.Pause)?_e.Pause:this._media.isInPlaybackState(_e.Stall)?_e.Stall:_e.Init}},{key:"_startSession",value:function(){this._sessionId=this._hitProcessor.startSession(),this._isTracking=!0,this._logger.log("Start internal session("+this._sessionId+")")}},{key:"_endSession",value:function(){this._hitProcessor.endSession(this._sessionId),this._isTracking=!1,this._logger.log("End internal session("+this._sessionId+")")}}],[{key:"_isGranularAdTrackingEnabled",value:function(e){var t=e.mediaInfo;return!w(t)&&t.granularAdTracking}},{key:"_extractMediaParams",value:function(t){var a={},n=t.mediaInfo;w(n)||(a[G.Id]=n.id,a[G.Name]=n.name,a[G.Length]=n.length,a[G.ContentType]=n.streamType,a[G.StreamType]=n.mediaType,a[G.Resume]=n.resumed);var r=t.mediaMetadata;return M(r)&&Object.keys(r).forEach((function(t){if(e._standardMediaMetadataMap.has(t)){var n=e._standardMediaMetadataMap.get(t);a[n]=r[t]}})),a}},{key:"_extractMediaMetadata",value:function(t){var a={},n=t.mediaMetadata;return M(n)&&Object.keys(n).forEach((function(t){e._standardMediaMetadataMap.has(t)||(a[t]=n[t])})),a}},{key:"_extractAdBreakParams",value:function(e){var t={},a=e.adBreakInfo;return w(a)||(t[z.PodFriendlyName]=a.name,t[z.PodIndex]=a.position,t[z.PodSecond]=a.startTime),t}},{key:"_extractAdParams",value:function(t){var a={},n=t.adInfo;w(n)||(a[$.Name]=n.name,a[$.Id]=n.id,a[$.Length]=n.length,a[$.PodPosition]=n.position);var r=t.adMetadata;return M(r)&&Object.keys(r).forEach((function(t){if(e._standardAdMetadataMap.has(t)){var n=e._standardAdMetadataMap.get(t);a[n]=r[t]}})),a}},{key:"_extractAdMetadata",value:function(t){var a={},n=t.adMetadata;return M(n)&&Object.keys(n).forEach((function(t){e._standardAdMetadataMap.has(t)||(a[t]=n[t])})),a}},{key:"_extractChapterParams",value:function(e){var t={},a=e.chapterInfo;return w(a)||(t[J.FriendlyName]=a.name,t[J.Index]=a.position,t[J.Length]=a.length,t[J.Offset]=a.startTime),t}},{key:"_extractChapterMetadata",value:function(e){var t={},a=e.chapterMetadata;return M(a)&&Object.keys(a).forEach((function(e){t[e]=a[e]})),t}},{key:"_extractQoeData",value:function(e){var t={},a=e.qoeInfo;return M(a)&&(t[Q.Bitrate]=parseInt(a.bitrate,10),t[Q.Fps]=parseInt(a.fps,10),t[Q.DroppedFrames]=parseInt(a.droppedFrames,10),t[Q.StartupTime]=parseInt(a.startupTime,10)),t}},{key:"_playbackStateToMediaCollectionEvent",value:function(e){switch(e){case _e.Buffer:return j.BufferStart;case _e.Seek:return j.PauseStart;case _e.Play:return j.Play;case _e.Pause:return j.PauseStart;case _e.Stall:return j.Play;case _e.Init:return j.Ping;default:return""}}}]),e}(),ke=new Map;ke.set(E.Show,B.Show),ke.set(E.Season,B.Season),ke.set(E.Episode,B.Episode),ke.set(E.AssetId,B.AssetId),ke.set(E.Genre,B.Genre),ke.set(E.FirstAirDate,B.FirstAirDate),ke.set(E.FirstDigitalDate,B.FirstDigitalDate),ke.set(E.Rating,B.Rating),ke.set(E.Originator,B.Originator),ke.set(E.Network,B.Network),ke.set(E.ShowType,B.ShowType),ke.set(E.AdLoad,B.AdLoad),ke.set(E.MVPD,B.MVPD),ke.set(E.Authorized,B.Auth),ke.set(E.DayPart,B.DayPart),ke.set(E.Feed,B.Feed),ke.set(E.StreamFormat,B.StreamFormat),ke.set(I.Artist,B.Artist),ke.set(I.Album,B.Album),ke.set(I.Label,B.Label),ke.set(I.Author,B.Author),ke.set(I.Station,B.Station),ke.set(I.Publisher,B.Publisher),Se._standardMediaMetadataMap=ke;var Ee=new Map;Ee.set(V.Advertiser,U.Advertiser),Ee.set(V.CampaignId,U.CampaignId),Ee.set(V.CreativeId,U.CreativeId),Ee.set(V.PlacementId,U.PlacementId),Ee.set(V.SiteId,U.SiteId),Ee.set(V.CreativeUrl,U.CreativeUrl),Se._standardAdMetadataMap=Ee;var Ie="Media tracker is not in active tracking session, call 'API:trackSessionStart' to begin a new tracking session.",Ve="Media tracker is in active tracking session, call 'API:trackSessionEnd' or 'API:trackComplete' to end current tracking session.",Ae="Media tracker is tracking buffer events, call 'API:trackEvent(BufferComplete)' first to stop tracking buffer events.",Te="Media tracker is not tracking buffer events, call 'API:trackEvent(BufferStart)' before 'API:trackEvent(BufferComplete)'.",we="Media tracker is tracking seek events, call 'API:trackEvent(SeekComplete)' first to stop tracking seek events.",De="Media tracker is not tracking seek events, call 'API:trackEvent(SeekStart)' before 'API:trackEvent(SeekComplete)'.",Oe="Media tracker is not tracking any AdBreak, call 'API:trackEvent(AdBreakStart)' to begin tracking AdBreak",Le="Media tracker is not tracking any Ad, call 'API:trackEvent(AdStart)' to begin tracking Ad",Ne="Media tracker is not tracking any Chapter, call 'API:trackEvent(ChapterStart)' to begin tracking Chapter",Me="MediaInfo passed into 'API:trackSessionStart' is invalid.",xe="AdBreakInfo passed into 'API:trackEvent(AdBreakStart)' is invalid.",Fe="Media tracker is currently tracking the AdBreak passed into 'API:trackEvent(AdBreakStart)'.",Re="AdInfo passed into 'API:trackEvent(AdStart)' is invalid.",je="StateInfo passed into 'API:trackEvent(StateStart|StateEnd)' is invalid.",Be="ErrorId passed into 'API:trackError()' is invalid.",Ue="Media tracker is currently tracking the Ad passed into 'API:trackEvent(AdStart)'.",Ge="ChapterInfo passed into 'API:trackEvent(ChapterStart)' is invalid.",qe="Media tracker is currently tracking the Chapter passed into 'API:trackEvent(ChapterStart)'.",He="QoEInfo passed into 'API:updateQoEInfo' is invalid.",ze="Media tracker is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",$e="Media tracker is already tracking a state with the same state name.",Je="Media tracker is not already tracking a state with the same state name.",We="Media tracker has reached maximum number of states per session (10).",Qe=new RegExp("^[a-zA-Z0-9_\\.]+$"),Ye=function(){function e(a,n,r){if(t(this,e),!a)throw new Error("hitProcessor should be valid");if(!n)throw new Error("logger should be valid");this._hitProcessor=a,this._logger=n,this._config=M(r)?r:{},this._resetStates(),this._setupRules()}return n(e,[{key:"track",value:function(e){var t=e[he.Name];return N(t)?ee(e[he.TimeStamp])?(M(e[he.Params])||(e[he.Params]={}),e[he.Metadata]=this._cleanMetadata(e[he.Metadata]),!!this._prerollDeferRule(t,e)||this._processRule(t,e)):(this._logger.log("#track - Event timestamp is missing in track event data. - "+t),!1):(this._logger.log("#track - Event name is missing in track event data"),!1)}},{key:"_resetStates",value:function(){this._media=null,this._hitGenerator=null,this._sessionRefTs=null,this._inPrerollInterval=!1,this._prerollRefTs=null,this._prerollQueuedRules=[],this._contentStarted=!1,this._contentStartRefTs=null,this._mediaIdle=!1,this._trackerIdle=!1,this._mediaIdleStartTs=0}},{key:"_createHitGenerator",value:function(e){return new Se(this._logger,this._hitProcessor,this._config,this._media,e)}},{key:"_processRule",value:function(e,t){return this._ruleEngine.processRule(e,t).success}},{key:"_setupRules",value:function(){this._ruleEngine=new be(this._logger),this._ruleEngine.setEnterAction(this._cmdEnterAction.bind(this)),this._ruleEngine.setExitAction(this._cmdExitAction.bind(this));var e=this._isInMedia.bind(this),t=this._isInAdBreak.bind(this),a=this._isInAd.bind(this),n=this._isInChapter.bind(this),r=this._isInTrackedState.bind(this),i=this._isValidMediaInfo.bind(this),o=this._isValidAdBreakInfo.bind(this),s=this._isValidAdInfo.bind(this),l=this._isValidChapterInfo.bind(this),c=this._isValidQoEInfo.bind(this),d=this._isValidStateInfo.bind(this),u=this._isValidErrorInfo.bind(this),g=this._isDifferentAdBreakInfo.bind(this),f=this._isDifferentAdInfo.bind(this),p=this._isDifferentChapterInfo.bind(this),m=this._allowPlayerStateChange.bind(this),h=this._allowStateTrack.bind(this),v=this._isInBuffering.bind(this),y=this._isInSeeking.bind(this),b=this._cmdMediaStart.bind(this),_=this._cmdMediaSkip.bind(this),P=this._cmdMediaComplete.bind(this),C=this._cmdError.bind(this),S=this._cmdPlay.bind(this),k=this._cmdPause.bind(this),E=this._cmdBufferStart.bind(this),I=this._cmdBufferComplete.bind(this),V=this._cmdSeekStart.bind(this),A=this._cmdSeekComplete.bind(this),T=this._cmdAdStart.bind(this),w=this._cmdAdComplete.bind(this),D=this._cmdAdSkip.bind(this),O=this._cmdAdBreakStart.bind(this),L=this._cmdAdBreakComplete.bind(this),N=this._cmdAdBreakSkip.bind(this),M=this._cmdChapterStart.bind(this),x=this._cmdChapterComplete.bind(this),F=this._cmdChapterSkip.bind(this),R=this._cmdStateStart.bind(this),j=this._cmdStateEnd.bind(this),B=this._cmdBitrateChange.bind(this),U=this._cmdQoEUpdate.bind(this),G=this._cmdPlayheadUpdate.bind(this),q=new ye(ve.SessionStart,"API:trackSessionStart");q.addPredicate(e,!1,Ve).addPredicate(i,!0,Me).addAction(b),this._ruleEngine.addRule(q);var H=new ye(ve.SessionComplete,"API:trackComplete");H.addPredicate(e,!0,Ie).addAction(D).addAction(N).addAction(F).addAction(P),this._ruleEngine.addRule(H);var z=new ye(ve.SessionEnd,"API:trackSessionEnd");z.addPredicate(e,!0,Ie).addAction(D).addAction(N).addAction(F).addAction(_),this._ruleEngine.addRule(z);var $=new ye(ve.Error,"API:trackError");$.addPredicate(e,!0,Ie).addPredicate(u,!0,Be).addAction(C),this._ruleEngine.addRule($);var J=new ye(ve.Play,"API:trackPlay");J.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addAction(A).addAction(I).addAction(S),this._ruleEngine.addRule(J);var W=new ye(ve.Pause,"API:trackPause");W.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(v,!1,Ae).addPredicate(y,!1,we).addAction(k),this._ruleEngine.addRule(W);var Q=new ye(ve.BufferStart,"API:trackEvent(BufferStart)");Q.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(v,!1,Ae).addPredicate(y,!1,we).addAction(E),this._ruleEngine.addRule(Q);var Y=new ye(ve.BufferComplete,"API:trackEvent(BufferComplete)");Y.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(v,!0,Te).addAction(I),this._ruleEngine.addRule(Y);var K=new ye(ve.SeekStart,"API:trackEvent(SeekStart)");K.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(y,!1,we).addPredicate(v,!1,Ae).addAction(V),this._ruleEngine.addRule(K);var X=new ye(ve.SeekComplete,"API:trackEvent(SeekComplete)");X.addPredicate(e,!0,Ie).addPredicate(m,!0,ze).addPredicate(y,!0,De).addAction(A),this._ruleEngine.addRule(X);var Z=new ye(ve.AdBreakStart,"API:trackEvent(AdBreakStart)");Z.addPredicate(e,!0,Ie).addPredicate(o,!0,xe).addPredicate(g,!0,Fe).addAction(D).addAction(N).addAction(O),this._ruleEngine.addRule(Z);var ee=new ye(ve.AdBreakComplete,"API:trackEvent(AdBreakComplete)");ee.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addAction(D).addAction(L),this._ruleEngine.addRule(ee);var te=new ye(ve.AdStart,"API:trackEvent(AdStart)");te.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addPredicate(s,!0,Re).addPredicate(f,!0,Ue).addAction(D).addAction(T),this._ruleEngine.addRule(te);var ae=new ye(ve.AdComplete,"API:trackEvent(AdComplete)");ae.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addPredicate(a,!0,Le).addAction(w),this._ruleEngine.addRule(ae);var ne=new ye(ve.AdSkip,"API:trackEvent(AdSkip)");ne.addPredicate(e,!0,Ie).addPredicate(t,!0,Oe).addPredicate(a,!0,Le).addAction(D),this._ruleEngine.addRule(ne);var re=new ye(ve.ChapterStart,"API::trackEvent(chapterStart)");re.addPredicate(e,!0,Ie).addPredicate(l,!0,Ge).addPredicate(p,!0,qe).addAction(F).addAction(M),this._ruleEngine.addRule(re);var ie=new ye(ve.ChapterComplete,"API::trackEvent(chapterComplete)");ie.addPredicate(e,!0,Ie).addPredicate(n,!0,Ne).addAction(x),this._ruleEngine.addRule(ie);var oe=new ye(ve.ChapterSkip,"API:trackEvent(chapterSkip)");oe.addPredicate(e,!0,Ie).addPredicate(n,!0,Ne).addAction(F),this._ruleEngine.addRule(oe);var se=new ye(ve.BitrateChange,"API:trackEvent(BitrateChange)");se.addPredicate(e,!0,Ie).addAction(B),this._ruleEngine.addRule(se);var le=new ye(ve.QoEUpdate,"API:trackEvent(QoEUpdate)");le.addPredicate(e,!0,Ie).addPredicate(c,!0,He).addAction(U),this._ruleEngine.addRule(le);var ce=new ye(ve.PlayheadUpdate,"API:trackEvent(PlayheadUpdate)");ce.addPredicate(e,!0,Ie).addAction(G),this._ruleEngine.addRule(ce);var de=new ye(ve.StateStart,"API:trackEvent(StateStart)");de.addPredicate(e,!0,Ie).addPredicate(d,!0,je).addPredicate(r,!1,$e).addPredicate(h,!0,We).addAction(R),this._ruleEngine.addRule(de);var ue=new ye(ve.StateEnd,"API:trackEvent(StateEnd)");ue.addPredicate(e,!0,Ie).addPredicate(d,!0,je).addPredicate(r,!0,Je).addAction(j),this._ruleEngine.addRule(ue)}},{key:"_isInMedia",value:function(){return!w(this._media)}},{key:"_isInAdBreak",value:function(){return this._media.isInAdBreak}},{key:"_isInAd",value:function(){return this._media.isInAd}},{key:"_isInChapter",value:function(){return this._media.isInChapter}},{key:"_isInBuffering",value:function(){return this._media.isInPlaybackState(_e.Buffer)}},{key:"_isInSeeking",value:function(){return this._media.isInPlaybackState(_e.Seek)}},{key:"_isInTrackedState",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.isCustomStateActive(t)}},{key:"_isValidMediaInfo",value:function(e){return null!=ge.deserialize(e[he.Params])}},{key:"_isValidAdBreakInfo",value:function(e){return null!=le.deserialize(e[he.Params])}},{key:"_isValidAdInfo",value:function(e){return null!=se.deserialize(e[he.Params])}},{key:"_isValidStateInfo",value:function(e){return null!=ue.deserialize(e[he.Params])}},{key:"_isValidChapterInfo",value:function(e){return null!=ce.deserialize(e[he.Params])}},{key:"_isValidQoEInfo",value:function(e){return null!=fe.deserialize(e[he.Params])}},{key:"_isValidErrorInfo",value:function(e){var t=e[he.Params];if(!M(t))return!1;var a=t[he.ErrorId];return N(a)}},{key:"_isDifferentAdBreakInfo",value:function(e){return!le.deserialize(e[he.Params]).equal(this._media.adBreakInfo)}},{key:"_isDifferentAdInfo",value:function(e){return!se.deserialize(e[he.Params]).equal(this._media.adInfo)}},{key:"_isDifferentChapterInfo",value:function(e){return!ce.deserialize(e[he.Params]).equal(this._media.chapterInfo)}},{key:"_allowPlayerStateChange",value:function(){return!this._media.isInAdBreak||this._media.isInAd}},{key:"_allowStateTrack",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.hasTrackedCustomState(t)||this._media.numTrackedCustomStates()<10}},{key:"_cmdEnterAction",value:function(e,t){var a=this._getRefTs(t);return w(this._hitGenerator)||this._hitGenerator.setRefTS(a),!0}},{key:"_cmdExitAction",value:function(e,t){if(w(this._media))return!1;e.id===ve.AdStart&&(!this._media.isInPlaybackState(_e.Init)||this._media.isInPlaybackState(_e.Buffer)||this._media.isInPlaybackState(_e.Seek)||this._media.enterPlaybackState(_e.Play)),e.id!==ve.BufferComplete&&e.id!==ve.SeekComplete||this._media.isInPlaybackState(_e.Init)&&this._media.enterPlaybackState(_e.Pause),this._cmdIdleDetection(t),this._cmdSessionTimeoutDetection(t),this._cmdContentStartDetection(t);var a=e.id===ve.AdStart||e.id===ve.AdBreakComplete;return this._hitGenerator.processPlayback(a),!0}},{key:"_cmdMediaStart",value:function(e){var t=ge.deserialize(e[he.Params]),a=e[he.Metadata],n=this._getRefTs(e);return this._media=new Pe(t,a),this._hitGenerator=this._createHitGenerator(n),this._hitGenerator.processMediaStart(),this._sessionRefTs=n,this._inPrerollInterval=0!==t.prerollWaitTime,this._prerollRefTs=n,!0}},{key:"_cmdMediaComplete",value:function(){return this._hitGenerator.processMediaComplete(),this._resetStates(),!0}},{key:"_cmdMediaSkip",value:function(){return this._hitGenerator.processMediaSkip(),this._resetStates(),!0}},{key:"_cmdAdBreakStart",value:function(e){var t=le.deserialize(e[he.Params]);return this._media.setAdBreakInfo(t),this._hitGenerator.processAdBreakStart(),!0}},{key:"_cmdAdBreakComplete",value:function(){return this._hitGenerator.processAdBreakComplete(),this._media.clearAdBreakInfo(),!0}},{key:"_cmdAdBreakSkip",value:function(){return this._media.isInAdBreak&&(this._hitGenerator.processAdBreakSkip(),this._media.clearAdBreakInfo()),!0}},{key:"_cmdAdStart",value:function(e){var t=se.deserialize(e[he.Params]),a=e[he.Metadata];return this._media.setAdInfo(t,a),this._hitGenerator.processAdStart(),!0}},{key:"_cmdAdComplete",value:function(){return this._hitGenerator.processAdComplete(),this._media.clearAdInfo(),!0}},{key:"_cmdAdSkip",value:function(){return this._media.isInAd&&(this._hitGenerator.processAdSkip(),this._media.clearAdInfo()),!0}},{key:"_cmdChapterStart",value:function(e){var t=ce.deserialize(e[he.Params]),a=e[he.Metadata];return this._media.setChapterInfo(t,a),this._hitGenerator.processChapterStart(),!0}},{key:"_cmdChapterComplete",value:function(){return this._hitGenerator.processChapterComplete(),this._media.clearChapterInfo(),!0}},{key:"_cmdChapterSkip",value:function(){return this._media.isInChapter&&(this._hitGenerator.processChapterSkip(),this._media.clearChapterInfo()),!0}},{key:"_cmdError",value:function(e){var t=e[he.Params][he.ErrorId];return this._hitGenerator.processError(t),!0}},{key:"_cmdBitrateChange",value:function(){return this._hitGenerator.processBitrateChange(),!0}},{key:"_cmdPlay",value:function(){return this._media.enterPlaybackState(_e.Play),!0}},{key:"_cmdPause",value:function(){return this._media.enterPlaybackState(_e.Pause),!0}},{key:"_cmdBufferStart",value:function(){return this._media.enterPlaybackState(_e.Buffer),!0}},{key:"_cmdBufferComplete",value:function(){return this._media.isInPlaybackState(_e.Buffer)&&this._media.exitPlaybackState(_e.Buffer),!0}},{key:"_cmdSeekStart",value:function(){return this._media.enterPlaybackState(_e.Seek),!0}},{key:"_cmdSeekComplete",value:function(){return this._media.isInPlaybackState(_e.Seek)&&this._media.exitPlaybackState(_e.Seek),!0}},{key:"_cmdQoEUpdate",value:function(e){var t=fe.deserialize(e[he.Params]);return this._media.qoeInfo=t,!0}},{key:"_cmdPlayheadUpdate",value:function(e){var t=e[he.Params];if(M(t)){var a=t[he.Playhead];Z(a)&&a>=0&&(this._media.playhead=a)}return!0}},{key:"_cmdIdleDetection",value:function(e){var t=this._getRefTs(e);this._media.isIdle()?this._mediaIdle?!this._trackerIdle&&t-this._mediaIdleStartTs>=18e5&&(this._hitGenerator.processSessionAbort(),this._trackerIdle=!0):(this._mediaIdle=!0,this._mediaIdleStartTs=t):(this._trackerIdle&&(this._hitGenerator.processSessionRestart(),this._trackerIdle=!1,this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null),this._mediaIdle=!1)}},{key:"_cmdSessionTimeoutDetection",value:function(e){var t=this._getRefTs(e);!this._trackerIdle&&t-this._sessionRefTs>=864e5&&(this._hitGenerator.processSessionAbort(),this._hitGenerator.processSessionRestart(),this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null)}},{key:"_cmdContentStartDetection",value:function(e){return!(!this._media.isIdle()&&!this._contentStarted&&(this._media.isInAdBreak?(this._contentStartRefTs=null,0):(null==this._contentStartRefTs&&(this._contentStartRefTs=this._getRefTs(e)),this._getRefTs(e)-this._contentStartRefTs>=1e3&&(this._hitGenerator.processPlayback(!0),this._contentStarted=!0),0)))}},{key:"_cmdStateStart",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.startCustomState(t),this._hitGenerator.processCustomStateStart(t),!0}},{key:"_cmdStateEnd",value:function(e){var t=ue.deserialize(e[he.Params]);return this._media.endCustomState(t),this._hitGenerator.processCustomStateEnd(t),!0}},{key:"_getRefTs",value:function(e){var t=e[he.TimeStamp];return ee(t)?t:null}},{key:"_prerollDeferRule",value:function(e,t){if(this._inPrerollInterval&&null!=this._media){var a=this._media.mediaInfo.prerollWaitTime;if(this._prerollQueuedRules.push({eventName:e,context:t}),this._getRefTs(t)-this._prerollRefTs>=a||e===ve.AdBreakStart||e===ve.MediaComplete||e===ve.MediaSkip){for(var n=this._prerollReorderRules(this._prerollQueuedRules),r=0;r<n.length;r++){var i=n[r];this._processRule(i.eventName,i.context)}this._prerollQueuedRules=[],this._inPrerollInterval=!1}return!0}return!1}},{key:"_prerollReorderRules",value:function(e){for(var t=[],a=!1,n=0;n<e.length;++n)if(e[n].eventName===ve.AdBreakStart){a=!0;break}for(var r=a,i=0;i<e.length;i++){var o=e[i];o.eventName===ve.Play&&r||(o.eventName===ve.AdBreakStart&&(r=!1),t.push(o))}return t}},{key:"_cleanMetadata",value:function(e){var t=this,a={};return M(e)&&Object.keys(e).forEach((function(n){var r=e[n];Qe.test(n)&&!w(r)?a[n]=String(r):t._logger.log("#_cleanMetadata - Dropping metadata item "+n+": "+r)})),a}}]),e}(),Ke=function(){function e(a,n,r){t(this,e),this._logger=v("MediaTracker ("+n+")"),this._tracker=new Ye(a,this._logger,r),this._timer=null,this._lastEventTS=null,this._lastPlayheadParams=null}return n(e,[{key:"trackSessionStart",value:function(e,t){this._logger.log("trackSessionStart(info:"+me(e)+" metadata:"+me(t)+")"),this._trackInternal(ve.SessionStart,e,t)}},{key:"trackSessionEnd",value:function(){this._logger.log("trackSessionEnd"),this._trackInternal(ve.SessionEnd)}},{key:"trackComplete",value:function(){this._logger.log("trackComplete"),this._trackInternal(ve.SessionComplete)}},{key:"trackPlay",value:function(){this._logger.log("trackPlay"),this._trackInternal(ve.Play)}},{key:"trackPause",value:function(){this._logger.log("trackPause"),this._trackInternal(ve.Pause)}},{key:"trackEvent",value:function(e,t,a){this._logger.log("trackEvent("+e+" info:"+me(t)+" metadata:"+me(a)+")"),this._trackInternal(e,t,a)}},{key:"trackError",value:function(e){this._logger.log("trackError("+e+")");var t=r({},he.ErrorId,e);this._trackInternal(ve.Error,t)}},{key:"updatePlayhead",value:function(e){var t=r({},he.Playhead,e);this._trackInternal(ve.PlayheadUpdate,t)}},{key:"updateQoEObject",value:function(e){this._logger.log("updateQoEObject("+me(e)+")"),this._trackInternal(ve.QoEUpdate,e)}},{key:"destroy",value:function(){this._logger.log("destroy()"),this._stopTimer(),this._tracker=null}},{key:"_trackInternal",value:function(e,t,a){var n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._tracker){var o=g(),s=(r(n={},he.Name,e),r(n,he.Params,t),r(n,he.Metadata,a),r(n,he.TimeStamp,o),r(n,he.InternalEvent,i),n),l=this._tracker.track(s);this._lastEventTS=o,e===ve.PlayheadUpdate&&(this._lastPlayheadParams=t),e===ve.SessionStart&&l?this._startTimer():e!==ve.SessionComplete&&e!==ve.SessionEnd||this._stopTimer()}else this._logger.warn("Dropping the call as the tracker instance is already destroyed")}},{key:"_startTimer",value:function(){var e=this;this._timer||(this._timer=p((function(){e._onTick()}),500))}},{key:"_stopTimer",value:function(){var e;this._timer&&(e=this._timer,clearInterval(e),this._timer=null)}},{key:"_onTick",value:function(){g()-this._lastEventTS>750&&this._trackInternal(ve.PlayheadUpdate,this._lastPlayheadParams,null,!0)}}]),e}(),Xe=new oe,Ze=u(),et={configure:function(e){Xe.configure(e)},getInstance:function(e){var t="tracker"+Ze.getUniqueId();return new Ke(Xe,t,e)},createMediaObject:function(e,t,a,n,r){var i=null;try{i=new ge({id:t,name:e,streamType:n,mediaType:r,length:a}).serialize()}catch(e){pe.error("Error creating MediaObject ("+e.message+")")}return i},createAdBreakObject:function(e,t,a){var n=null;try{n=new le({name:e,position:t,startTime:a}).serialize()}catch(e){pe.error("Error creating AdBreakObject ("+e.message+")")}return n},createAdObject:function(e,t,a,n){var r=null;try{r=new se({id:t,name:e,position:a,length:n}).serialize()}catch(e){pe.error("Error creating AdObject ("+e.message+")")}return r},createChapterObject:function(e,t,a,n){var r=null;try{r=new ce({name:e,position:t,length:a,startTime:n}).serialize()}catch(e){pe.error("Error creating ChapterObject ("+e.message+")")}return r},createQoEObject:function(e,t,a,n){var r=null;try{r=new fe({bitrate:e,droppedFrames:n,fps:a,startupTime:t}).serialize()}catch(e){pe.error("Error creating QoEObject ("+e.message+")")}return r},createStateObject:function(e){var t=null;try{t=new ue({name:e}).serialize()}catch(e){pe.error("Error creating StateObject ("+e.message+")")}return t},version:"js-extn-3.0.2",Event:P,MediaType:S,PlayerState:k,StreamType:A,MediaObjectKey:C,VideoMetadataKeys:E,AudioMetadataKeys:I,AdMetadataKeys:V},tt="ecid",at="analytics",nt="mediaanalytics",rt=function(e){function a(e,n){var r;if(t(this,a),r=o.call(this),!e)throw new Error("Valid appmeasurement instance is required");if(!e.visitor)throw new Error("Valid visitor instance is required");return r._mediaConfig=n,r._appMeasurement=e,r._appMeasurementReady=!1,r._privacyResolved=!1,r._logger=v("WebECResolver"),r._fetchECParams(),r._fetchPrivacyStatus(),r._setupResolver(),r}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var i,o=(i=a,function(){var e,t=s(i);if(c()){var a=s(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return d(this,e)});return n(a,[{key:"resolveKeys",value:function(e){if(!e||0===e.length)return{};for(var t={},a=0;a<e.length;a++){var n=e[a],r=Object.prototype.hasOwnProperty.call(this._fnMap,n)?this._fnMap[n].call(this):null;w(r)||(t[n]=r)}return t}},{key:"getPrivacyStatus",value:function(){return this._privacyStatus[nt]}},{key:"notifyPrivacyChange",value:function(e){this._mediaPrivacyClb.push(e)}},{key:"isReady",value:function(){return!!this._privacyResolved&&this._privacyStatus[nt]===T.OptIn&&(this._privacyStatus[at]!==T.OptIn||this._appMeasurementReady)}},{key:"_setupResolver",value:function(){var e=this,t={};t[F.Rsid]=function(){return e._appMeasurement.account},t[F.AnalyticsTrackingServer]=function(){return e._appMeasurement.ssl&&e._appMeasurement.trackingServerSecure?e._appMeasurement.trackingServerSecure:e._appMeasurement.trackingServer},t[F.AnalyticsSsl]=function(){return e._appMeasurement.ssl},t[F.Vid]=function(){return e._appMeasurement.visitorID},t[F.Aid]=function(){var t=e._appMeasurement.analyticsVisitorID;if(""!==t)return t},t[F.Mcid]=function(){return e._appMeasurement.marketingCloudVisitorID},t[F.McOrgId]=function(){return e._appMeasurement.visitor.marketingCloudOrgID},t[F.AamLocHint]=function(){var t=parseInt(e._appMeasurement.audienceManagerLocationHint,10);return isNaN(t)?void 0:t},t[F.CustomerIds]=function(){return e._appMeasurement.visitor.getCustomerIDs()},t[F.MediaTrackingServer]=function(){return e._mediaConfig.trackingServer},t[F.MediaChannel]=function(){return e._mediaConfig.channel},t[F.MediaAppVersion]=function(){return e._mediaConfig.appVersion},t[F.MediaPlayerName]=function(){return e._mediaConfig.playerName},t[F.MediaSsl]=function(){return e._mediaConfig.ssl},this._fnMap=t}},{key:"_fetchECParams",value:function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[])}},{key:"_onAppMeasurementReady",value:function(){this._logger.log("AppMeasurement ready"),this._appMeasurementReady=!0}},{key:"_fetchPrivacyStatus",value:function(){var e,t=this;this._mediaPrivacyClb=[],this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0;var a=this._optIn&&this._optIn.doesOptInApply,n=a?T.OptUnknown:T.OptIn;this._privacyStatus=(r(e={},tt,n),r(e,at,n),r(e,nt,n),e),a?this._optIn.fetchPermissions((function(){t._privacyResolved=!0,t._privacyStatus[tt]=t._optIn.isApproved(t._optIn.Categories.ECID)?T.OptIn:T.OptOut,t._privacyStatus[at]=t._optIn.isApproved(t._optIn.Categories.ANALYTICS)?T.OptIn:T.OptOut,t._privacyStatus[nt]=t._optIn.isApproved(t._optIn.Categories.MEDIA_ANALYTICS)?T.OptIn:T.OptOut,t._mediaPrivacyClb.forEach((function(e){e(t._privacyStatus[nt])})),t._logger.log("Privacy Status "+me(t._privacyStatus))}),!0):(this._privacyResolved=!0,this._logger.log("OptIn service not used, defaulting privacy status to "+me(this._privacyStatus)))}}]),a}(function(){function e(){t(this,e)}return n(e,[{key:"resolveKeys",value:function(){throw new Error("Implementation error: Method must be overridden.")}},{key:"isReady",value:function(){}},{key:"getPrivacyStatus",value:function(){}},{key:"notifyPrivacyChange",value:function(){}}]),e}()),it=v("Media"),ot=!1;return{Media:o({},et,{configure:function(e,t){if(m(e||{}),ot)it.error("MediaSDK is already configured");else{it.log("configure("+me(e)+")");try{!function(e){if(!M(e))throw new Error("mediaConfig is not a valid object");var t=e.trackingServer;if(!N(t))throw new Error("trackingServer is empty");if(-1!==t.indexOf("hb.omtrdc.net"))throw new Error("trackingServer should be set to Media collection endpoint and not heartbeat endpoint. Contact your Adobe representative for more information.")}(e);var a=new rt(t,e);et.configure(a),ot=!0}catch(e){it.error("Error configuring MediaSDK : "+e.message),m({debugLogging:!1})}}},getInstance:function(e){return et.getInstance(e)}}),MediaConfig:function e(){t(this,e),this.trackingServer=void 0,this.channel=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!0,this.debugLogging=!1}}},"object"==typeof t&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):(a=a||self).ADB=n()}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP171e731c9ba34f1c950c36d26e3efd61/",settings:{orgId:"2F2827E253DAF0E10A490D4E@AdobeOrg",customSetup:{source:function(){var e={};_satellite.setVar("tracker",e)}},libraryCode:{type:"managed",accounts:{staging:["fifadev"],production:["fifaprod"],development:["fifadev"]},useActivityMap:!0,scopeTrackerGlobally:!1},trackerProperties:{currencyCode:"USD",trackingServer:"metrics.fifa.com",trackInlineStats:!0,visitorNamespace:"fifa",trackDownloadLinks:!1,trackExternalLinks:!1,trackingServerSecure:"smetrics.fifa.com"}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker"),i=a("../helpers/applyTrackerVariables");e.exports=function(e,t){return r().then((function(a){n.logger.info("Set variables on the tracker."),i(a,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,a)}),(function(e){n.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,n){"use strict";var r,i=a("@adobe/reactor-cookie"),o=a("@adobe/reactor-promise"),s=a("@adobe/reactor-window"),l=a("../helpers/settingsHelper"),c=a("../helpers/augmenters"),d=a("../helpers/applyTrackerVariables"),u=a("../helpers/loadLibrary"),g=a("../helpers/generateVersion")(n.buildInfo.turbineBuildDate),f="beforeSettings",p=n.getSharedModule("adobe-mcid","mcid-instance"),m=function(e){return!e||"true"===i.get(e)},h=function(e){return o.all(c.map((function(t){var a;try{a=t(e)}catch(e){setTimeout((function(){throw e}))}return o.resolve(a)}))).then((function(){return e}))},v=function(e){return p&&(n.logger.info("Setting MCID instance on the tracker."),e.visitor=p),e},y=function(e){return n.logger.info('Setting version on tracker: "'+g+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=g:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+g&&(e.version+="-"+g),e},b=function(e,t,a){return t.loadPhase===f&&t.source&&(n.logger.info("Calling custom script before settings."),t.source.call(s,a)),d(a,e||{}),t.loadPhase!==f&&t.source&&(n.logger.info("Calling custom script after settings."),t.source.call(s,a)),a},_=function(e,t){return l.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),n.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},P=(r=n.getExtensionSettings(),m(r.trackingCookieName)?u(r).then(h).then(v).then(y).then(b.bind(null,r.trackerProperties,r.customSetup||{})).then(_.bind(null,r)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return P}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var n=a("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-query-string"),i=a("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),c=function(e,t,a){return a.indexOf(e)===t},d=function(e,t,a){var n=Object.keys(t).filter(l.test.bind(l));return a&&n.push("events"),(n=n.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&c(e,t,n)})).join(",")},u=function(e,t){var a=t.map((function(e){return e.name}))
;return(a=a.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&c(e,t,a)})).join(",")},g=function(e,t,a){e[t]=a[t].join(",")},f=function(e,t,a){var n=a.dynamicVariablePrefix||"D=";a[t].forEach((function(t){var a;if("value"===t.type)a=t.value;else{var r=o.exec(t.value);if(r)a=n+"v"+r[1];else{var i=s.exec(t.value);i&&(a=n+"c"+i[1])}}e[t.name]=a}))},p={linkDownloadFileTypes:g,linkExternalFilters:g,linkInternalFilters:g,hierarchies:function(e,t,a){a[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:f,eVars:f,campaign:function(e,t,a){if("queryParam"===a[t].type){var n=r.parse(i.location.search);e[t]=n[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var n=a[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=n.join(",")}};e.exports=function(e,t){var a={};t=t||{},Object.keys(t).forEach((function(e){var n=p[e],r=t[e];n?n(a,e,t):a[e]=r})),a.events&&e.events&&e.events.length>0&&(a.events=e.events+","+a.events);var r=t&&t.events&&t.events.length>0,i=d(e,a,r);i&&(a.linkTrackVars=i);var o=u(e,t.events||[]);o&&(a.linkTrackEvents=o),n.logger.info('Applying the following properties on tracker: "'+JSON.stringify(a)+'".'),Object.keys(a).forEach((function(t){e[t]=a[t]}))}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-window"),i={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[n.environment.stage]&&(t=e[n.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&r&&r._satellite&&r._satellite.company&&r._satellite.company.orgId&&(t=!0),t}};e.exports=i}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-load-script"),i=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),s=a("./settingsHelper"),l=a("./pollHelper"),c=function(e,t){if(!i.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+i.AppMeasurement);n.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=i.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(n.logger.info("Setting the tracker as window.s"),i.s=a),a},d=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===i.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var a={namespace:i._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=a,t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(d(e).map((function(e){return n.logger.info("Loading script: "+e),r(e)})))},g=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=s.getReportSuites(e.libraryCode.accounts);n.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else n.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},f=function(e){if(i[e])return n.logger.info('Found tracker located at: "'+e+'".'),i[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var a=s.getReportSuites(e.libraryCode.accounts);return t.then(c.bind(null,e,a));case s.LIB_TYPES.PREINSTALLED:return t.then(l.poll.bind(null,i,e.libraryCode.trackerVariableName)).then(g.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(f.bind(null,e.libraryCode.trackerVariableName)).then(g.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},n=function(e){return e.substr(e.length-1)},r=function(e){return Math.floor(e.getUTCHours()/t)},i=function(e){var t=(e.getUTCMonth()+1+12*r(e)).toString(36);return n(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+i(t)+a(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-promise"),i=40,o=250,s=function(e,t,a){n.logger.info('Found property located at: "'+t+'"].'),e(a)},l=function(e,t){return new r((function(a,n){if(e[t])return s(a,t,e[t]);var r=1,l=setInterval((function(){e[t]&&(s(a,t,e[t]),clearInterval(l)),r>=i&&(clearInterval(l),n(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),r++}),o)}))};e.exports={poll:function(e,t){return n.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),l(e,t)}}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,a){"use strict";var n=a("../helpers/getObjectProperty.js");e.exports=function(e){return n(window,e.path)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-query-string");e.exports=function(e){var t=r.parse(n.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];if(s.toLowerCase()===a)return t[s]}}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var a=e.elementProperty;return"text"===a?t.innerText||t.textContent:a in t?t[a]:t.getAttribute?t.getAttribute(a):void 0}}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,n){"use strict";var r={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=r[e];if(a){var i={identifier:e,detail:t};a.forEach((function(e){e(i)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),n.logger.log.apply(n.logger,o)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=r[e.identifier];a||(a=r[e.identifier]=[]),a.push(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,a,n){"use strict";var r={},i={};setInterval((function(){Object.keys(r).forEach((function(e){var t=JSON.stringify(n.getDataElementValue(e));if(t!==i[e]){var a={dataElementName:e};r[e].forEach((function(e){e(a)})),i[e]=t}}))}),1e3),e.exports=function(e,t){var a=e.name,o=r[a];o||(o=r[a]=[],i[a]=JSON.stringify(n.getDataElementValue(a))),o.push(t)}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=a("@adobe/reactor-window"),i=a("./helpers/weakMap"),o=a("./helpers/debounce"),s=a("./helpers/enableWeakMapDefaultValue"),l=a("./helpers/matchesSelector"),c=a("./helpers/matchesProperties"),d=a("../helpers/stringAndNumberUtils").castToNumberIfString,u=3e3,g=200,f={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},p=-1!==r.navigator.appVersion.indexOf("MSIE 10"),m=s(new i,(function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}})),h={},v=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){}var a=n.documentElement,i=n.body,o=a.clientTop||i.clientTop||0,s=a.clientLeft||i.clientLeft||0,l=r.pageYOffset||a.scrollTop||i.scrollTop,c=r.pageXOffset||a.scrollLeft||i.scrollLeft;return{top:t.top+l-o,left:t.left+c-s}},y=function(){var e=r.innerHeight,t=n.compatMode;return t&&(e="CSS1Compat"===t?n.documentElement.clientHeight:n.body.clientHeight),e},b=function(){return n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop},_=function(e,t,a){var r=v(e).top,i=e.offsetHeight;return n.body.contains(e)&&!(a>r+i||a+t<r)},P=function(e){var t=m.get(e);t.inViewport||(t.inViewport=!0,Object.keys(h).forEach((function(a){l(e,a)&&h[a].forEach((function(a){if(c(e,a.settings.elementProperties)&&-1===t.completedListeners.indexOf(a)){var n=function(){(a.settings.frequency||f.FIRST_ENTRY)===f.FIRST_ENTRY&&t.completedListeners.push(a),a.trigger({element:e,target:e,delay:a.settings.delay})};if(a.settings.delay){var r=setTimeout((function(){_(e,y(),b())&&n()}),a.settings.delay);t.timeoutIds.push(r)}else n()}}))})))},C=function(e){var t=m.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},S=o((function(){var e=Object.keys(h);if(e.length)for(var t=n.querySelectorAll(e.join(",")),a=y(),r=b(),i=0;i<t.length;i++){var o=t[i];_(o,a,r)?P(o):C(o)}}),g),k=function(){S(),setInterval(S,u),r.addEventListener("resize",S),r.addEventListener("scroll",S)};p?"complete"===n.readyState?k():r.addEventListener("load",k):"loading"!==n.readyState?k():n.addEventListener("DOMContentLoaded",k),e.exports=function(e,t){var a=h[e.elementSelector];a||(a=h[e.elementSelector]=[]),e.delay=d(e.delay),a.push({settings:e,trigger:t})}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerDomReadyTrigger(t)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,a){"use strict";var n=a("./helpers/debounce"),r=a("./helpers/once"),i=window.history,o=window.location.href,s=[],l=function(e,t,a){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return a.apply(null,arguments),t}},c=n((function(){var e=window.location.href;o!==e&&(s.forEach((function(e){e()})),o=e)}),0),d=r((function(){i&&(i.pushState&&l(i,"pushState",c),i.replaceState&&l(i,"replaceState",c)),window.addEventListener("popstate",c),window.addEventListener("hashchange",c)}));e.exports=function(e,t){d(),s.push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,n){"use strict";var r,i,o,s,l=a("@adobe/reactor-document"),c=a("@adobe/reactor-promise"),d=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),g=a("../../../node_modules/postscribe/dist/postscribe"),f=a("./helpers/unescapeHtmlCode"),p=a("../helpers/findPageScript").getTurbine,m=(i=function(e){g(l.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=f(e.attrs[t])})),e.src&&(e.src=f(e.src))),e},error:function(e){n.logger.error(e.msg)}})},o=[],s=function(){if(l.body)for(;o.length;)i(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),h=function(){if(l.currentScript)return l.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var a;r=n.getExtensionSettings().cspNonce;var i={settings:e,event:t},o=i.settings.source;if(o)return i.settings.isExternal?u(o).then((function(e){return e?(a=d(i,e),m(a.code),a.promise):c.resolve()})):(a=d(i,o),h||"loading"!==l.readyState?m(a.code):l.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?l.write(a.code):m(a.code),a.promise)}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),n=e,r=0,i=a.length;r<i;r++){if(null==n)return;n=n[a[r]]}return n}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),i=-1!==n.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",l="PAGE_BOTTOM",c=[l,s,o],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};c.forEach((function(e){u[e]=[]}));var g=function(e,t){c.slice(0,p(e)+1).forEach((function(e){m(t,e)}))},f=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?i?null:s:void 0},p=function(e){return c.indexOf(e)},m=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=g.bind(null,l),r.addEventListener("DOMContentLoaded",g.bind(null,s),!0),n.addEventListener("load",g.bind(null,o),!0),n.setTimeout((function(){var e=f();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[l].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:d.bind(null,n)})}}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window").WeakMap;if(void 0===n){var r=Object.defineProperty,i=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,a){var n=null;return function(){var r=a||this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(e,t){var a=e.get;return e.get=function(n){return e.has(n)||e.set(n,t()),a.apply(this,arguments)},e}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var n=a("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=r(e,t.name),i=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return n(a,i)}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},n=function(e){return t(e)?String(e):e},r=function(e){return a(e)?Number(e):e};e.exports={isNumber:t,isString:a,castToStringIfNumber:n,castToNumberIfString:r}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),r=a("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return e.settings.global?n(e,t):r(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),i=n.resolve();e.exports=function(e){var t=new n((function(t){var a=r(e);n.all([a,i]).then((function(e){var a=e[0];t(a)}))}));return i=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,n;a=this,n=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(){}function o(){var e=p.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,a){function n(e){e=a.beforeWrite(e),m.write(e),a.afterWrite(e)}(m=new d.default(e,a)).id=f++,m.name=a.name||m.id,l.streams[m.name]=m;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};c(r,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join("")+"\n")}});var u=m.win.onerror||i;return m.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),u.apply(m.win,[e,t,n])},m.write(t,(function(){c(r,s),m.win.onerror=u,a.done(),m=null,o()})),m}function l(e,t,a){if(u.isFunction(a))a={done:a};else if("clear"===a)return p=[],m=null,void(f=0);a=u.defaults(a,g);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=i}},a.beforeEnqueue(n),p.push(n),m||o(),e.postscribe}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var d=r(a(2)),u=n(a(4)),g={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw new Error(e.msg)},releaseAsync:!1},f=0,p=[],m=null;c(l,{streams:{},queue:p,WriteStream:d.default})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var a=g+t,n=e.getAttribute(a);return d.existy(n)?String(n):n}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=g+t;d.existy(a)&&""!==a?e.setAttribute(n,a):e.removeAttribute(n)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=r(a(3)),d=n(a(4)),u=!1,g="data-ps-",f="ps-style",p="ps-script",m=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new c.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(a=d.isScript(t))&&!(n=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],n=[],r=[],i=e.length,o=0;o<i;o++){var s=e[o],l=s.toString();if(a.push(l),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;n.push(l.replace(/(\/?>)/," "+g+"id="+c+" $1")),s.attrs.id!==p&&s.attrs.id!==f&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+c+(s.unary?" />":">"))}}else n.push(l),r.push("endTag"===s.type?l:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!o(e,"proxyof")){a&&(this.actuals[o(e,"id")]=e,s(e,"id"));var n=e.parentNode&&o(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,f),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),r=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?r:function(){t(),r()}));try{this._insertCursor(a,p),a.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){a(),null!=t&&t(),t=null}function r(e){a(),o(e),null!=t&&t(),t=null}function i(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;i(e,"load"),i(e,"error"),l(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=r(a(2)),s=r(a(3)),l=n(a(6)),c=a(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.stream=a;var r=!1,s={};for(var c in o)o.hasOwnProperty(c)&&(n.autoFix&&(s[c+"Fix"]=!0),r=r||s[c+"Fix"]);r?(this._readToken=(0,l.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,l.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,c.escapeQuotes)(e[a],null));return t},u.supports=o,o)o.hasOwnProperty(g)&&(u.browserHasFlaw=u.browserHasFlaw||!o[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var a=!1,n=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=a=r.innerHTML!==i}catch(e){t.tagSoup=a=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(t>=0)return new c.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new c.CharsToken(t>=0?t:e.length)}function i(e){var t,a,n;if(-1!==e.indexOf(">")){var r=e.match(d.startTag);if(r){var i=(t={},a={},n=r[2],r[2].replace(d.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(r)&&r||"":t[r]="",n=n.replace(e,"")})),{v:new c.StartTagToken(r[1],r[0].length,t,a,!!r[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===i?"undefined":l(i)))return i.v}}}function o(e){var t=i(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new c.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new c.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=r,t.startTag=i,t.atomicTag=o,t.endTag=s;var c=a(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=a(5),i=(t.Token=function e(t,a){n(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){n(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){n(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,r,i,o){n(this,e),this.type=t,this.length=r,this.text="",this.tagName=a,this.attrs=i,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){a+=" "+n;var i=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(a+='="'+(0,r.escapeQuotes)(i)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,r,i,o,s){n(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return i.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,r,i,o){n(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return i.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){n(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var n=e.stream,r=a(t());return e.stream=n,r}function r(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function i(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last()
;return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=n(e,o);t&&d[t.type]&&d[t.type](t)}var c=i(),d={startTag:function(a){var n=a.tagName;"TR"===n.toUpperCase()&&c.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&l.test(n)&&c.containsTagName(n)?c.lastTagNameEq(n)?r(e,c):(e.prepend("</"+a.tagName+">"),s()):a.unary||c.push(a)},endTag:function(a){c.last()?t.tagSoupFix&&!c.lastTagNameEq(a.tagName)?r(e,c):c.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),a(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function n(e){return"function"==typeof e}function r(e,t,a){var n=void 0,r=e&&e.length||0;for(n=0;n<r;n++)t.call(a,e[n],n)}function i(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function o(e,t){return e=e||{},i(t,(function(t,n){a(e[t])||(e[t]=n)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],r(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":g(t)))return t.v}var a}function l(e){return e[e.length-1]}function c(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return c(e,"script")}function u(e){return c(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=n,t.each=r,t.eachKey=i,t.defaults=o,t.toArray=s,t.last=l,t.isTag=c,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.postscribe=n():a.postscribe=n()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=function(e){for(var t=n.querySelectorAll("script"),a=0;a<t.length;a++){var r=t[a];if(e.test(r.src))return r}},i=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:i,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var a="_runScript"+ ++r,i=new n((function(t,r){_satellite[a]=function(i){delete _satellite[a],new n((function(t){t(i.call(e.event.element,e.event,e.event.target,n))})).then(t,r)}}));return{code:'<script>_satellite["'+a+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:i}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-promise"),i=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},l=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},c=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return c(e)&&(t=n.replaceTokens(t,e.event)),s(t)?(a=new r((function(e,t){o[String(i)]={resolve:e,reject:t}})),t=l(t,i),i+=1):a=r.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),i=a("../../helpers/findPageScript").byRegexPattern,o={},s={},l=function(e){return s[e]||(s[e]=n(e)),s[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");a=i(n).getAttribute("src")}o[a]=t},e.exports=function(e){return o[e]?r.resolve(o[e]):new r((function(t){l(e).then((function(){t(o[e])}),(function(){t()}))}))}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbdfb4b2e3570442dafcd49b858f2288a/",settings:{orgId:"2F2827E253DAF0E10A490D4E@AdobeOrg",doesOptInApply:!0,previousPermissions:"%AdobeOptIns%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-document"),i=a("../codeLibrary/VisitorAPI"),o=a("../../view/utils/timeUnits"),s=function(e){return e.reduce((function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e}),{})},l=function(e){var t=n.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=s(t.variables||[]),r=t.doesOptInApply;r&&("boolean"==typeof r?a.doesOptInApply=r:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var i=t.isOptInStorageEnabled;i&&(a.isOptInStorageEnabled=i);var l=t.optInCookieDomain;l&&(a.optInCookieDomain=l);var c=t.optInStorageExpiry;if(c){var d=t.timeUnit;if(d&&o[d]){var u=c*o[d];a.optInStorageExpiry=u}}else!0===i&&(a.optInStorageExpiry=33696e3);var g=t.previousPermissions;g&&(a.previousPermissions=g);var f=t.preOptInApprovals;if(f)a.preOptInApprovals=f;else{var p=t.preOptInApprovalInput;p&&(a.preOptInApprovals=p)}var m=t.isIabContext;m&&(a.isIabContext=m);var h=e.getInstance(t.orgId,a);return n.logger.info('Created instance using orgId: "'+t.orgId+'"'),n.logger.info("Set variables: "+JSON.stringify(a)),h.getMarketingCloudVisitorID((function(e){n.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),h},c=function(e){return(n.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},d=null;_satellite.getVisitorId=function(){return d},c(r.location.pathname)?n.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):d=l(i),e.exports=d},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,n=this;return function(){n.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!w.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var a=void 0!==e[t]?e[t]:"";this.execute(t,a)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function n(e,t,a){var n=null==e?void 0:e[t];return void 0===n?a:n}function r(e){for(var t=/^\d+$/,a=0,n=e.length;a<n;a++)if(!t.test(e[a]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var a=0;a<e.length;a++){var n=parseInt(e[a],10),r=parseInt(t[a],10);if(n>r)return 1;if(r>n)return-1}return 0}function s(e,t){if(e===t)return 0;var a=e.toString().split("."),n=t.toString().split(".");return r(a.concat(n))?(i(a,n),o(a,n)):NaN}function l(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=de("log",e,t),this.warn=de("warn",e,t),this.error=de("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:Ee,set:Ee,remove:Ee};var a={remove:function(){t.remove(e)},get:function(){var a=t.get(e),n={};try{n=JSON.parse(a)}catch(a){n={}}return n},set:function(n,r){r=r||{};var i=a.get(),o=Object.assign(i,n);t.set(e,JSON.stringify(o),{domain:r.optInCookieDomain||"",cookieLifetime:r.optInStorageExpiry||3419e4,expires:!0})}};return a}function g(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function f(){function e(e,t){var a=me(e);return a.length?a.every((function(e){return!!t[e]})):he(t)}function t(){I(k),E(te.COMPLETE),h(m.status,m.permissions),s&&p.set(m.permissions,{optInCookieDomain:l,optInStorageExpiry:c}),v.execute(De)}function a(e){return function(a,n){if(!ve(a))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return E(te.CHANGED),Object.assign(k,ye(me(a),e)),n||t(),m}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.doesOptInApply,i=n.previousPermissions,o=n.preOptInApprovals,s=n.isOptInStorageEnabled,l=n.optInCookieDomain,c=n.optInStorageExpiry,d=n.isIabContext,g=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,f=Ie(i);Ve(f,"Invalid `previousPermissions`!"),Ve(o,"Invalid `preOptInApprovals`!");var p=u({cookieName:"adobeujs-optin"},{cookies:g}),m=this,h=ee(m),v=se(),y=Pe(f),b=Pe(o),_=s?p.get():{},P={},C=function(e,t){return Ce(e)||t&&Ce(t)?te.COMPLETE:te.PENDING}(y,_),S=function(e,t,a){var n=ye(oe,!r);return r?Object.assign({},n,e,t,a):n}(b,y,_),k=be(S),E=function(e){return C=e},I=function(e){return S=e};m.deny=a(!1),m.approve=a(!0),m.denyAll=m.deny.bind(m,oe),m.approveAll=m.approve.bind(m,oe),m.isApproved=function(t){return e(t,m.permissions)},m.isPreApproved=function(t){return e(t,b)},m.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?m.on(te.COMPLETE,e):Ee;return!r||r&&m.isComplete||o?e(m.permissions):t||v.add(De,(function(){return e(m.permissions)})),a},m.complete=function(){m.status===te.CHANGED&&t()},m.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Oe);P[e.name]||(P[e.name]=e,e.onRegister.call(e,m))},m.execute=we(P),m.memoizeContent=function(e){ke(e)&&p.set(e,{optInCookieDomain:l,optInStorageExpiry:c})},m.getMemoizedContent=function(e){var t=p.get();if(t)return t[e]},Object.defineProperties(m,{permissions:{get:function(){return S}},status:{get:function(){return C}},Categories:{get:function(){return ae}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return m.status===te.PENDING}},isComplete:{get:function(){return m.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(P)}},isIabContext:{get:function(){return d}}})}function p(e,t){function a(){r=null,e.call(e,new g("The call took longer than you wanted!"))}function n(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(a,t);return n}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var a={};return window.__tcfapi=function(e,n,r,i){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:i,version:n,callId:o}};a[o]=r,t.postMessage(s,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var n=t.__tcfapiReturn;"function"==typeof a[n.callId]&&(a[n.callId](n.returnValue,n.success),delete a[n.callId])}}),!1),window.__tcfapi}fe.error("__tcfapi not found")}else fe.error("__tcfapi not found")}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!0===e.vendor.consents[t],r=a.every((function(t){return!0===e.purpose.consents[t]}));return n&&r}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,a=se(),n={transparencyAndConsentData:null},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n[e]=t};e.fetchConsentData=function(e){var t=p(e.callback,e.timeout);i({callback:t})},e.isApproved=function(e){var t=e.callback,a=e.category,r=e.timeout;if(n.transparencyAndConsentData)return t(null,h(n.transparencyAndConsentData,ne[a],re[a]));var o=p((function(e,n){t(e,h(n,ne[a],re[a]))}),r);i({category:a,callback:o})},e.onRegister=function(a){t=a;var n=Object.keys(ne),r=function(e,t){!e&&t&&(n.forEach((function(e){var n=h(t,ne[e],re[e]);a[n?"approve":"deny"](e,!0)})),a.complete())};e.fetchConsentData({callback:r})};var i=function(e){var i=e.callback;if(n.transparencyAndConsentData)return i(null,n.transparencyAndConsentData);a.add("FETCH_CONSENT_DATA",i),o((function(e,i){if(i){var o=be(e),s=t.getMemoizedContent("iabConsentHash"),l=ge(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==l,r("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:l})}a.execute("FETCH_CONSENT_DATA",[null,n.transparencyAndConsentData])}))},o=function(e){var t=Te(ne),a=m();"function"==typeof a&&a("getTCData",2,e,t)}}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,n=1;n<arguments.length;++n)for(t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var b,_,P={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},C=P.STATE_KEYS_MAP,S=function(e){function t(){}function a(t,a){var n=this;return function(){var r=e(0,t),i={};return i[t]=r,n.setStateAndPublish(i),a(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(C.MCMID,e),r=a.call(this,C.MCMID,e);return void 0!==n?n:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},k=P.MESSAGES,E=P.ASYNC_API_MAP,I=P.SYNC_API_MAP,V=function(){function e(){}function t(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(k.GETSTATE),""}}function a(a){this[E[a]]=function(n){n=n||e;var r=this.findField(a,n),i=t.call(this,a,n);return void 0!==r?r:i()}}function n(t){this[I[t]]=function(){return this.findField(t,e)||{}}}Object.keys(E).forEach(a,this),Object.keys(I).forEach(n,this)},A=P.ASYNC_API_MAP,T=function(){Object.keys(A).forEach((function(e){this[A[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},w=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,a){a.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},a.isValueEmpty=function(e){return""===e||a.isObjectEmpty(e)};var n=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};a.getIeVersion=function(){return document.documentMode?document.documentMode:n()?7:null},a.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},a.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},a.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},a.defineGlobalNamespace=function(){return window.adobe=a.isObject(window.adobe)?window.adobe:{},window.adobe},a.pluck=function(e,t){return t.reduce((function(t,a){return e[a]&&(t[a]=e[a]),t}),Object.create(null))},a.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var n=parseInt(e.d_ottl,10);return isNaN(n)&&(n=7200),{optOut:t,d_ottl:n}},a.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),D=(w.isObjectEmpty,w.isValueEmpty,w.getIeVersion,w.isFirefox,w.encodeAndBuildRequest,w.isObject,w.defineGlobalNamespace,w.pluck,w.parseOptOut,w.normalizeBoolean,a),O=P.MESSAGES,L={0:"prefix",1:"orgID",2:"state"},N=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,a){void 0!==e&&(t[L[a]]=2!==a?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(a){var n=this.parse(a);if(!n||Object.keys(n).length<2)return!0;var r=e!==n.orgID,i=!t||a.origin!==t,o=-1===Object.keys(O).indexOf(n.prefix);return r||i||o},this.send=function(a,n,r){var i=n+"|"+e;r&&r===Object(r)&&(i+="|"+JSON.stringify(r));try{a.postMessage(i,t)}catch(e){}}},M=P.MESSAGES,x=function(e,t,a,n){function r(e){Object.assign(f,e)}function i(e){Object.assign(f.state,e),Object.assign(f.state.ALLFIELDS,e),f.callbackRegistry.executeAll(f.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);f.setStateAndPublish(t.state)}}function s(e){!m&&p&&(m=!0,h.send(n,e))}function l(){r(new S(a._generateID)),f.getMarketingCloudVisitorID(),f.callbackRegistry.executeAll(f.state,!0),y.removeEventListener("message",c)}function c(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,y.clearTimeout(f._handshakeTimeout),y.removeEventListener("message",c),r(new V(f)),y.addEventListener("message",o),f.setStateAndPublish(t.state),f.callbackRegistry.hasCallbacks()&&s(M.GETSTATE)}}function d(){p&&postMessage?(y.addEventListener("message",c),s(M.HANDSHAKE),f._handshakeTimeout=setTimeout(l,250)):l()}function u(){y.s_c_in||(y.s_c_il=[],y.s_c_in=0),f._c="Visitor",f._il=y.s_c_il,f._in=y.s_c_in,f._il[f._in]=f,y.s_c_in++}function g(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(f[e]=function(){})}Object.keys(a).forEach(e),f.getSupplementalDataID=a.getSupplementalDataID,f.isAllowed=function(){return!0}}var f=this,p=t.whitelistParentDomain;f.state={ALLFIELDS:{}},f.version=a.version,f.marketingCloudOrgID=e,f.cookieDomain=a.cookieDomain||"",f._instanceType="child";var m=!1,h=new N(e,p);f.callbackRegistry=D(),f.init=function(){u(),g(),r(new T(f)),d()},f.findField=function(e,t){if(void 0!==f.state[e])return t(f.state[e]),f.state[e]},f.messageParent=s,f.setStateAndPublish=i},F=P.MESSAGES,R=P.ALL_APIS,j=P.ASYNC_API_MAP,B=P.FIELDGROUP_TO_FIELD,U=function(e,t){function a(){var t={};return Object.keys(R).forEach((function(a){var n=R[a],r=e[n]();w.isValueEmpty(r)||(t[a]=r)})),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(a){if(e._loading[a]){var n=B[a];t.push(n)}})),t.length?t:null}function r(t){return function a(){var r=n();if(r){var i=j[r[0]];e[i](a,!0)}else t()}}function i(e,n){var r=a();t.send(e,n,r)}function o(e){l(e),i(e,F.HANDSHAKE)}function s(e){r((function(){i(e,F.PARENTSTATE)}))()}function l(a){function n(n){r.call(e,n),t.send(a,F.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){t.isInvalid(e)||(t.parse(e).prefix===F.HANDSHAKE?o:s)(e.source)}},G=function(e,t){function a(e){return function(a){n[e]=a,++r===i&&t(n)}}var n={},r=0,i=Object.keys(e).length;Object.keys(e).forEach((function(t){var n=e[t];if(n.fn){var r=n.args||[];r.unshift(a(t)),n.fn.apply(n.context||null,r)}}))},q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),n=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,n<0?t.length:n))},set:function(e,t,a){var r=n(a,"cookieLifetime"),i=n(a,"expires"),o=n(a,"domain"),s=n(a,"secure"),l=n(a,"sameSite"),c=s?"Secure":"",d=l?"SameSite="+l+";":"";if(i&&"SESSION"!==r&&"NONE"!==r){var u=""!==t?parseInt(r||0,10):-60;if(u)(i=new Date).setTime(i.getTime()+1e3*u);else if(1===i){var g=(i=new Date).getYear();i.setYear(g+2+(g<1900?1900:0))}}else i=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(o?" domain="+o+";":"")+d+c,this.get(e)===t):0},remove:function(e,t){var a=n(t,"domain");a=a?" domain="+a+";":"";var r=n(t,"secure"),i=n(t,"sameSite"),o=r?"Secure":"",s=i?"SameSite="+i+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+s+o}},H=function(e,t){!e&&y.location&&(e=y.location.hostname);var a,n=e.split("."),r=t||{};for(a=n.length-2;a>=0;a--)if(r.domain=n.slice(a).join("."),q.set("TEST_AMCV_COOKIE_WRITE","cookie",r))return q.remove("TEST_AMCV_COOKIE_WRITE",r),r.domain;return""},z={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},$=!!y.postMessage,J={postMessage:function(e,t,a){var n=1;t&&($?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+e))},receiveMessage:function(e,t){var a;try{$&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),y.addEventListener?y[e?"addEventListener":"removeEventListener"]("message",a):y[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(e){}}},W=function(e){var t,a,n="0123456789",r="",i="",o=8,s=10,l=10,c=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(n+="ABCDEF",t=0;16>t;t++)a=Math.floor(Math.random()*o),4>t&&c[t]<o&&(a=+c[t]),r+=n.substring(a,a+1),a=Math.floor(Math.random()*o),i+=n.substring(a,a+1),o=16;return r+"-"+i}for(t=0;19>t;t++)a=Math.floor(Math.random()*s),6>t&&c[t]<s?(r+=c[t],a=c[t]):r+=n.substring(a,a+1),0===t&&9==a?s=3:((1==t||2==t)&&10!=s&&2>a||2<t)&&(s=10),a=Math.floor(Math.random()*l),i+=n.substring(a,a+1),0===t&&9==a?l=3:((1==t||2==t)&&10!=l&&2>a||2<t)&&(l=10);return r+i},Q=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(y.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new y[this.corsMetadata.corsType]},fireCORS:function(t,a){function n(e){var a;try{if((a=JSON.parse(e))!==Object(a))return void r.handleCORSError(t,null,"Response is not JSON")}catch(e){return void r.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var n=t.callback,i=y,o=0;o<n.length;o++)i=i[n[o]];i(a)}catch(e){r.handleCORSError(t,e,"Error forming callback function")}}var r=this;a&&(t.loadErrorHandler=a);try{var i=this.getCORSInstance();i.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(i.withCredentials=!0,i.timeout=e.loadTimeout,i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this.responseText)}),i.onerror=function(e){r.handleCORSError(t,e,"onerror")},i.ontimeout=function(e){r.handleCORSError(t,e,"ontimeout")},i.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,a,n){e.CORSErrors.push({corsData:t,error:a,description:n}),t.loadErrorHandler&&("ontimeout"===n?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},Y={POST_MESSAGE_ENABLED:!!y.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},K=function(e,t){var a=y.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,n="http://fast.",r="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(n=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=n+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:Y.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(r=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=n.id,r.name=n.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=n.url,n.newIframeCreated=!0,t(),a.body.appendChild(r)}function t(e){r.addEventListener("load",(function(){r.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()}))}this.startedAttachingIframe=!0;var n=this,r=a.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function a(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var n,r=this;if(t===Object(t)&&t.ibs)if(n=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var i,o,s,l=!1;for(i=0,o=this.jsonForComparison.length;i<o;i++)if(s=this.jsonForComparison[i],n===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):a()}else a();if((this.receivedThirdPartyCookiesNotification||!Y.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){r.messageSendingInterval=Y.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,a){var n=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return n?r&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",r),parseInt(n,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),n=r)):(n=r)&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",n)),n||(n=""),n},processSyncOnPage:function(e){var t,a,n,r;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(n=0;n<a;n++)(r=t[n]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,a,n,r,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=!0,n=0;n<a;n++)r=t[n],i=[o("ibs"),o(r.id||""),o(r.tag||""),w.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,a,n){var r="syncOnPage"===n,i=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(i),c=!1,d=!1,u=Math.ceil((new Date).getTime()/Y.MILLIS_PER_DAY);l?(o=l.split("*"),c=(s=this.pruneSyncData(o,t.id,u)).dataPresent,d=s.dataValid,c&&d||this.fireSync(r,t,a,o,i,u)):(o=[],this.fireSync(r,t,a,o,i,u))},pruneSyncData:function(e,t,a){var n,r,i,o=!1,s=!1;for(r=0;r<e.length;r++)n=e[r],i=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(o=!0,a<i?s=!0:(e.splice(r,1),r--)):a>=i&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,a,n,r,i,o){var s=this;if(t){if("img"===a.tag){var l,c,d,u,g=a.url,f=e.loadSSL?"https:":"http:";for(l=0,c=g.length;l<c;l++){d=g[l],u=/^\/\//.test(d);var p=new Image;p.addEventListener("load",function(t,a,n,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,l,c,d,u=e._getField(i),g=[];if(u)for(l=0,c=(o=u.split("*")).length;l<c;l++)(d=o[l]).match("^"+a.id+"-")||g.push(d);s.setSyncTrackingData(g,a,n,r)}}(this.onPagePixels.length,a,i,o)),p.src=(u?f:"")+d,this.onPagePixels.push(p)}}}else this.addMessage(n),this.setSyncTrackingData(r,a,i,o)},addMessage:function(t){var a=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((Y.POST_MESSAGE_ENABLED?"":a)+t)},setSyncTrackingData:function(t,a,n,r){t.push(a.id+"-"+(r+Math.ceil(a.ttl/60/24))),this.manageSyncsSize(t),e._setField(n,t.join("*"))},sendMessages:function(){var e,t=this,a="",n=encodeURIComponent;this.regionChanged&&(a=n("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?Y.POST_MESSAGE_ENABLED?(e=a+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){J.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(n){
(null==this.url||n.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=n.subdomain||"",this.url=this.getUrl()),n.ibs instanceof Array&&n.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(n):this.requestToProcess(n),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(n)},canMakeSyncIDCall:function(t,a){return e._forceSyncIDCall||!t||a-t>Y.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},Z={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e,t){return X[e]&&"boolean"===X[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,a,n){if(!a||"function"!=typeof a)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:a,context:n})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.off=function(e,a){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==a)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var a=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,a)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ae={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ne=(t(b={},ae.AAM,565),t(b,ae.ECID,565),b),re=(t(_={},ae.AAM,[1,10]),t(_,ae.ECID,[1,10]),_),ie=["videoaa","iabConsentHash"],oe=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ae),se=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,a){if(!c(a))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var n=e.callbacks[t].push(a)-1;return function(){e.callbacks[t].splice(n,1)}},e.execute=function(t,a){if(e.callbacks[t]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;e.callbacks[t].length;){var n=e.callbacks[t].shift();"function"==typeof n?n.apply(null,a):n instanceof Array&&n[1].apply(n[0],a)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,a){(a||t&&!l(t))&&Object.keys(e.callbacks).forEach((function(a){var n=void 0!==t[a]?t[a]:"";e.execute(a,n)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},le=function(){},ce=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},de=function(e,t,a){return a()?function(){if(ce(e)){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];console[e].apply(console,[t].concat(n))}}:le},ue=d,ge=function(){for(var e=[],t=0;t<256;t++){for(var a=t,n=0;n<8;n++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a^=-1;for(var n=0;n<t.length;n++){var r=255&(a^t.charCodeAt(n));a=a>>>8^e[r]}return(a^=-1)>>>0}}(),fe=new ue("[ADOBE OPT-IN]"),pe=function(t,a){return e(t)===a},me=function(e,t){return e instanceof Array?e:pe(e,"string")?[e]:t||[]},he=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||_e(e))&&me(e).every((function(e){return oe.indexOf(e)>-1||t&&ie.indexOf(e)>-1}))},ye=function(e,t){return e.reduce((function(e,a){return e[a]=t,e}),{})},be=function(e){return JSON.parse(JSON.stringify(e))},_e=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Pe=function(e){if(ke(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Ce=function(e){return void 0===e||(ke(e)?ve(Object.keys(e),!0):Se(e))},Se=function(e){try{var t=JSON.parse(e);return!!e&&pe(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},ke=function(e){return null!==e&&pe(e,"object")&&!1===Array.isArray(e)},Ee=function(){},Ie=function(e){return pe(e,"function")?e():e},Ve=function(e,t){Ce(e)||fe.error("".concat(t))},Ae=function(e){return Object.keys(e).map((function(t){return e[t]}))},Te=function(e){return Ae(e).filter((function(e,t,a){return a.indexOf(e)===t}))},we=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.command,n=t.params,r=void 0===n?{}:n,i=t.callback,o=void 0===i?Ee:i;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=a.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var d=Object.assign(r,{callback:o});l[c].call(l,d)}catch(e){fe.error("[execute] Something went wrong: "+e.message)}}};g.prototype=Object.create(Error.prototype),g.prototype.constructor=g;var De="fetchPermissions",Oe="[OptIn#registerPlugin] Plugin is invalid.";f.Categories=ae,f.TimeoutError=g;var Le=Object.freeze({OptIn:f,IabPlugin:v}),Ne=function(e,t){e.publishDestinations=function(a){var n=arguments[1],r=arguments[2];try{r="function"==typeof r?r:a.callback}catch(e){r=function(){}}var i=t;if(i.readyToAttachIframePreliminary()){if("string"==typeof a){if(!a.length)return void r({error:"subdomain is not a populated string."});if(!(n instanceof Array&&n.length))return void r({error:"messages is not a populated array."});var o=!1;if(n.forEach((function(e){"string"==typeof e&&e.length&&(i.addMessage(e),o=!0)})),!o)return void r({error:"None of the messages are populated strings."})}else{if(!w.isObject(a))return void r({error:"Invalid parameters passed."});var s=a;if("string"!=typeof(a=s.subdomain)||!a.length)return void r({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void r({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach((function(e){w.isObject(e)&&(e.hideReferrer?e.message&&i.addMessage(e.message):c.push(e))})),function e(){c.length&&setTimeout((function(){var t=new Image,a=c.shift();t.src=a.url,i.onPageDestinationsFired.push(a),e()}),100)}()}i.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),i.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(i.subdomain=a,i.doAttachIframe=!0,i.url=i.getUrl(),i.readyToAttachIframe()?(i.iframeLoadedCallbacks.push((function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),i.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):i.iframeLoadedCallbacks.push((function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}},Me=function e(t){function a(e,t){return e>>>t|e<<32-t}for(var n,r,i=Math.pow,o=i(2,32),s="",l=[],c=8*t.length,d=e.h=e.h||[],u=e.k=e.k||[],g=u.length,f={},p=2;g<64;p++)if(!f[p]){for(n=0;n<313;n+=p)f[n]=p;d[g]=i(p,.5)*o|0,u[g++]=i(p,1/3)*o|0}for(t+="\x80";t.length%64-56;)t+="\0";for(n=0;n<t.length;n++){if((r=t.charCodeAt(n))>>8)return;l[n>>2]|=r<<(3-n)%4*8}for(l[l.length]=c/o|0,l[l.length]=c,r=0;r<l.length;){var m=l.slice(r,r+=16),h=d;for(d=d.slice(0,8),n=0;n<64;n++){var v=m[n-15],y=m[n-2],b=d[0],_=d[4],P=d[7]+(a(_,6)^a(_,11)^a(_,25))+(_&d[5]^~_&d[6])+u[n]+(m[n]=n<16?m[n]:m[n-16]+(a(v,7)^a(v,18)^v>>>3)+m[n-7]+(a(y,17)^a(y,19)^y>>>10)|0);(d=[P+((a(b,2)^a(b,13)^a(b,22))+(b&d[1]^b&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+P|0}for(n=0;n<8;n++)d[n]=d[n]+h[n]|0}for(n=0;n<8;n++)for(r=3;r+1;r--){var C=d[n]>>8*r&255;s+=(C<16?0:"")+C.toString(16)}return s},xe=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Me(e)),e},Fe=function(e){return String(e).trim().toLowerCase()},Re=Le.OptIn;w.defineGlobalNamespace(),window.adobe.OptInCategories=Re.Categories;var je=function(t,a,n){function r(){b._customerIDsHashChanged=!1}function i(e){var t=e;return function(e){var a=e||I.location.href;try{var n=b._extractParamFromUri(a,t);if(n)return te.parsePipeDelimetedKeyValues(n)}catch(e){}}}function o(e){function t(e,t,a){e&&e.match(Y.VALID_VISITOR_ID_REGEX)&&(a===O&&(E=!0),t(e))}t(e[O],b.setMarketingCloudVisitorID,O),b._setFieldExpire(R,-1),t(e[x],b.setAnalyticsVisitorID)}function s(e){e=e||{},b._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",b._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},b._supplementalDataIDLast=e.supplementalDataIDLast||"",b._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function l(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function a(e,a){var n=a[0],r=a[1];return null!=r&&r!==j&&(e=t(n,r,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(a,""))}function c(e){var t=e.minutesToLive,a="";return(b.idSyncDisableSyncs||b.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function d(){return!(!b.configs.doesOptInApply||_.optIn.isComplete&&u())}function u(){return b.configs.doesOptInApply&&b.configs.isIabContext?_.optIn.isApproved(_.optIn.Categories.ECID)&&k:_.optIn.isApproved(_.optIn.Categories.ECID)}function g(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],a=2===e.length?e[1]:"",n=b[t];b[t]=function(e){return u()&&b.isAllowed()?n.apply(b,arguments):("function"==typeof e&&b._callCallback(e,[a]),a)}}))}function f(){var e=b._getAudienceManagerURLData(),t=e.url;return b._loadData(D,t,null,e)}function p(e,t){if(k=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(C=t.consentString,S=t.hasConsentChangedSinceLastCmpPull?1:0),f(),v()}function m(e,t){if(k=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(C=t.consentString,S=t.hasConsentChangedSinceLastCmpPull?1:0),b.init(),v()}function h(){_.optIn.isComplete&&(_.optIn.isApproved(_.optIn.Categories.ECID)?b.configs.isIabContext?_.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(b.init(),v()):b.configs.isIabContext?_.optIn.execute({command:"iabPlugin.fetchConsentData",callback:p}):(g(),v()))}function v(){_.optIn.off("complete",h)}if(!n||n.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var b=this,_=window.adobe,C="",S=0,k=!1,E=!1;b.version="5.4.0";var I=y,V=I.Visitor;V.version=b.version,V.AuthState=P.AUTH_STATE,V.OptOut=P.OPT_OUT,I.s_c_in||(I.s_c_il=[],I.s_c_in=0),b._c="Visitor",b._il=I.s_c_il,b._in=I.s_c_in,b._il[b._in]=b,I.s_c_in++,b._instanceType="regular",b._log={requests:[]},b.marketingCloudOrgID=t,b.cookieName="AMCV_"+t,b.sessionCookieName="AMCVS_"+t;var A={};a&&a.secureCookie&&a.sameSiteCookie&&(A={sameSite:a.sameSiteCookie,secure:a.secureCookie}),b.cookieDomain=b.useLocalStorage?"":H(null,A),b.loadSSL=!0,b.loadTimeout=3e4,b.CORSErrors=[],b.marketingCloudServer=b.audienceManagerServer="dpm.demdex.net",b.sdidParamExpiry=30;var T=null,D="MC",O="MCMID",L="MCIDTS",M="A",x="MCAID",F="AAM",R="MCAAMB",j="NONE",B=function(e){return!Object.prototype[e]},$=Q(b);b.FIELDS=P.FIELDS,b.cookieRead=function(e){return b.useLocalStorage?e===b.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):q.get(e)},b.cookieWrite=function(e,t,a){var n=""+t;if(b.useLocalStorage)return e===b.sessionCookieName?sessionStorage.setItem(e,n):localStorage.setItem(e,n);var r=b.cookieLifetime?(""+b.cookieLifetime).toUpperCase():"",i={expires:a,domain:b.cookieDomain,cookieLifetime:r};return b.configs&&b.configs.secureCookie&&"https:"===location.protocol&&(i.secure=!0),b.configs&&b.configs.sameSiteCookie&&"https:"===location.protocol&&(i.sameSite=P.SAME_SITE_VALUES[b.configs.sameSiteCookie.toUpperCase()]||"Lax"),q.set(e,n,i)},b.removeCookie=function(e){if(b.useLocalStorage)return e===b.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:b.cookieDomain};return b.configs&&b.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),b.configs&&b.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=P.SAME_SITE_VALUES[b.configs.sameSiteCookie.toUpperCase()]||"Lax"),q.remove(e,t)},b.resetState=function(e){e?b._mergeServerState(e):s()},b._isAllowedDone=!1,b._isAllowedFlag=!1,b.isAllowed=function(){return b._isAllowedDone||(b._isAllowedDone=!0,(b.cookieRead(b.cookieName)||b.cookieWrite(b.cookieName,"T",1))&&(b._isAllowedFlag=!0)),"T"===b.cookieRead(b.cookieName)&&b.removeCookie(b.cookieName),b._isAllowedFlag},b.setMarketingCloudVisitorID=function(e){b._setMarketingCloudFields(e)},b._use1stPartyMarketingCloudServer=!1,b.getMarketingCloudVisitorID=function(e,t){b.marketingCloudServer&&b.marketingCloudServer.indexOf(".demdex.net")<0&&(b._use1stPartyMarketingCloudServer=!0);var a=b._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;return b._getRemoteField(O,n,e,t,a)};var X=function(e,t){var a={};b.getMarketingCloudVisitorID((function(){t.forEach((function(e){a[e]=b._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?b.isOptedOut((function(t){a.MCOPTOUT=t,e(a)}),null,!0):e(a)}),!0)};b.getVisitorValues=function(e,t){var a={MCMID:{fn:b.getMarketingCloudVisitorID,args:[!0],context:b},MCOPTOUT:{fn:b.isOptedOut,args:[void 0,!0],context:b},MCAID:{fn:b.getAnalyticsVisitorID,args:[!0],context:b},MCAAMLH:{fn:b.getAudienceManagerLocationHint,args:[!0],context:b},MCAAMB:{fn:b.getAudienceManagerBlob,args:[!0],context:b}},n=t&&t.length?w.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?X(e,t):G(n,e)},b._currentCustomerIDs={},b._customerIDsHashChanged=!1,b._newCustomerIDsHash="",b.setCustomerIDs=function(t,a){if(!b.isOptedOut()&&t){if(!w.isObject(t)||w.isObjectEmpty(t))return!1;var n,i,o,s;for(n in b._readVisitor(),t)if(B(n)&&(b._currentCustomerIDs.dataSources=b._currentCustomerIDs.dataSources||{},a=(i=t[n]).hasOwnProperty("hashType")?i.hashType:a,i))if("object"===e(i)){var l={};if(i.id){if(a){if(!(s=xe(Fe(i.id),a)))return;i.id=s,l.hashType=a}l.id=i.id}null!=i.authState&&(l.authState=i.authState),b._currentCustomerIDs.dataSources[n]=l}else if(a){if(!(s=xe(Fe(i),a)))return;b._currentCustomerIDs.dataSources[n]={id:s,hashType:a}}else b._currentCustomerIDs.dataSources[n]={id:i};var c=b.getCustomerIDs(!0),d=b._getField("MCCIDH"),u="";for(o in d||(d=0),c){var g=c[o];if(!w.isObjectEmpty(g))for(n in g)B(n)&&(u+=(u?"|":"")+n+"|"+((i=g[n]).id?i.id:"")+(i.authState?i.authState:""))}b._newCustomerIDsHash=String(b._hash(u)),b._newCustomerIDsHash!==d&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(r))}},b.syncIdentity=function(t,a){if(!b.isOptedOut()&&t){if(!w.isObject(t)||w.isObjectEmpty(t))return!1;var n,i,o,s,l;for(n in b._readVisitor(),t)if(B(n)&&(b._currentCustomerIDs.nameSpaces=b._currentCustomerIDs.nameSpaces||{},a=(i=t[n]).hasOwnProperty("hashType")?i.hashType:a,i&&"object"===e(i))){var c={};if(i.id){if(a){if(!(o=xe(Fe(i.id),a)))return;i.id=o,c.hashType=a}c.id=i.id}null!=i.authState&&(c.authState=i.authState),i.dataSource&&(b._currentCustomerIDs.dataSources=b._currentCustomerIDs.dataSources||{},s=i.dataSource,b._currentCustomerIDs.dataSources[s]=c),b._currentCustomerIDs.nameSpaces[n]=c}var d=b.getCustomerIDs(!0),u=b._getField("MCCIDH"),g="";for(l in u||(u="0"),d){var f=d[l];if(!w.isObjectEmpty(f))for(n in f)B(n)&&(g+=(g?"|":"")+n+"|"+((i=f[n]).id?i.id:"")+(i.authState?i.authState:""))}b._newCustomerIDsHash=String(b._hash(g)),b._newCustomerIDsHash!==u&&(b._customerIDsHashChanged=!0,b._mapCustomerIDs(r))}},b.getCustomerIDs=function(e){b._readVisitor();var t,a,n={dataSources:{},nameSpaces:{}},r=b._currentCustomerIDs.dataSources;for(t in r)B(t)&&(a=r[t]).id&&(n.dataSources[t]||(n.dataSources[t]={}),n.dataSources[t].id=a.id,null!=a.authState?n.dataSources[t].authState=a.authState:n.dataSources[t].authState=V.AuthState.UNKNOWN,a.hashType&&(n.dataSources[t].hashType=a.hashType));var i=b._currentCustomerIDs.nameSpaces;for(t in i)B(t)&&(a=i[t]).id&&(n.nameSpaces[t]||(n.nameSpaces[t]={}),n.nameSpaces[t].id=a.id,null!=a.authState?n.nameSpaces[t].authState=a.authState:n.nameSpaces[t].authState=V.AuthState.UNKNOWN,a.hashType&&(n.nameSpaces[t].hashType=a.hashType));return e?n:n.dataSources},b.setAnalyticsVisitorID=function(e){b._setAnalyticsFields(e)},b.getAnalyticsVisitorID=function(e,t,a){if(!te.isTrackingServerPopulated()&&!a)return b._callCallback(e,[""]),"";var n="";if(a||(n=b.getMarketingCloudVisitorID((function(){b.getAnalyticsVisitorID(e,!0)}))),n||a){var r=a?b.marketingCloudServer:b.trackingServer,i="";b.loadSSL&&(a?b.marketingCloudServerSecure&&(r=b.marketingCloudServerSecure):b.trackingServerSecure&&(r=b.trackingServerSecure));var o={};if(r){var s="http"+(b.loadSSL?"s":"")+"://"+r+"/id",l=b.configs.cookieLifetime,c="d_visid_ver="+b.version+"&mcorgid="+encodeURIComponent(b.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(l?"&cl="+encodeURIComponent(l):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":""),d=["s_c_il",b._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];i=s+"?"+c+"&callback=s_c_il%5B"+b._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=d}return o.url=i,b._getRemoteField(a?O:x,i,e,t,o)}return""},b.getAudienceManagerLocationHint=function(e,t){if(b.getMarketingCloudVisitorID((function(){b.getAudienceManagerLocationHint(e,!0)}))){var a=b._getField(x);if(!a&&te.isTrackingServerPopulated()&&(a=b.getAnalyticsVisitorID((function(){b.getAudienceManagerLocationHint(e,!0)}))),a||!te.isTrackingServerPopulated()){var n=b._getAudienceManagerURLData(),r=n.url;return b._getRemoteField("MCAAMLH",r,e,t,n)}}return""},b.getLocationHint=b.getAudienceManagerLocationHint,b.getAudienceManagerBlob=function(e,t){if(b.getMarketingCloudVisitorID((function(){b.getAudienceManagerBlob(e,!0)}))){var a=b._getField(x);if(!a&&te.isTrackingServerPopulated()&&(a=b.getAnalyticsVisitorID((function(){b.getAudienceManagerBlob(e,!0)}))),a||!te.isTrackingServerPopulated()){var n=b._getAudienceManagerURLData(),r=n.url;return b._customerIDsHashChanged&&b._setFieldExpire(R,-1),b._getRemoteField(R,r,e,t,n)}}return""},b._supplementalDataIDCurrent="",b._supplementalDataIDCurrentConsumed={},b._supplementalDataIDLast="",b._supplementalDataIDLastConsumed={},b.getSupplementalDataID=function(e,t){b._supplementalDataIDCurrent||t||(b._supplementalDataIDCurrent=b._generateID(1));var a=b._supplementalDataIDCurrent;return b._supplementalDataIDLast&&!b._supplementalDataIDLastConsumed[e]?(a=b._supplementalDataIDLast,b._supplementalDataIDLastConsumed[e]=!0):a&&(b._supplementalDataIDCurrentConsumed[e]&&(b._supplementalDataIDLast=b._supplementalDataIDCurrent,b._supplementalDataIDLastConsumed=b._supplementalDataIDCurrentConsumed,b._supplementalDataIDCurrent=a=t?"":b._generateID(1),b._supplementalDataIDCurrentConsumed={}),a&&(b._supplementalDataIDCurrentConsumed[e]=!0)),a};var Z=!1;b._liberatedOptOut=null,b.getOptOut=function(e,t){var a=b._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;if(u())return b._getRemoteField("MCOPTOUT",n,e,t,a);if(b._registerCallback("liberatedOptOut",e),null!==b._liberatedOptOut)return b._callAllCallbacks("liberatedOptOut",[b._liberatedOptOut]),Z=!1,b._liberatedOptOut;if(Z)return null;Z=!0;var r="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[r],y[r]=function(e){if(e===Object(e)){var t,a,n=w.parseOptOut(e,t,j);t=n.optOut,a=1e3*n.d_ottl,b._liberatedOptOut=t,setTimeout((function(){b._liberatedOptOut=null}),a)}b._callAllCallbacks("liberatedOptOut",[t]),Z=!1},$.fireCORS(a),null},b.isOptedOut=function(e,t,a){t||(t=V.OptOut.GLOBAL);var n=b.getOptOut((function(a){var n=a===V.OptOut.GLOBAL||a.indexOf(t)>=0;b._callCallback(e,[n])}),a);return n?n===V.OptOut.GLOBAL||n.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};b.onReceiveEcid=function(e){if(u())return b.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},b._fields=null,b._fieldsExpired=null,b._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},b._generateID=W,b._generateLocalMID=function(){var e=b._generateID(0);return re.isClientSideMarketingCloudVisitorID=!0,e},b._callbackList=null,b._callCallback=function(e,t){try{"function"==typeof e?e.apply(I,t):e[1].apply(e[0],t)}catch(e){}},b._registerCallback=function(e,t){t&&(null==b._callbackList&&(b._callbackList={}),null==b._callbackList[e]&&(b._callbackList[e]=[]),b._callbackList[e].push(t))},b._callAllCallbacks=function(e,t){if(null!=b._callbackList){var a=b._callbackList[e];if(a)for(;a.length>0;)b._callCallback(a.shift(),t)}},b._addQuerystringParam=function(e,t,a,n){var r=encodeURIComponent(t)+"="+encodeURIComponent(a),i=te.parseHash(e),o=te.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+i;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+te.addQueryParamAtLocation(c,r,n)+i},b._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},b._parseAdobeMcFromUrl=i(Y.ADOBE_MC),b._parseAdobeMcSdidFromUrl=i(Y.ADOBE_MC_SDID),b._attemptToPopulateSdidFromUrl=function(e){var a=b._parseAdobeMcSdidFromUrl(e),n=1e9;a&&a.TS&&(n=te.getTimestampInSeconds()-a.TS),a&&a.SDID&&a.MCORGID===t&&n<b.sdidParamExpiry&&(b._supplementalDataIDCurrent=a.SDID,b._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},b._attemptToPopulateIdsFromUrl=function(){var e=b._parseAdobeMcFromUrl();if(e&&e.TS){var a=te.getTimestampInSeconds()-e.TS;if(Math.floor(a/60)>Y.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},b._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[b.marketingCloudOrgID]){var t=e[b.marketingCloudOrgID];!function(e){te.isObject(e)&&b.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},b._timeout=null,b._loadData=function(e,t,a,n){t=b._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=b._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=b._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),re.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===$.corsMetadata.corsType&&$.fireCORS(n,a,e)},b._clearTimeout=function(e){null!=b._timeout&&b._timeout[e]&&(clearTimeout(b._timeout[e]),b._timeout[e]=0)},b._settingsDigest=0,b._getSettingsDigest=function(){if(!b._settingsDigest){var e=b.version;b.audienceManagerServer&&(e+="|"+b.audienceManagerServer),b.audienceManagerServerSecure&&(e+="|"+b.audienceManagerServerSecure),b._settingsDigest=b._hash(e)}return b._settingsDigest},b._readVisitorDone=!1,b._readVisitor=function(){if(!b._readVisitorDone){b._readVisitorDone=!0;var e,t,a,n,r,i,o=b._getSettingsDigest(),s=!1,l=b.cookieRead(b.cookieName),c=new Date;if(l||E||b.discardTrackingServerECID||(l=b.cookieRead(Y.FIRST_PARTY_SERVER_COOKIE)),null==b._fields&&(b._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)a=(t=l[e].split("-"))[0],n=l[e+1],t.length>1?(r=parseInt(t[1],10),i=t[1].indexOf("s")>0):(r=0,i=!1),s&&("MCCIDH"===a&&(n=""),r>0&&(r=c.getTime()/1e3-60)),a&&n&&(b._setField(a,n,1),r>0&&(b._fields["expire"+a]=r+(i?"s":""),(c.getTime()>=1e3*r||i&&!b.cookieRead(b.sessionCookieName))&&(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[a]=!0)));!b._getField(x)&&te.isTrackingServerPopulated()&&(l=b.cookieRead("s_vi"))&&(l=l.split("|")).length>1&&l[0].indexOf("v1")>=0&&((e=(n=l[1]).indexOf("["))>=0&&(n=n.substring(0,e)),n&&n.match(Y.VALID_VISITOR_ID_REGEX)&&b._setField(x,n))}},b._appendVersionTo=function(e){var t="vVersion|"+b.version,a=e?b._getCookieVersion(e):null;return a?z.areVersionsDifferent(a,b.version)&&(e=e.replace(Y.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},b._writeVisitor=function(){var e,t,a=b._getSettingsDigest();for(e in b._fields)B(e)&&b._fields[e]&&"expire"!==e.substring(0,6)&&(t=b._fields[e],a+=(a?"|":"")+e+(b._fields["expire"+e]?"-"+b._fields["expire"+e]:"")+"|"+t);a=b._appendVersionTo(a),b.cookieWrite(b.cookieName,a,1)},b._getField=function(e,t){return null==b._fields||!t&&b._fieldsExpired&&b._fieldsExpired[e]?null:b._fields[e]},b._setField=function(e,t,a){null==b._fields&&(b._fields={}),b._fields[e]=t,a||b._writeVisitor()},b._getFieldList=function(e,t){var a=b._getField(e,t);return a?a.split("*"):null},b._setFieldList=function(e,t,a){b._setField(e,t?t.join("*"):"",a)},b._getFieldMap=function(e,t){var a=b._getFieldList(e,t);if(a){var n,r={};for(n=0;n<a.length;n+=2)r[a[n]]=a[n+1];return r}return null},b._setFieldMap=function(e,t,a){var n,r=null;if(t)for(n in r=[],t)B(n)&&(r.push(n),r.push(t[n]));b._setFieldList(e,r,a)},b._setFieldExpire=function(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*t),null==b._fields&&(b._fields={}),b._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(a?"s":""),t<0?(b._fieldsExpired||(b._fieldsExpired={}),b._fieldsExpired[e]=!0):b._fieldsExpired&&(b._fieldsExpired[e]=!1),a&&(b.cookieRead(b.sessionCookieName)||b.cookieWrite(b.sessionCookieName,"1"))},b._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=j),t&&(t===j||t.match(Y.VALID_VISITOR_ID_REGEX))||(t="")),t},b._setFields=function(t,a){if(b._clearTimeout(t),null!=b._loading&&(b._loading[t]=!1),re.fieldGroupObj[t]&&re.setState(t,!1),t===D){!0!==re.isClientSideMarketingCloudVisitorID&&(re.isClientSideMarketingCloudVisitorID=!1);var n=b._getField(O);if(!n||b.overwriteCrossDomainMCIDAndAID){if(!(n="object"===e(a)&&a.mid?a.mid:b._findVisitorID(a))){if(b._use1stPartyMarketingCloudServer&&!b.tried1stPartyMarketingCloudServer)return b.tried1stPartyMarketingCloudServer=!0,void b.getAnalyticsVisitorID(null,!1,!0);n=b._generateLocalMID()}b._setField(O,n)}n&&n!==j||(n=""),"object"===e(a)&&((a.d_region||a.dcs_region||a.d_blob||a.blob)&&b._setFields(F,a),b._use1stPartyMarketingCloudServer&&a.mid&&b._setFields(M,{id:a.id})),b._callAllCallbacks(O,[n])}if(t===F&&"object"===e(a)){var r=604800;null!=a.id_sync_ttl&&a.id_sync_ttl&&(r=parseInt(a.id_sync_ttl,10));var i=ae.getRegionAndCheckIfChanged(a,r);b._callAllCallbacks("MCAAMLH",[i]);var o=b._getField(R);(a.d_blob||a.blob)&&((o=a.d_blob)||(o=a.blob),b._setFieldExpire(R,r),b._setField(R,o)),o||(o=""),b._callAllCallbacks(R,[o]),!a.error_msg&&b._newCustomerIDsHash&&b._setField("MCCIDH",b._newCustomerIDsHash)}if(t===M){var s=b._getField(x);s&&!b.overwriteCrossDomainMCIDAndAID||((s=b._findVisitorID(a))?s!==j&&b._setFieldExpire(R,-1):s=j,b._setField(x,s)),s&&s!==j||(s=""),b._callAllCallbacks(x,[s])}if(b.idSyncDisableSyncs||b.disableIdSyncs)ae.idCallNotProcesssed=!0;else{ae.idCallNotProcesssed=!1;var l={};l.ibs=a.ibs,l.subdomain=a.subdomain,ae.processIDCallData(l)}if(a===Object(a)){var c,d;u()&&b.isAllowed()&&(c=b._getField("MCOPTOUT"));var g=w.parseOptOut(a,c,j);c=g.optOut,d=g.d_ottl,b._setFieldExpire("MCOPTOUT",d,!0),b._setField("MCOPTOUT",c),b._callAllCallbacks("MCOPTOUT",[c])}},b._loading=null,b._getRemoteField=function(e,t,a,n,r){var i,o="",s=te.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&b.isAllowed())if(b._readVisitor(),!(!(o=b._getField(e,!0===l[e]))||b._fieldsExpired&&b._fieldsExpired[e])||b.disableThirdPartyCalls&&!s)o||(e===O?(b._registerCallback(e,a),o=b._generateLocalMID(),b.setMarketingCloudVisitorID(o)):e===x?(b._registerCallback(e,a),o="",b.setAnalyticsVisitorID(o)):(o="",n=!0));else if(e===O||"MCOPTOUT"===e?i=D:"MCAAMLH"===e||e===R?i=F:e===x&&(i=M),i)return!t||null!=b._loading&&b._loading[i]||(null==b._loading&&(b._loading={}),b._loading[i]=!0,i===F&&(S=0),b._loadData(i,t,(function(t){if(!b._getField(e)){t&&re.setState(i,!0);var a="";e===O?a=b._generateLocalMID():i===F&&(a={error_msg:"timeout"}),b._setFields(i,a)}}),r)),b._registerCallback(e,a),o||(t||b._setFields(i,{id:j}),"");return e!==O&&e!==x||o!==j||(o="",n=!0),a&&n&&b._callCallback(a,[o]),e===O&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){b._callCallback(e,[o])})),ee.subscribed=!1,ee.callbacks.length=0),o},b._setMarketingCloudFields=function(e){b._readVisitor(),b._setFields(D,e)},b._mapCustomerIDs=function(e){b.getAudienceManagerBlob(e,!0)},b._setAnalyticsFields=function(e){b._readVisitor(),b._setFields(M,e)},b._setAudienceManagerFields=function(e){b._readVisitor(),b._setFields(F,e)},b._getAudienceManagerURLData=function(e){var t=b.audienceManagerServer,a="",n=b._getField(O),r=b._getField(R,!0),i=b._getField(x),o=i&&i!==j?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(b.loadSSL&&b.audienceManagerServerSecure&&(t=b.audienceManagerServerSecure),t){var s,l,c,d=b.getCustomerIDs(!0);if(d)for(l in d){var u=d[l];if(!w.isObjectEmpty(u)){var g="nameSpaces"===l?"&d_cid_ns=":"&d_cid_ic=";for(s in u)B(s)&&(c=u[s],o+=g+encodeURIComponent(s)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""))}}e||(e="_setAudienceManagerFields");var f="http"+(b.loadSSL?"s":"")+"://"+t+"/id",p="d_visid_ver="+b.version+(C&&-1!==f.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+C:"")+(S&&-1!==f.indexOf("demdex.net")?"&d_cf="+S:"")+"&d_rtbd=json&d_ver=2"+(!n&&b._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(b.marketingCloudOrgID)+"&d_nsid="+(b.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(b.idSyncDisable3rdPartySyncing||b.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===T?"&d_coop_safe=1":!1===T?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,m=["s_c_il",b._in,e];return{url:a=f+"?"+p+"&d_cb=s_c_il%5B"+b._in+"%5D."+e,corsUrl:f+"?"+p,callback:m}}return{url:a}},b.appendVisitorIDsTo=function(e){try{var t=[[O,b._getField(O)],[x,b._getField(x)],["MCORGID",b.marketingCloudOrgID]];return b._addQuerystringParam(e,Y.ADOBE_MC,l(t))}catch(t){return e}},b.appendSupplementalDataIDTo=function(e,t){if(!(t=t||b.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var a=l([["SDID",t],["MCORGID",b.marketingCloudOrgID]]);return b._addQuerystringParam(e,Y.ADOBE_MC_SDID,a)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var n=e.split("&");return a=null!=a?a:n.length,n.splice(a,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===x&&(t||(t=b.trackingServer),a||(a=b.trackingServerSecure),!("string"!=typeof(n=b.loadSSL?a:t)||!n.length)&&n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0);var n},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){q.remove(e,{domain:b.cookieDomain})},isTrackingServerPopulated:function(){return!!b.trackingServer||!!b.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var a=t.split("=")
;return e[a[0]]=decodeURIComponent(a[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};b._helpers=te;var ae=K(b,V);b._destinationPublishing=ae,b.timeoutMetricsLog=[];var ne,re={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case D:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case M:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case F:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};b.isClientSideMarketingCloudVisitorID=function(){return re.isClientSideMarketingCloudVisitorID},b.MCIDCallTimedOut=function(){return re.MCIDCallTimedOut},b.AnalyticsIDCallTimedOut=function(){return re.AnalyticsIDCallTimedOut},b.AAMIDCallTimedOut=function(){return re.AAMIDCallTimedOut},b.idSyncGetOnPageSyncInfo=function(){return b._readVisitor(),b._getField("MCSYNCSOP")},b.idSyncByURL=function(e){if(!b.isOptedOut()){var t=c(e||{});if(t.error)return t.error;var a,n,r=e.url,i=encodeURIComponent,o=ae;return r=r.replace(/^https:/,"").replace(/^http:/,""),a=w.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",i(e.dpid),"img",i(r),t.ttl,"",a],o.addMessage(n.join("|")),o.requestToProcess(),"Successfully queued"}},b.idSyncByDataSource=function(e){if(!b.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,b.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ne(b,ae),b._getCookieVersion=function(e){e=e||b.cookieRead(b.cookieName);var t=Y.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},b._resetAmcvCookie=function(e){var t=b._getCookieVersion();t&&!z.isLessThan(t,e)||b.removeCookie(b.cookieName)},b.setAsCoopSafe=function(){T=!0},b.setAsCoopUnsafe=function(){T=!1},function(){if(b.configs=Object.create(null),te.isObject(a))for(var e in a)B(e)&&(b[e]=a[e],b.configs[e]=a[e])}(),g(),b.init=function(){d()&&(_.optIn.fetchPermissions(h,!0),!_.optIn.isApproved(_.optIn.Categories.ECID))||ne||(ne=!0,function(){if(te.isObject(a)){b.idSyncContainerID=b.idSyncContainerID||0,T="boolean"==typeof b.isCoopSafe?b.isCoopSafe:te.parseBoolean(b.isCoopSafe),b.resetBeforeVersion&&b._resetAmcvCookie(b.resetBeforeVersion),b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl(),b._readVisitor();var e=b._getField(L),t=Math.ceil((new Date).getTime()/Y.MILLIS_PER_DAY);b.idSyncDisableSyncs||b.disableIdSyncs||!ae.canMakeSyncIDCall(e,t)||(b._setFieldExpire(R,-1),b._setField(L,t)),b.getMarketingCloudVisitorID(),b.getAudienceManagerLocationHint(),b.getAudienceManagerBlob(),b._mergeServerState(b.serverState)}else b._attemptToPopulateIdsFromUrl(),b._attemptToPopulateSdidFromUrl()}(),function(){if(!b.idSyncDisableSyncs&&!b.disableIdSyncs){ae.checkDPIframeSrc();var e=function(){var e=ae;e.readyToAttachIframe()&&e.attachIframe()};I.addEventListener("load",(function(){V.windowLoaded=!0,e()}));try{J.receiveMessage((function(e){ae.receiveMessage(e.data)}),ae.iframeHost)}catch(e){}}}(),b.whitelistIframeDomains&&Y.POST_MESSAGE_ENABLED&&(b.whitelistIframeDomains=b.whitelistIframeDomains instanceof Array?b.whitelistIframeDomains:[b.whitelistIframeDomains],b.whitelistIframeDomains.forEach((function(e){var a=new N(t,e),n=U(b,a);J.receiveMessage(n,e)}))))}};je.config=Z,y.Visitor=je;var Be=je,Ue=function(e){if(w.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&Z.getConfigs()[t]})).reduce((function(t,a){var n=Z.normalizeConfig(a,e[a]),r=w.normalizeBoolean(n);return t[a]=r,t}),Object.create(null))},Ge=Le.OptIn,qe=Le.IabPlugin;Be.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var a=function(){var t=y.s_c_il;if(t)for(var a=0;a<t.length;a++){var n=t[a];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===e)return n}}();if(a)return a;var n=Ue(t)||{};!function(e){y.adobe.optIn=y.adobe.optIn||function(){var t=w.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),a=e.optInCookieDomain||e.cookieDomain;a=(a=a||H())===window.location.hostname?"":a,t.optInCookieDomain=a;var n=new Ge(t,{cookies:q});if(t.isIabContext&&t.doesOptInApply){var r=new qe;n.registerPlugin(r)}return n}()}(n||{});var r=e.split("").reverse().join(""),i=new Be(e,null,r);n.cookieDomain&&(i.cookieDomain=n.cookieDomain),n.sameSiteCookie&&n.secureCookie&&(i.configs={sameSiteCookie:n.sameSiteCookie,secureCookie:n.secureCookie}),y.s_c_il.splice(--y.s_c_in,1);var o=w.getIeVersion();if("number"==typeof o&&o<10)return i._helpers.replaceMethodsWithFunction(i,(function(){}));var s=function(){try{return y.self!==y.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(i)||w.isFirefox()&&!n.whitelistParentDomain)&&y.parent?new x(e,n,i,y.parent):new Be(e,n,r);return i=null,s.init(),s},function(){function e(){Be.windowLoaded=!0}y.addEventListener?y.addEventListener("load",e):y.attachEvent&&y.attachEvent("onload",e),Be.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}}},company:{orgId:"2F2827E253DAF0E10A490D4E@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"FIFA.com Production",settings:{domains:["azurewebsites.net","fifa.com","mediacells.com","secutix.com","ethlete.io","cxm-dev-we-aps-001-fifaplus.azurewebsites.net","fifa.powerappsportals.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PR36b1fc2a73b94a60be9ac316627bdbb9"},rules:[{id:"RLa46466f7ca994be7b9057435087afa07",name:"AssetOnClick",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AssetOnClick"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t,a,r){for(var i=!1;!i&&null!=e;)null!=e.getAttribute(t)?(i=!0,a={linkType:"o",events:"event28",eVar46:"Asset Click",asset:e.getAttribute("data-asset")||"",campaign:e.getAttribute("data-campaign")||"",assetTag:(e.getAttribute("data-assettag")||"").replace(/(,|:)/g,"-"),assetName:(e.getAttribute("data-assetname")||"").replace(/(,|:)/g,"-"),assetId:e.getAttribute("data-assetid")||""},e.firstElementChild&&(a.chref=e.firstElementChild.getAttribute("href")||""),n(e,a,r)):e=e.parentElement;return e}function n(e,t,a){t.element=e,a.push(t),e.onclick=function(){for(var e=0,t=a.length;e<t;e++)if(this==a[e].element)return void r(a[e])}}function r(e){t.useBeacon=!0;var a={},n="221010-DR_AOC";(a=_satellite.getVar("FifaPlusPages")?JSON.parse(sessionStorage.getItem("com.adobe.falConfig"))||{}:JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}).logging&&console.log("### ",n," Init:",e),"!"==t.eVar99.substring(0,1)&&(n="!"+n);var r={},o=_satellite.getVar("linkTrackVars")+",eVar41,eVar48",s=""+e.linkType||"",l=e.element.href||"";""==l&&(l=e.chref||""),"o"==s&&(o+=",list2,list3,eVar84"),r.events=e.events||"",r.eVar41=l,r.eVar46=e.eVar46||"";var c=e.eVar46||"";/Download|Exit/.test(c)&&(c+=" Link"),r.eVar48=c,r.eVar70=location.hostname+location.pathname,r.prop74=c+":"+e.element.href||"",""!=e.campaign&&(r.list2=e.campaign+":"+e.asset,r.eVar84=r.list2),r.list3=(e.campaign+":"+e.asset+":"+e.assetTag+":"+e.assetName+":"+e.assetId).toLowerCase().replace(/,/g,"-"),t.eVar81=_satellite.getVar("OneTrustPreferences"),t.linkTrackVars=o,/news:apply-for-tickets.*:article$/.test(a.pageName)&&/www\.ticketmaster\.ae\/artist\/984683/.test(l)?(cEvents={},cEvents.sEvents=r.events,cEvents.pageName=a.pageName,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.pixEvent="Asset Click Ticketmaster",a.logging&&console.log("### ",n," FPPixelEvents Called:",cEvents.pixEvent),_satellite.track("FPPixelEvents",{rule:"aClick",alConfig:a,cEvents:cEvents})):/fifaplus:collect:/.test(a.pageName)&&/www\.fifapluscollectgowin\.com/.test(l)&&(cEvents={},cEvents.sEvents=r.events,cEvents.pageName=a.pageName,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.pixEvent="Asset Click F+ Collect GTW",a.logging&&console.log("### ",n," FPPixelEvents Called:",cEvents.pixEvent),_satellite.track("FPPixelEvents",{rule:"aClick",alConfig:a,cEvents:cEvents})),r.eVar99=n,a.AnaPage?(t.tl(!0,s,l,r),a.logging&&console.log("### ",n," Tracked: linkType:",s,". ref:",l,". oRide:",r)):i&&console.log("### L1 AssetOnClick Tracked. Link NOT Tracked. AnaPage:",a.AnaPage)}var i=localStorage.getItem("com.adobe.aocLogging")||!1,o=localStorage.getItem("com.adobe.vaocLogging")||!1,s=document.getElementsByTagName("a");i&&console.log("#### AssetOnClick 2022-09-12 href Element Found:",s);for(var l=[],c=0,d=s.length;c<d;c++)if(null!==s[c].getAttribute("href")){o&&console.log("#### AssetOnClick href Element Found:",c,s[c]);var u={};/.(?:doc|docx|eps|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/.test(s[c].href)?u={linkType:"d",events:"event9",eVar46:"Download",campaign:""}:(/^(?!.*(fifa\.com|azurewebsites\.net|mediacells\.com|secutix\.com|fifa(|\.)(gg|\.splmns)|fifaoffical\.cn|sportradar\.com|javascript:void|$^)).*$/.test(s[c].href)||/hospitality\.fifa\.com/.test(s[c].href))&&(s[c].firstElementChild&&/footer-logostrip/.test(s[c].firstElementChild.getAttribute("class"))||(u={linkType:"e",events:"event9",eVar46:"Exit",campaign:""})),void 0!==u.linkType&&(n(s[c],u,l),i&&console.log("#### AssetOnClick Exit or Download Element Found. Link Data:",c,u,s[c])),a(s[c],"data-asset",u,l)}if(/^(bestawards:voting|the-best-(|fifa-)football-awards:.+?:(hub|overview)$|^ddlpagename)/.test(t.pageName)&&null!=_satellite.cookie.get("B2C-Username")){var g=document.getElementsByTagName("button");for(c=0,d=g.length;c<d;c++)u={},null!==g[c].getAttribute("data-asset")&&a(g[c],"data-asset",u,l)}}},trackerProperties:{}}}]},{id:"RL1d30dc6f1e524400a321fb543306ca55",name:"trackViewChange",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackViewChange"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("### DR trackViewChange. alConfig parse error, overwrite"),a={}}a.uP=a.uP||{};try{var n=JSON.parse(sessionStorage.getItem("com.adobe.alhEvents"))||{}}catch(e){a.logging&&console.log("### DR trackViewChange. Page View. hEvents parse error, overwrite"),n={}}var r=a.logging;r&&console.log("### DR trackViewChange - 2022-10-11 0900 ###");var i=_satellite.getVar("pageName"),o=_satellite.getVar("URLParams")||{},s=_satellite.getVar("pageLanguage"),l=e.detail||"",c=l.action||"",d=l.actionName||"";if(/^(ddlPageNameChange|DURLChange)$/.test(c)&&t.pageName==i&&t.eVar11==s)r&&console.log("### DR trackViewChange Abort, s.pageName:",t.pageName,"_satellite.getVar(pageName)",i,"s.eVar99:",t.eVar99);else{if("Overlay"==c&&(i=i.replace(i.split(":").pop(),"")+d+":overlay"),a.AnaPage){for(var u in localStorage)if(/^com.adobe.aiv.e./.test(u)){sessionStorage.setItem("com.adobe.aiv.a",!0),r&&console.log("### DR trackViewChange Asset InView Tracked 2021-09-30 001. Time:",Date.now(),", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),_satellite.track("trackAssetAction",{action:"VC AIV"});break}}else r&&console.log("### DR trackViewChange Asset InView Tracking Disabled. Nothing to track or Analytics disabled. ####");var g="221011-DR_VC",f=sessionStorage.getItem("com.adobe.ort")||"";if("!"==t.eVar99.substring(0,1)&&(g="!"+g),t.events="event2",r&&console.log("***DPL. urlParams:",JSON.stringify(o||""),"hEvents:",JSON.stringify(n||""),"alConfig.uP:",JSON.stringify(a.uP||"")),(o.cid||a.uP.cid)&&(a.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=a.uP.cid||"",t.events+=",event30",f=!0,a.logging&&console.log("***DPL. cid from alConfig",t.events,t.campaign,f)):(t.campaign=o.cid||a.uP.cid||"",o.cid&&(/undefined/.test(n.cid)||n.cid!=o.cid)&&(t.events+=",event30"),a.logging&&console.log("***DPL. cid from urlParams or alC if urlParams null:",t.events,"s.campaign:",t.campaign,"hEvents.cid:",n.cid,"urlP-cid:",o.cid,"alC-id:",a.uP.cid))),o.intcmp&&((/undefined/.test(n.intcmp)||n.intcmp!=o.intcmp)&&(t.events+=",event29",r&&console.log("***DPL. intcmp:",t.events,"hEvents.intcmp:",n.intcmp||"","urlParams.intcmp:",o.intcmp||"")),t.eVar2=o.intcmp||a.uP.intcmp||""),t.eVar3=o.s_oid||a.uP.s_oid||"",t.eVar4=o.s_uid||a.uP.s_uid||"",t.eVar6=o.s_pid||a.uP.s_pid||"",t.eVar82=o.s_cid||a.uP.s_cid||"",t.eVar83=o.linkid,o.c||o.pid||a.uP.c||a.uP.pid){var p=(o.c||a.uP.c||"")+(o.pid||a.uP.pid||"");t.events+=",event25",t.eVar102=p}t.eVar68=o.utm_campaign||a.uP.utm_campaign||"",t.eVar103=o.utm_source||a.uP.utm_source||"",t.eVar104=o.utm_medium||a.uP.utm_medium||"",t.eVar105=o.utm_term||a.uP.utm_term||"",t.eVar106=o.utm_content||a.uP.utm_content||"",a.fifaplusNft&&/payments:success|(unified|credits)-payment-success:microsite$/.test(i)&&!/:pack-opening:/.test(i)&&(t.events+=",event82"),t.pageName=i;var m=i.split(":");"fifaplus"==m[0]?(m.shift(),t.eVar53=i.substring(i.indexOf(":")+1,i.lastIndexOf(":"))):t.eVar53=i.substring(0,i.lastIndexOf(":")),t.channel=m[0],t.eVar15=m[0],t.eVar51=m[0],t.eVar52=m[0],m.length-2>=1&&(t.eVar15=t.eVar15+":"+m[1],t.eVar51=t.eVar15,t.eVar52=t.eVar15),m.length-2>=2&&(t.eVar51=t.eVar51+":"+m[2],t.eVar52=t.eVar51),m.length-2>=3&&(t.eVar52=t.eVar52+":"+m[3]),t.eVar5=i.split(":")[i.split(":").length-1];var h=0;if("undefined"!=typeof dataLayer&&(h=dataLayer.length),r&&console.log("### DR trackViewChange - PageName: ",i,"dataLayer.length:",h,"Events: ",t.events,"Sec:",t.channel,"SS1:",t.eVar15,"SS2:",t.eVar51,"SS3:",t.eVar52,"SS4:",t.eVar53,"###"),t.eVar5=i.split(":")[i.split(":").length-1],t.eVar7=_satellite.getVar("pageID"),t.eVar11=s,t.eVar12=_satellite.getVar("ddlPageSlug"),t.eVar16=_satellite.getVar("ddlEntityID"),t.eVar24=_satellite.getVar("userID"),t.eVar25=_satellite.getVar("userStatus"),t.eVar26=_satellite.getVar("userProviderID"),t.eVar27=_satellite.getVar("userDOB"),t.eVar28=_satellite.getVar("userGender"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry"),t.eVar34=_satellite.getVar("pageTitle"),t.eVar43=_satellite.getVar("sysEnv"),t.eVar55=_satellite.getVar("ddlPageStatus"),t.eVar56=_satellite.getVar("ddlPageEdition"),t.eVar65=_satellite.getVar("pageParentID"),t.eVar66=_satellite.getVar("pageParentTitle"),t.eVar69=_satellite.getVar("ddlPageIssueDate"),t.eVar70=location.hostname+location.pathname,t.eVar77="",t.eVar81=a.OTPrefs,/^fifae:fifagg:/.test(i)&&/\:thank\-you\:microsite$/.test(i)&&(t.events+=",event64",t.eVar46="Register with Fifa.gg"),(a.mcPages||a.fifacom||a.ticketing||/^fifae\:/.test(i))&&(setTimeout((function(){_satellite.track("AssetOnLoad")}),3e3),r&&console.log("('### DR trackViewChange DCR AOL timeout 3000")),a.mcPages||a.fifacom||a.fifaplusNft?(setTimeout((function(){_satellite.track("AssetOnClick")}),1e3),r&&console.log("### DR trackViewChange DCR AssetOnClick timeout 1000")):r&&console.log("### DR trackViewChange DCR AssetOnClick NOT called"),a.TealPage||a.LotPage||a.Tgt?(a.TealPage&&(g+=",TE"),a.LotPage&&(g+=",LO"),a.Tgt&&(g+=",PI",t.events+=",event86"),cEvents={},cEvents.sEvents=t.events,cEvents.pageName=i,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.urlParams=o,cEvents.pixEvent="FC Page View",r&&console.log("### DR trackViewChange FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"TVC",alConfig:a,cEvents:cEvents})):r&&console.log("### DR trackViewChange FPPixelEvents NOT Called***"),t.eVar99=g,a.AnaPage)sessionStorage.setItem("com.adobe.ort",f),sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.setItem("com.adobe.alhEvents",JSON.stringify(o)),r&&console.log("### DR trackViewChange Fired ",location.hostname,a.OTPrefs,g,". ***"),t.t();else{var v={};for(var u in t)/^(eVar|events|channel|pageName|campaign)/.test(u)&&(v[u]=t[u]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(v)),r&&console.log("*** DR trackViewChange NOT fired. AnaPage",a.AnaPage,". Stored fPageInfo:",v)}}}},trackerProperties:{}}}]},{id:"RLb30cc2e5418a45bda616d865b20b4dd9",name:"FP Page Top",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(){"undefined"==typeof fevents||0==fevents.length||1==fevents.length&&"userStatus"==fevents[0].event?t():fevents.length>l&&(t(),l=fevents.length,r.logging&&console.log("***FPT. Call FEC - fevents.Length changed, length:",l),_satellite.track("FPEvents",{action:"PT-FEC"}))}function t(){var e=document.querySelectorAll('[class^="error-template"]');e.length>0&&(window.fevents=window.fevents||[],window.fevents.push({event:"pageLoaded",page:{contentfulPageName:location.host+location.pathname,contentfulInternalTitle:e[0].className||"",contentfulType:e[0].className||"",pageError:e[0].getAttribute("data-error-message")||""}}),l=fevents.length,r.logging&&console.log("### FPT pageErrorCheck fn. Error Page Tracking Called. fevents:",JSON.stringify(fevents[l-1])),_satellite.track("FPEvents",{action:"PT-EP"}))}var a=_satellite.getVar("FifaPlusPages"),n=_satellite.getVar("BlockedPages");if(a&&!n){sessionStorage.removeItem("com.adobe.feventsS"),sessionStorage.removeItem("com.adobe.fPageInfo");var r=_satellite.getVar("alfConfig"),i=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"";if(""==i&&r.AnaPage){r.logging&&console.log("#### FPT Geo NOT Set. Call xhr");var o=new XMLHttpRequest;o.open("GET","https://tags.tiqcdn.com/location/location.js",!0),o.onload=function(){if(4===o.readyState&&200===o.status){var e=o.getResponseHeader("x-edgescape-location");sessionStorage.setItem("com.adobe.xresp",JSON.stringify(e)),r.logging&&console.log("#### FPT Geo response:",e)}else r.logging&&console.log("#### FPT Geo not ready:",o.statusText)},o.onerror=function(){r.logging&&console.log("#### FPT Geo error:",o.statusText)},o.send(null)}else r.logging&&console.log("#### FPT Geo NOT Called. alGeo Set: ",""==i,". AnaPage:",r.AnaPage);var s=20;if(r.TealPage&&(window.Tealium={},window.tealium=window.tealium||{q:[]}),(r.TealPage||r.LotPage||r.Tgt||r.GamPage)&&(r.logging&&console.log("### FPT Call FPLibraries:","Teal:"+r.TealPage+". Lot:"+r.LotPage+". Tgt (pixels):"+r.Tgt+". GamPage (pixels):"+r.GamPage),_satellite.track("FPLibraries",{alConfig:r})),!r.SsoPage)if("undefined"!=typeof fevents&&fevents.length>0){var l=fevents.length;r.logging&&console.log("***FPT. Call FEC - fevents.Length > 0 on PT, length:",l),_satellite.track("FPEvents",{action:"PT"}),window.setInterval(e,s)}else l=0,r.logging&&console.log("***FPT. fevents undefined or length 0 at PT, run timer"),window.setInterval(e,s);return!1}"production"!=_satellite.environment.stage&&console.log("*** FP Page Top - Abort - fifaplus:",a,". Blocked Page:",n)}}}],actions:[]},{id:"RLf33ce3c4041f43c8b9d1b6a00142b747",name:"AssetOnLoad",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AssetOnLoad"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t){for(var a=[],n=e.getElementsByTagName("div"),r=0,i=n.length;r<i;r++)null!==n[r].getAttribute(t)&&a.push(n[r]);return a}var n=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},r=n.logging;r&&console.log("~~~~ D: AssetOnLoad 2022-10-10");var i="221010-DR_AOL";"!"==t.eVar99.substring(0,1)&&(i="!"+i);var o=[],s=[],l=[],c=a(document,"data-asset");r&&console.log("~~~~ D: AssetOnLoad domElementList:",c),c.forEach((function(e){var t=e.getAttribute("data-campaign")||"",a=e.getAttribute("data-asset")||"",n=e.getAttribute("data-assettag")||"",r=e.getAttribute("data-assetname")||"",i=e.getAttribute("data-assetid")||"";""!=a&&o.push((t+":"+a+":"+n.replace(/(,|:)/g,"-")+":"+r.replace(/(,|:)/g,"-")+":"+i).toLowerCase()),""!=a&&""!=t&&s.push(t+":"+a)})),r&&console.log("~~~~ D: AssetOnLoad domAssetList:",o),r&&console.log("~~~~ D: AssetOnLoad domCampaignList:",s);var d=_satellite.getVar("ddlAssets");if(r&&console.log("~~~~ D: AssetOnLoad ddlAssets:",d),""!=d){ddlAssetsS=d.split(";");var u=_satellite.getVar("GoogleAdIds");ddlAssetsS.forEach((function(e){e=e.split(":"),r&&console.log("~~~~ D: AssetOnLoad DFP CampaignId: ",e);var t=(u.split(e[0]+":")[1]||"").split(";")[0];r&&console.log("~~~~ D: AssetOnLoad DFP Campaign: ",t),""!=t&&l.push(t+":"+e[1].toLowerCase())}))}r&&console.log("~~~~ D: AssetOnLoad ddlAssetlist:",l);var g=s.concat(l);r&&console.log("~~~~ D: AssetOnLoad CampaignList:",g);var f=[],p=[];if(""!=g){r&&console.log("~~~~ D: AssetOnLoad Campaign List Exists");var m=0;g.forEach((function(e){r&&console.log("~~~~ D: AssetOnLoad CampaignList by element:",e),f.some((function(t){return-1!==t.indexOf(e)}))&&(e+="-"+(m+=1)),f.push(e)})),r&&console.log("~~~~ D: AssetOnLoad De-Dup CampaignList, LotBhList:",f,p)}if(""==g&&""==o)r&&console.log("~~~~ D: AssetOnLoad No Assets Adobe NOT Fired");else{r&&console.log("~~~~ D: AssetOnLoad Adobe Fired");var h={};t.linkTrackVars=_satellite.getVar("linkTrackVars")+",list2,list3,eVar84,eVar85",h.events="event27",h.list2=f.join(", "),h.list3=o.join(", "),h.eVar46="Asset Load",h.eVar70=window.location.hostname+window.location.pathname,h.eVar84=g.join(", "),h.eVar85=d,h.eVar99=i,h.prop74="Asset Load: "+o.join(", "),n.AnaPage?t.tl(!0,"o","Asset OnLoad",h):r&&console.log("~~~~ D: AssetOnLoad. Link NOT Tracked. AnaPage:",n.AnaPage)}r&&console.log("~~~~ D: AssetOnLoad End")}},trackerProperties:{}}}]},{id:"RL3afc44c4531b490ba40f1302294e1d66",name:"OneTrust Preference Change",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"OneTrustPreferences"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=sessionStorage.getItem("com.adobe.falConfig")||{},n=sessionStorage.getItem("com.adobe.alConfig")||{},r=_satellite.getVar("FifaPlusPages");if(r)var i=JSON.parse(a)||{},o=_satellite.getVar("alfConfig");else i=JSON.parse(n)||{},o=_satellite.getVar("alConfig");var s=_satellite.getVar("AdobeOptIns"),l=adobe||"",c=l.optIn||"",d=c.permissions||"",u=l.OptInCategories||"",g="221013_ER-OTC";if(o.logging&&console.log("### ",g,". New OTPrefs:",o.OTPrefs,". Previous OTPrefs:",i.OTPrefs,". A. OptIns Reqd:",s," . A. OptIns Current:",c.permissions,". AnaPage:",o.AnaPage,". Teal:"+o.TealPage+". Lot:"+o.LotPage+". Tgt (pixels):"+o.Tgt+". GamPage (pixels):"+o.GamPage),!d.aa||!o.AnaPage)for(var f in o.logging&&console.log("### ",g,". Remove falhEvents:",localStorage.getItem("com.adobe.falhEvents")),localStorage.removeItem("com.adobe.falhEvents"),localStorage)/^com\.adobe\.aiv\./.test(f)&&(o.logging&&console.log("### ",g,". Remove key:",f,localStorage.getItem(f)),localStorage.removeItem(f));if(c?(s.aa?c.approve(u.ANALYTICS):c.deny(u.ANALYTICS),s.ecid?c.approve(u.ECID):c.deny(u.ECID),s.mediaaa?c.approve(u.MEDIA_ANALYTICS):c.deny(u.MEDIA_ANALYTICS),o.logging&&console.log("### ",g,". OTPrefs:",o.OTPrefs,". A. OptIns Updated:",c.permissions)):o.logging&&console.log("### ",g,". OptIns NOT Updated adobe.optIn undefined"),window.Tealium={},window.tealium=window.tealium||{q:[]},o.TealPage||o.LotPage||o.Tgt||o.GamPage?(o.logging&&console.log("### ",g,". FPLibraries called."),_satellite.track("FPLibraries",{alConfig:o}),o.TealPage&&(g+=",TE"),o.LotPage&&(g+=",LO"),o.fpix&&(g+=",PI",t.events+=",event86"),cEvents={},cEvents.sEvents=t.events,cEvents.pageName=t.pageName,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.pixEvent="OT Page View",o.logging&&console.log("###  ",g,". FPPixelEvents Called***"),setTimeout((function(){_satellite.track("FPPixelEvents",{alConfig:o,cEvents:cEvents})}),750)):o.logging&&console.log("### ",g,". FPLibraries NOT called not a pixel page."),o.AnaPage){try{var p=JSON.parse(sessionStorage.getItem("com.adobe.fPageInfo"))||{}}catch(e){o.logging&&console.log("###  ",g,". Set AA---- fPageInfo parse error, overwrite"),p={}}if(Object.keys(p).length){for(var f in p)/^(eVar|events|channel|pageName|campaign)/.test(f)&&(t[f]=p[f]);sessionStorage.removeItem("com.adobe.fPageInfo"),t.eVar99=g,t.t(),o.logging&&console.log("###  ",g,". On-page-opt-in Set. fPageInfo:",p,". s:",t)}else o.logging&&console.log("###  ",g,". On-page-opt-in NOT Set. AnaPage:",o.AnaPage,". fPageInfo:",p,". s:",t)}else o.logging&&console.log("###  ",g,". On-page-opt-in NOT Set. AnaPage:",o.AnaPage);!o.Tgt&&i.Tgt&&r?(urlParams=_satellite.getVar("URLParams")||{},void 0===urlParams.context||"app"!=urlParams.context?(o.logging&&console.log("### ",g,". Reloading...."),location.reload()):o.logging&&console.log("### ",g,". Webview Not Reloading....")):o.logging&&console.log("### ",g,". F+ Tgt not changed to off. Not Reloading....fifaplus:",r,". !alConfig.Tgt:",!o.Tgt,". preAlConfig.Tgt:",i.Tgt,". cond:",!o.Tgt&&i.Tgt)}},trackerProperties:{}}}]},{id:"RL9fdb78d37b614dbf81802eb1c803bfb2",name:"trackAssetAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackAssetAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},n=a.logging,r="221010-DR_AIV";a.prodPages||"production"!=_satellite.environment.stage||(t.sa("fifadev"),r="!"+r),n&&console.log("#### L1 D: trackAssetAction 2022-10-10. Time:",Date.now(),". Active Flag:",sessionStorage.getItem("com.adobe.aiv.a"));var i=(e.detail||"").action||"",o=[],s=[],l=[],c=[],d=[],u=0;for(var g in localStorage)if(/^com.adobe.aiv.po/.test(g)){n&&console.log("#### L1 D: trackAssetAction localStorage po:",g,localStorage[g]);var f=JSON.parse(localStorage[g]);localStorage.removeItem(g);break}for(var g in localStorage)if(/^com.adobe.aiv.e./.test(g)){n&&console.log("#### L1 D: trackAssetAction localStorage e:",h==f.pn);var p=JSON.parse(localStorage[g]),m=p.eA,h=p.ePN;if(n&&console.log("#### L1 D: trackAssetAction pageName match:",h,f.pn,h==f.pn,g,localStorage[g]),"undefined"!=h&&h==f.pn&&(localStorage.removeItem(g),m)){o.push(m);var v=m.split(":")[0];if(""!=v){var y=v+":"+m.split(":")[1];s.push(y),c.push("asset: "+y+":inview:"),d.push(y+":inview:"),l.some((function(e){return-1!==e.indexOf(y)}))&&(y+="-"+(u+=1)),l.push(y)}}}if(sessionStorage.removeItem("com.adobe.aiv.a"),n&&console.log("~~~~ D: trackAssetAction AssetList:",o),n&&console.log("~~~~ D: trackAssetAction CampaignList:",s),n&&console.log("~~~~ D: trackAssetAction CampaignListDeDup:",l),n&&console.log("~~~~ D: trackAssetAction LotBhList:",c),""!=s||""!=o){n&&console.log("~~~~ D: trackAssetAction Adobe Fired");var b={events:"event5"};if(b.list2=l.join(", "),b.list3=o.join(", "),b.eVar46="Asset InView",b.eVar70=location.hostname+location.pathname,t.eVar81=_satellite.getVar("OneTrustPreferences"),b.eVar84=s.join(", "),b.prop74="Asset InView: "+o.join(", "),"VC AIV"==i||"PTL Asset InView"==i){n&&console.log("~~~~ D: trackAssetAction PTL Asset InView - AssetAction pageObject check:",f),"PTL Asset InView"==i?r+="T":"VC AIV"==i&&(r+="VC");var _=f.pn||_satellite.getVar("pageName");b.pageName=_,b.eVar8=_;var P=_.split(":");b.channel=P[0],b.eVar15=P[0],b.eVar51=P[0],b.eVar52=P[0],b.eVar53=_.substring(0,_.lastIndexOf(":")),P.length-2>=1&&(b.eVar15=b.eVar15+":"+P[1],b.eVar51=b.eVar15,b.eVar52=b.eVar15),P.length-2>=2&&(b.eVar51=b.eVar51+":"+P[2],b.eVar52=b.eVar51),P.length-2>=3&&(b.eVar52=b.eVar52+":"+P[3]),b.eVar5=_.split(":")[_.split(":").length-1],b.eVar7=f.ev7||"",b.eVar11=f.ev11||_satellite.getVar("pageLanguage"),b.eVar12=f.ev12||"",b.eVar16=f.ev16||"",b.eVar24=f.ev24||_satellite.getVar("userID"),b.eVar25=f.ev25||_satellite.getVar("userStatus"),b.eVar27=f.ev27||"",b.eVar28=f.ev28||"",b.eVar29=f.ev29||"",b.eVar32=f.ev32||"",b.eVar34=f.ev34||_satellite.getVar("pageTitle"),b.eVar43=f.ev43||_satellite.getVar("sysEnv"),b.eVar55=f.ev55||"",b.eVar56=f.ev56||"",b.eVar65=f.ev65||"",b.eVar66=f.ev66||"",b.eVar68=f.ev68||"",b.eVar69=f.ev69||"",null!=f.ev70&&(b.eVar70=f.ev70),null!=f.ev81&&(b.eVar81=f.ev81)}t.linkTrackVars=_satellite.getVar("linkTrackVars")+",list2,list3,eVar84,eVar98",b.eVar99=r,a.AnaPage?(t.tl(!0,"o","Asset InView",b),n&&console.log("#### L1 D: trackAssetAction Tracked")):n&&console.log("### L1 D: trackAssetAction. Link NOT Tracked. AnaPage:",a.AnaPage)}else n&&console.log("~~~~ D: trackAssetAction No Assets")}},trackerProperties:{}}}]},{id:"RL7a8dc5d902164f359b78138bfbe248d0",name:"trackFifaggEvent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackFifaggEvent"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("DE alConfig. alConfig parse error, overwrite"),a={}}var n=a.logging;n&&console.log("### DCR:trackFifaggEvent - 2022-10-10 ###");var r="221010-DR_GGE";"!"==t.eVar99.substring(0,1)&&(r="!"+r);var i={},o="",s="Fifa.gg Event";void 0!==e.detail&&(n&&console.log("### DCR:trackFifaggEvent - event.detail:",e.detail,"###"),void 0!==e.detail.competition_signup&&(s="Register with Fifa.gg "+e.detail.competition_signup.toLowerCase(),o="event64"),void 0!==e.detail.signup_type&&(s+=" "+e.detail.signup_type.toLowerCase())),i.events=o,i.eVar46=s,i.eVar70=location.hostname+location.pathname,i.eVar99=r,i.prop74="FifaGG Event: "+s,t.linkTrackVars=_satellite.getVar("linkTrackVars"),a.AnaPage?t.tl(!0,"o","FifaGG Event",i):n&&console.log("###  DCR:trackFifaggEvent. Link NOT Tracked. AnaPage:",a.AnaPage)}},trackerProperties:{}}}]},{id:"RL6812220931f740549942e6909708da00",name:"FPtrackVideoAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackVideoAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e){if(_satellite.getVar("BlockedPages"))"production"!=_satellite.environment.stage&&console.log("~~~~FEV trackVideoAction - Abort - Blocked Page");else{var t=JSON.parse(sessionStorage.getItem("com.adobe.falConfig"))||{},a=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{},n=ADB.Media,r=_satellite.getVar("tracker"),i="",o="",s=e.detail||"",l=s.action||"",c=s.source||"";"loadedmetadata"==l?(i=c.playerId,o=c.videoEntryId):(i=c.playerState.playerId,o=c.playerState.videoEntryId);var d=(i+o).toString();if("loadedmetadata"==l||null!=r[d]){switch("timeupdate"!=l&&(t.logging&&console.log("~~~~FEV trackVideoAction init. action:",l,"videoId:",d,"tracker:",r[d]),t.logging&&console.log("~~~~FEV trackVideoAction init. action:",l,"source:",c,"~~~~")),l){case"loadedmetadata":var u={"f.m.pageName":a.pageName,"f.m.pageLanguage":a.pageLang,"f.m.pageType":a.contentfulType,"f.m.vInternalTitle":a.contentfulInternalTitle,"f.m.pageId":a.contentfulEntryId,"f.m.url":location.hostname+location.pathname,"f.m.pageTitle":a.dt,"f.m.sysEnv":a.sysEnv,"f.m.vTitle":c.videoTitle,"f.m.vEpisode":a.vEpisode,"f.m.dateOfRelease":a.contentfulCreatedDate,"f.m.dateOfLastEdit":a.contentfulChangeDate,"f.m.videoEntryId":c.videoEntryId,"f.m.verizonId":c.videoId,"f.m.category":a.videoCategory,"f.m.subcategory":a.videoSubcategory,"f.m.entryType":a.pEntryType,"f.m.image":a.bImg,"f.m.section":a.pageName.split(":")[1]};r.metadata=u;var g=a.contentfulInternalTitle||c.videoTitle;if(t.logging&&console.log("~~~~FEV trackVideoAction loadedmetadata. videoTitle:",a.contentfulInternalTitle,c.videoTitle),c.isLive){var f=n.createMediaObject(g,c.videoEntryId,9999,"Live",n.MediaType.Video);t.logging&&console.log("~~~~FEV trackVideoAction loadedmetadata. LiveStream")}else f=n.createMediaObject(g,c.videoEntryId,parseInt(c.duration),"VOD",n.MediaType.Video);r[d]=n.getInstance(),
r[d].trackSessionStart(f,u),r[d].isBuffering=!1,r[d].isAdPlaying=!1;break;case"timeupdate":if(!r[d].isAdPlaying&&!r[d].isBuffering){var p=parseInt(c.event.currentTime),m=r[d].adbreaks||"",h=0;if(""!=m)for(var v=0;v<m.length&&p>m[v].timeOffset;v++)h+=m[v].duration;if(c.isLive)var y=parseInt(Math.floor(Date.now()/1e3)%86400);else y=parseInt(p-h);r[d].updatePlayhead(y)}break;case"preplayresponse":c.event.response.ads.breakOffsets;var b=c.event.response.ads.breaks;r[d].adbreaks=b;break;case"adbreakbegin":var _=c.event.adBreakInfo.position,P=parseInt(c.event.adBreakInfo.identifier)+1,C=c.event.adBreak.startTime,S=n.createAdBreakObject(_,P,C);r[d].trackEvent(n.Event.AdBreakStart,S),r[d].isAdPlaying=!0;break;case"adbegin":var k=c.event.ad.creative,E=c.event.ad.creative,I=parseInt(c.event.adInfo.identifier)+1,V=parseInt(c.event.ad.duration),A=n.createAdObject(k,E,I,V);r[d].trackEvent(n.Event.AdStart,A,r.metadata);break;case"seeking":r[d].isBuffering||r[d].trackEvent(n.Event.SeekStart);break;case"seeked":r[d].trackEvent(n.Event.SeekComplete);break;case"waiting":r[d].isBuffering=!0,r[d].trackEvent(n.Event.BufferStart);break;case"play":break;case"firstPlaying":case"firstplay":r[d].trackPlay(),t.logging&&console.log("~~~~FEV trackVideoAction. TheoPlayer Event:",l,". Adobe Event: 'trackPlay()'. videoTitle:",a.contentfulInternalTitle,"videoId:",d,"tracker:",r[d]),t.TealPage||t.LotPage||t.Tgt?(a.pixEvent="Video Playing",t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents Called firstPlaying***"),_satellite.track("FPPixelEvents",{rule:"tVideo",alConfig:t,cEvents:a})):t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents NOT Called firstPlaying***");break;case"playing":r[d].isBuffering&&(r[d].trackEvent(n.Event.BufferComplete),r[d].isBuffering=!1,t.logging&&console.log("~~~~FEV trackVideoAction. TheoPlayer Event:",l,". Adobe Event: 'trackEvent(Media.Event.BufferComplete)'. videoTitle:",a.contentfulInternalTitle,"videoId:",d,"tracker:",r[d])),r[d].trackPlay(),t.logging&&console.log("~~~~FEV trackVideoAction. TheoPlayer Event:",l,". Adobe Event: 'trackPlay()'. videoTitle:",a.contentfulInternalTitle,"videoId:",d,"tracker:",r[d]),t.TealPage||t.LotPage||t.Tgt?(a.pixEvent="Video Playing",t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents Called playing***"),_satellite.track("FPPixelEvents",{rule:"tVideo",alConfig:t,cEvents:a})):t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents NOT Called playing***");break;case"pause":r[d].trackPause();break;case"adskip":r[d].trackEvent(n.Event.AdSkip);break;case"activequalitychanged":var T=c.event||"",w=T.quality||"",D=parseInt(T.currentBandwidthEstimate||"")||0,O=parseInt(T.timeToFirstFrameInMS||"")||0,L=parseInt(w.frameRate||"")||0,N=parseInt(T.droppedVideoFrames||"")||0;if(D){t.logging&&console.log("~~~~FEV trackVideoAction activequalitychanged. qoEObject: (",D,O,L,N,"). Event:",T);var M=ADB.Media.createQoEObject(D,O,L,N);r[d].updateQoEObject(M),r[d].trackEvent(ADB.Media.Event.BitrateChange)}else t.logging&&console.log("~~~~FEV trackVideoAction activequalitychanged. No Bitrate. Event:",T);break;case"adcomplete":r[d].trackEvent(n.Event.AdComplete);break;case"adbreakend":r[d].trackEvent(n.Event.AdBreakComplete),r[d].isAdPlaying=!1;break;case"ended":r[d].trackComplete(),r[d].trackSessionEnd(),delete r[d],t.TealPage||t.LotPage||t.Tgt?(a.pixEvent="Video Ended",t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents Called ended***"),_satellite.track("FPPixelEvents",{rule:"tVideo",alConfig:t,cEvents:a})):t.logging&&console.log("~~~~FEV trackVideoAction. FPPixelEvents NOT Called ended***")}_satellite.setVar("tracker",r)}else t.logging&&console.log("~~~~FEV trackVideoAction NOT init, tracker not found. action:",l,"videoId:",d,"tracker:",r[d])}}},trackerProperties:{}}}]},{id:"RLe0e4c9ed9b4844479504fb9de891dcf8",name:"dlEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlEvents"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){var e=new URLSearchParams(location.search);if((e.get("cid")||o.uP.cid)&&(o.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=o.uP.cid||"",t.events+=",event30",b=!0,o.logging&&console.log("### DLEV . cid from alConfig",t.events,t.campaign,b)):(t.campaign=e.get("cid")||o.uP.cid||"",(e.get("cid")&&/undefined/.test(s.cid)||s.cid!=t.campaign)&&(t.events+=",event30"),o.logging&&console.log("### DLEV . cid from urlParams or alC if urlParams null:",t.events,t.campaign,s.cid,"urlP-cid:",e.get("cid"),"alC-id:",o.uP.cid)),s.cid=t.campaign),t.eVar2=e.get("intcmp")||o.uP.intcmp||"",t.eVar2&&(t.events+=",event29"),t.eVar3=e.get("s_oid")||o.uP.s_oid||"",t.eVar4=e.get("s_uid")||o.uP.s_uid||"",t.eVar6=e.get("s_pid")||o.uP.s_pid||"",t.eVar82=e.get("s_cid")||o.uP.s_cid||"",t.eVar83=e.get("linkid"),e.get("c")||e.get("pid")||o.uP.c||o.uP.pid){var a=(e.get("c")||o.uP.c||"")+(e.get("pid")||o.uP.pid||"");t.events+=",event25",t.eVar102=a}t.eVar68=e.get("utm_campaign")||o.uP.utm_campaign||"",t.eVar103=e.get("utm_source")||o.uP.utm_source||"",t.eVar104=e.get("utm_medium")||o.uP.utm_medium||"",t.eVar105=e.get("utm_term")||o.uP.utm_term||"",t.eVar106=e.get("utm_content")||o.uP.utm_content||"",t.eVar11=_.pageLang||"",t.pageName=_.pageName||"",/:games:/.test(_.pageName)&&!/pageLoad|viewChange|assetClick/.test(m)&&(t.events+=",event127"),t.eVar10="";var n="Web";if(e.get("campaign")&&(t.eVar10+=",campaign:"+e.get("campaign")),e.get("appId")?t.eVar10+=",appId:"+e.get("appId"):e.get("appID")&&(t.eVar10+=",appId:"+e.get("appID")),e.get("adobe_mc")&&(t.eVar10+=",adobe_mc:"+e.get("adobe_mc"),n="AppWebView"),e.get("context")&&(t.eVar10+=",context:"+e.get("context"),"app"==e.get("context")&&(n="AppWebView")),o.fifaplusGames?t.eVar43="fifaPlus"+n+"Games":o.fifaplus?t.eVar43="fifaPlus"+n:t.eVar43="microsite"+n,o.AnaPage)switch(sessionStorage.setItem("com.adobe.ort",b),sessionStorage.removeItem("com.adobe.fPageInfo"),sessionStorage.setItem("com.adobe.falhEvents",JSON.stringify(s)),m){case"pageLoad":case"viewChange":l&&console.log("### DLEV Track AA s.t():",m,u),t.t(u);break;default:l&&console.log("### DLEV Track AA s.tl():",m,u),t.tl(!0,"o",m,u)}else if(/pageLoad|viewChange/.test(m)){var r={};for(var i in t)/^(eVar|events|channel|pageName|campaign)/.test(i)&&(r[i]=t[i]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(r)),l&&console.log("### DLEV. PV NOT fired, not AnaPage. Stored fPageInfo:",r)}else l&&console.log("### DLEV Track Link Blocked. AnaPage:",m,o.AnaPage)}function n(){l&&console.log("### DLEV Ecommerce Update Function"),t.eVar81=o.OTPrefs,u.eVar8=o.pageName,l&&console.log("### DLEV linkTrackVars: "," events: ",t.events);var e=[],a=[],n=[],r=[],c=[],d=[],g=[],p=[],v=f.currencyCode||"";for(v?(u.currencyCode=v,s.currencyCode=v):s.currencyCode&&(u.currencyCode=s.currencyCode),i=0;i<h.length;i++)e[i]=h[i].name.replace(/,|;/g,"-"),e[i]=e[i].replace("FIFA World Cup Qatar 2022\u2122","FWC22").substring(0,92),a[i]=h[i].id||"",a[i]&&(a[i]="eVar141="+a[i]),n[i]=h[i].quantity||"",r[i]=h[i].price||"",h[i].category?(c[i]=h[i].category.replace(/,|;/g,"-"),c[i]=c[i].replace(" / Ticket Price",""),a[i]?c[i]="|eVar80="+c[i]:c[i]="eVar80="+c[i]):c[i]="",n[i]&&r[i]?(d[i]=n[i]*r[i],d[i]=(Math.round(100*d[i])/100).toFixed(2)):d[i]="",g[i]="addToCart"==m?"event107="+n[i]:"eec.purchase"==m?"event106="+d[i]:"",p[i]=";"+e[i]+";"+n[i]+";"+d[i]+";"+g[i]+";"+a[i]+c[i],p[i]=p[i].replace(/;+$/g,"");p=p.toString(),u.products=p,o.AnaPage?(l&&console.log("### DLEV ecommerceUpdate. oRide:",JSON.stringify(u)),sessionStorage.setItem("com.adobe.falhEvents",JSON.stringify(s)),t.tl(!0,"o",m,u)):l&&console.log("### DLEV ecommerceUpdate. Blocked. AnaPage:",o.AnaPage)}function r(){if(l&&console.log("### DLEV Application Event Function"),""!=y){l&&console.log("*** DLEV RSD Updated Products:",y),t.events="event6",u.eVar46="ticketing-lottery-request";var e={confirm:"conf",edit:"ed",delete:"del",submit:"sub","a-ticket-request":"req",clicked:"clik",succeeded:"succ","profile-details":"prof"};y=y.join("|").replace(/\b(?:confirm|edit|delete|submit|a-ticket-request|clicked|succeeded|profile-details)\b/g,(function(t){return e[t]})),u.eVar79=y}null!=u.eVar46?(l&&console.log("*** DLEV RSD Sending Events:",u.eVar46),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(d+=",TE"),o.LotPage&&(d+=",LO"),o.fpix&&(d+=",PI",t.events+=",event86"),_.pixEvent=u.eVar46,_.sEvents=t.events,_.tixProd=u.eVar79,l&&console.log("***### DLEV Ticketing Action. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:_})):l&&console.log("***### DLEV Ticketing Action. FPPixelEvents NOT Called***"),o.AnaPage?(l&&console.log("### DLEV RSD Track Ticketing Action. Link Tracked"),t.tl(!0,"o","Ticketing Event Action",u)):l&&console.log("### DLEV RSD Track Ticketing Action. Blocked. AnaPage:",o.AnaPage)):l&&console.log("*** DLEV RSD NO Events to send")}try{var o=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("### DLEV. alConfig parse error, overwrite"),o={}}o.uP=o.uP||{};try{var s=JSON.parse(sessionStorage.getItem("com.adobe.falhEvents"))||{}}catch(e){o.logging&&console.log("### DLEV. hEvents parse error, overwrite"),s={}}var l=o.logging,c=parseInt(sessionStorage.getItem("com.adobe.dataLayerS"))||0;l&&console.log("### DLEV dataLayerStart: ",c," dataLayer length: ",dataLayer.length),sessionStorage.setItem("com.adobe.dataLayerS",dataLayer.length);var d="221206-DLC",u={},g={},f={},p={},m="",h=[],v=0,y=(location.pathname,[]),b=sessionStorage.getItem("com.adobe.ort")||"";t.eVar26="",t.eVar41="",t.eVar42="",t.eVar49="",t.eVar63="",t.eVar64="",t.eVar76="",t.eVar79="",t.eVar80="",t.eVar84="",t.eVar140="",t.eVar141="",t.eVar142="",t.products="",t.currencyCode="",t.purchaseID="";var _={};for(_.u=location.hostname+location.pathname,o.fifaplusGames||(_.pageName=t.pageName,_.pageLang=t.eVar11),t.eVar99=d,v=c;v<dataLayer.length;v++){if(g=dataLayer[v],f=g.ecommerce||"",m=g.event||"",g.asset&&(u.eVar84=g.asset),void 0!==g["event-data"]){var P=g["event-data"]||{},C=P.action||"",S=P.label||"";l&&console.log("*** DLEV RSD Event",v,C,S),C=C.toLowerCase().replace(/\s+/g,"-"),S=(S=S.toLowerCase().replace(/\s+/g,"")).replace(/matchgroupmatches/g,"mg").replace(/match/g,"m").replace(/category/g,"cat"),l&&console.log("*** DLEV RSD Event, cleansed",v,C,S)}switch(o.fifaplusGames&&(g.pageName?_.pageName=("fifaplus:"+(g.pageName||"")).replace("games:fwc22-hyundai-","worldcup:qatar2022:games:").replace(/ /g,"-").toLowerCase():t.pageName?_.pageName=t.pageName:_.pageName="fifaplus:games:playzone:microsite",_.pageLang=g.language||t.eVar11||"unknown"),m){case"ee-productView":l&&console.log("### DLEV Product Detail View Function Init"),t.events="prodView",u.eVar46="ticketing-ecommerce-productView",p=f.detail||"",h=p.products||"",n();break;case"addToCart":l&&console.log("### DLEV Add to Cart Function Init"),t.events="scAdd,event80,event107",u.eVar46="ticketing-ecommerce-add",p=f.add||"",h=p.products||"",n();break;case"removeFromCart":l&&console.log("### DLEV Remove from Cart Function Init"),t.events="scRemove,event81",u.eVar46="ticketing-ecommerce-remove",p=f.remove||"",h=p.products||"",n();break;case"ee-checkout":/tickets:fcfs-.+?:checkout:(confirmation|cancelpayment):microsite$/.test(o.pageName)||(l&&console.log("### DLEV Checkout Function Init"),t.events="scCheckout",u.eVar46="ticketing-ecommerce-checkout",p=f.checkout||"",h=p.products||"",n());break;case"eec.purchase":l&&console.log("### DLEV Purchase Function Init"),t.events="purchase,event82,event106",u.eVar46="Purchase";var k=Math.floor(1e13*Math.random()),E=((p=f.purchase||"").actionField||"").id||"";E&&(u.eVar140=E+"-"+k),h=p.products||"",o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(d+=",TE"),o.LotPage&&(d+=",LO"),o.fpix&&(d+=",PI",t.events+=",event86"),_.pixEvent=u.eVar46,_.sEvents=t.events,l&&console.log("***### DLEV Purchase Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:_})):l&&console.log("***### DLEV Purchase Function. FPPixelEvents NOT Called***"),n();break;case"onLoginSuccess":l&&console.log("### DLEV Login Success"),t.eVar24=o.uID,t.eVar25=o.uS,t.eVar26=o.uPID,t.eVar27=_satellite.getVar("userDOB"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry");break;case"APPLICATION_EVENTS":/ticket-request|submit|profile/.test(C)&&(y.push(C+","+S),l&&console.log("*** DLEV RSD Event",v,"Ticket Request",C,S,y)),r();break;case"ACCOUNT_EVENTS":"login-succeeded"==C&&(t.eVar24=o.uID,t.eVar25=o.uS,t.eVar26=o.uPID,t.eVar27=_satellite.getVar("userDOB"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry"),l&&console.log("*** L1 DLEV RSD Event",v,"Login Succeeded",C,S));break;case"pageLoad":l&&console.log("### DLEV Games Page Load - pageName:",_.pageName),t.clearVars(),t.events="event2",t.eVar46="Page View",t.pageName=_.pageName,t.channel=_.pageName.split(":")[1]||"",t.eVar5=_.pageName.split(":")[_.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",/quiz-intro:microsite$/.test(_.pageName)?(t.events+=",event77",t.eVar46="Quiz Start"):/quiz-results:microsite$/.test(_.pageName)?(t.events+=",event45",t.eVar46="Quiz Complete",u.eVar150=g.score):/gotc-pledge:campaign/.test(_.pageName)?(t.events+=",event27",t.eVar46="Asset Load",u.eVar84="hyundai-gotc-pledge:campaign-page-view"):/gotc-pledge:editorial/.test(_.pageName)&&(t.events+=",event27",t.eVar46="Asset Load",u.eVar84="hyundai-gotc-pledge:editorial-page-view"),t.eVar11=_.pageLang,t.eVar34=_satellite.getVar("pageTitle"),t.eVar70=location.hostname+location.pathname,t.eVar81=o.OTPrefs||"",t.eVar86=document.referrer,t.eVar93=o.lotId,t.eVar94=o.tealId,t.eVar95="D=mid",t.eVar99=d+",DPL",t.eVar107=o.dr||"",t.eVar114=o.g||"",t.eVar115=o.gc||"",l&&console.log("***DLEV Games Page Load. DPL fired s:",t,"***"),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(t.eVar99+=",TE"),o.LotPage&&(t.eVar99+=",LO"),o.fpix&&(t.eVar99+=",PI",t.events+=",event86"),_.pixEvent="F+ Games Page View",_.sEvents=t.events,l&&console.log("***### DLEV pageLoad Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:_})):l&&console.log("***### DLEV pageLoad Function. FPPixelEvents NOT Called***"),a();break;case"viewChange":l&&console.log("### DLEV Games View Change",_.pageName),t.events="event2",t.eVar46="Page View",t.pageName=_.pageName,t.channel=_.pageName.split(":")[1]||"",t.eVar5=_.pageName.split(":")[_.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",/quiz-intro:microsite$/.test(_.pageName)?(t.events+=",event77",t.eVar46="Quiz Start"):/quiz-results:microsite$/.test(_.pageName)?(t.events+=",event45",t.eVar46="Quiz Complete",u.eVar150=g.score):/gotc-pledge:campaign/.test(_.pageName)?(t.events+=",event27",t.eVar46="Asset Load",u.eVar84="hyundai-gotc-pledge:campaign-page-view"):/gotc-pledge:editorial/.test(_.pageName)&&(t.events+=",event27",t.eVar46="Asset Load",u.eVar84="hyundai-gotc-pledge:editorial-page-view"),t.eVar34=_satellite.getVar("pageTitle"),t.eVar70=location.hostname+location.pathname,t.eVar99=d+",VC",l&&console.log("### DLEV Games View Change oRide:",u),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(t.eVar99+=",TE"),o.LotPage&&(t.eVar99+=",LO"),o.fpix&&(t.eVar99+=",PI",t.events+=",event86"),_.pixEvent="F+ Games Page View",_.sEvents=t.events,l&&console.log("***### DLEV viewChange Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:_})):l&&console.log("***### DLEV viewChange Function. FPPixelEvents NOT Called***"),a();break;case"videoStart":l&&console.log("### DLEV Games Video Start"),t.events="event12",u.eVar42=g.videoName||"",u.eVar46="Content Bracket Video Start",l&&console.log("### DLEV Games Video Start oRide:",u),a();break;case"videoComplete":l&&console.log("### DLEV Games Video Complete"),t.events="event13",u.eVar42=g.videoName||"",u.eVar46="Content Bracket Video Complete",l&&console.log("### DLEV Games Video Complete oRide:",u),a();break;case"vote":l&&console.log("### DLEV Games Vote"),t.events="event35",u.eVar46="Vote Submit",u.eVar63="fifaplus-games-bracket";var I=g.voteSource||"";I&&(I=(I=I.replace(/ /g,"-")).toLowerCase()),u.eVar64=_.pageName.split(":")[_.pageName.split(":").length-3]+":"+_.pageName.split(":")[_.pageName.split(":").length-2]+":"+I,l&&console.log("### DLEV Games Vote oRide:",u),o.TealPage||o.LotPage||o.Tgt?(o.TealPage&&(t.eVar99+=",TE"),o.LotPage&&(t.eVar99+=",LO"),o.fpix&&(t.eVar99+=",PI",t.events+=",event86"),_.pixEvent="Vote Submit",_.sEvents=t.events,l&&console.log("***### DLEV vote Function. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DLV",alConfig:o,cEvents:_})):l&&console.log("***### DLEV vote Function. FPPixelEvents NOT Called***"),a();break;case"socialShare":t.events="event26",u.eVar46="Social Click",u.eVar49=g.socialShareSource||"",u.eVar76=g.socialShareType||"",l&&console.log("### DLEV Games Social Share:",u),a();break;case"selectionStart":t.events="event77",u.eVar46="Selection Start",/worldcup:qatar2022:games:gotc-pledge/.test(t.pageName)&&(u.eVar84="hyundai-gotc-pledge:start-quiz",t.events+=",event28"),l&&console.log("### DLEV Games Selection Start:",u),a();break;case"selectionComplete":t.events="event45",u.eVar46="Selection Complete",/worldcup:qatar2022:games:gotc-pledge/.test(t.pageName)&&(u.eVar84="hyundai-gotc-pledge:complete-quiz",t.events+=",event28"),l&&console.log("### DLEV Games Selection Complete:",u),a();break;case"submitForm":case"submitPledge":t.events="event114",u.eVar46="Submit Form",/worldcup:qatar2022:games:gotc-pledge/.test(t.pageName)&&(u.eVar84="hyundai-gotc-pledge:submit-my-pledge",t.events+=",event28"),l&&console.log("### DLEV Games Submit Form:",u),a();break;case"createLeague":t.events="event47",u.eVar46="Create League",l&&console.log("### DLEV Games Create League:",u),a();break;case"joinLeague":t.events="event48",u.eVar46="Join League",l&&console.log("### DLEV Games Join League:",u),a();break;case"leaveLeague":t.events="event49",u.eVar46="Leave League",l&&console.log("### DLEV Games Leave League:",u),a();break;case"deleteLeague":t.events="event50",u.eVar46="Delete League",l&&console.log("### DLEV Games Delete League:",u),a();break;case"autoComplete":t.events="event53",u.eVar46="Auto Complete",l&&console.log("### DLEV Games Auto Complete:",u),a();break;case"playWildcard":t.events="event54",u.eVar46="Play Wild Card",l&&console.log("### DLEV Games Play Wild Card:",u),a();break;case"transferPlayer":t.events="event55",u.eVar46="Transfer Player",l&&console.log("### DLEV Games Transfer Player:",u),a();break;case"boostCaptain":t.events="event56",u.eVar46="Boost Captain",l&&console.log("### DLEV Games Boost Captain:",u),a();break;case"boostBench":t.events="event57",u.eVar46="Boost Bench",l&&console.log("### DLEV Games Boost Bench:",u),a();break;case"saveTeam":t.events="event58",u.eVar46="Save Team",l&&console.log("### DLEV Games Save Team:",u),a();break;case"resetPrediction":t.events="event78",u.eVar46="Reset Prediction",l&&console.log("### DLEV Games Reset Prediction:",u),a();break;case"downloadPrediction":t.events="event79",u.eVar46="Download Prediction",l&&console.log("### DLEV Games Download Prediction:",u),a();break;case"copyLink":t.events="event51",u.eVar46="Copy Link",u.eVar76=g.socialShareType||"",l&&console.log("### DLEV Games Copy Link:",u),a();break;case"sendInvites":t.events="event51",u.eVar46="Invite to Group",u.eVar76=g.socialShareType||"",l&&console.log("### DLEV Games Send Invites:",u),a();break;case"joinGroup":t.events="event48",u.eVar46="Join Group",/worldcup:qatar2022:games:gotc-pledge/.test(t.pageName)&&(u.eVar84="hyundai-gotc-pledge:join-team-century",t.events+=",event28"),l&&console.log("### DLEV Games Join Group:",u),a();break;case"drawNationSelect":case"drawStart":t.events="event77",u.eVar46="Draw Predictor Start",l&&console.log("### DLEV Games Draw Start:",u),a();break;case"drawReset":t.events="event78",u.eVar46="Draw Predictor Reset",l&&console.log("### DLEV Games Draw Reset:",u),a();break;case"drawTeamSwitch":t.events="event66",u.eVar46="Draw Predictor Edit",l&&console.log("### DLEV Games Draw Team Switch:",u),a();break;case"drawSubmit":t.events="event59",u.eVar46="Draw Predictor Submit",l&&console.log("### DLEV Games Draw Submit:",u),a();break;case"assetClick":t.events="event28",u.eVar46="Asset Click",l&&console.log("### DLEV assetClick:",u),a();break;case"partnerLinkLoad":t.pageName=_.pageName,t.channel=_.pageName.split(":")[1]||"",t.eVar5=_.pageName.split(":")[_.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",t.events="event27",u.eVar46="Asset Load",u.eVar70=location.hostname+location.pathname,u.eVar84="fwc-2022-draw-predictor:title-banner",l&&console.log("### DLEV Games Draw PartnerLinkLoad:",u),a();break;case"partnerLinkClick":t.events="event28",u.eVar41=((g.partner||"")+":"+(g.source||"")).toLowerCase(),u.eVar46="Asset Click",u.eVar84="fwc-2022-draw-predictor:title-banner",l&&console.log("### DLEV Games Draw PartnerLinkClick:",u),a()}}}},trackerProperties:{}}}]},{id:"RLd4d410746cb3490796e615422dbd4d8d",name:"Asset InView 2",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:"[data-asset]"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},t=e.logging;return e.AnaPage&&(/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|worldcup\/)$/.test([location.hostname,location.pathname].join(""))||_satellite.getVar("McPages")||_satellite.getVar("FifaComPages"))?(t&&console.log("#### Asset InView Enabled"),!0):(t&&console.log("#### Asset InView Disabled"),!1)}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){var e=!1;y(v.eElement)?(i&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView - element is in view for ",v.eTimeInView),v.eInView=!0,v.eTimeInView++,v.eTimeInView>m&&(e=!0)):(v.eInView=!1,v.eTimeInView=0),e&&(i&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView - validated, add to cookie and clear timer"),e=!1,clearInterval(l),n())}function n(){var e=0,a=0;for(var n in localStorage)/^com.adobe.aiv.po/.test(n)?((JSON.parse(localStorage[n])||"").pn||"")==t.pageName&&a++:/^com.adobe.aiv.e./.test(n)&&e++;0==a&&r(),delete v.eElement;var o="com.adobe.aiv.e."+Math.floor(Date.now()/Math.random());localStorage.setItem(o,JSON.stringify(v)),i&&console.log("~~~~ D: Asset InView Added to storage:",o,localStorage.getItem(o)),e>=f&&"true"!=sessionStorage.getItem("com.adobe.aiv.a")?(sessionStorage.setItem("com.adobe.aiv.a",!0),i&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView 2021-09-30 001. Time:",Date.now(),"# Assets: ",e,", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),_satellite.track("trackAssetAction",{action:"AIV"})):i&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView - # Assets:",e,". Active flag",sessionStorage.getItem("com.adobe.aiv.a"))}function r(){var e={pn:t.pageName,ev7:t.eVar7,ev11:t.eVar11,ev12:t.eVar12,ev16:t.eVar16,ev24:t.eVar24,ev25:t.eVar25,ev27:t.eVar27,ev28:t.eVar28,ev29:t.eVar29,ev32:t.eVar32,ev34:t.eVar34,ev43:t.eVar43,ev55:t.eVar55,ev56:t.eVar56,ev65:t.eVar65,ev66:t.eVar66,ev68:t.eVar68,ev69:t.eVar69,ev70:location.hostname+location.pathname,ev81:t.eVar81};localStorage.setItem("com.adobe.aiv.po."+Math.floor(Date.now()/Math.random()),JSON.stringify(e))}var i=_satellite.getVar("LoggingL1");i&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView 2021-09-30 001. Time:",Date.now(),"element: ",this),_satellite.getVar("LoggingL1");var o=this.getAttribute("data-campaign")||"",s=this.getAttribute("data-assetid")||"";if("thebest"==o&&/the-best-fifa-football-awards/.test(t.pageName)&&/(1|2|3)$/.test(s))i&&console.log("\xa3\xa3\xa3\xa3 D: Asset InView Aborted for this campaign",o,"asset id",s);else{var l,c=this.getAttribute("data-asset")||"",d=this.getAttribute("data-assettag")||"",u=this.getAttribute("data-assetname")||"",g=this.getAttribute("data-assetid")||"",f=12,p=100,m=5,h=50,v={eT:"assetInView",eA:o+":"+c+":"+d.toLowerCase().replace(/(,|:)/g,"-")+":"+u.toLowerCase().replace(/(,|:)/g,"-")+":"+g.toLowerCase(),ePN:t.pageName,eInView:!1,eTimeInView:0,eElement:this};l=window.setInterval(a,p);var y=function(e){var t=e.getBoundingClientRect(),a=!1,n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,i=t.top<=n&&t.left<=r&&t.bottom>=0&&t.right>=0;if(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))a=!0;else if(i){var o=t.left,s=t.right;o<0&&(o=0),s>r&&(s=r);var l=t.top,c=t.bottom;l<0&&(l=0),c>n&&(c=n);var d=(s-o)*(c-l),u=(t.right-t.left)*(t.bottom-t.top);if(d>0)var g=d/u*100;else g=0;g>=h&&(a=!0)}else a=!1;return a}}}},trackerProperties:{}}}]},{id:"RL358ef4d034dc43a7a6e77a530dbff287",name:"ddlPageName Change",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"ddlPageName"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=!1;return e&&console.log("ddlPageName Change"),_satellite.getVar("McPages")||_satellite.getVar("FifaComPages")||"www.fifa.com"==location.host?(e&&console.log("ddlPageName Change - Call trackViewChange"),_satellite.track("trackViewChange",{action:"ddlPageNameChange"})):e&&console.log("ddlPageName Change - ABORTED"),!1}}}],actions:[]},{id:"RL05581442476d4792b5b824f21db7645e",name:"trackEventAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackEventAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=(d=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}).logging;a&&console.log("### L2 DR trackEventAction event:",e),_satellite.getVar("pageName");var n={},r=e.detail||"",i=r.action||"",o=r.actionName||"",s=r.source||"",l=r.election||"";if("Overlay"==i)return a&&console.log("### L2 DR trackEventAction, calling trackViewChange for Overlay."),void _satellite.track("trackViewChange",{action:i,actionName:o.toLowerCase().replace(" ","-")});a&&console.log("### L2 DR trackEventAction. eventContext: ",r,". eventContextA:",i,". eventContextAN:",o,". eventContextAS:",s),t.linkTrackVars=_satellite.getVar("linkTrackVars");var c="210817-DR_EA";switch("!"==t.eVar99.substring(0,1)&&(c="!"+c),n.eVar46=i,t.eVar81=_satellite.getVar("OneTrustPreferences"),i){case"Survey Submit":case"Mascot Vote":case"Mascot Change Vote":case"The Best Vote":case"The Best Change Vote":t.linkTrackVars+=",eVar63,eVar64",n.events="event35",n.eVar63=""!=l?l:i,n.eVar64=o.toLowerCase(),n.eVar68=s.toLowerCase(),n.eVar70=location.hostname+location.pathname;break;case"E-Commerce":var d=sessionStorage.getItem("com.adobe.alConfig");n.events=s,n.eVar46=o;break;case"Nav Click":case"Expand":t.linkTrackVars+=",eVar41,eVar48",n.events="event4",n.eVar46="nav-"+(i||"").toLowerCase().replace(" ","-").replace("nav-","")+"-"+s.toLowerCase(),n.eVar41=o.toLowerCase(),n.eVar48="Navigation "+i.replace("Nav ","");break;case"Form Start":t.linkTrackVars+=",list2,list3,",n.events="event111",n.list2=o+":form-start",n.list3=n.list2;break;case"Form Complete":t.linkTrackVars+=",list2,list3,",n.events="event112",n.list2=o+":form-complete",n.list3=n.list2;break;case"Form Click":t.linkTrackVars+=",list2,list3,eVar48",n.events="event28",n.list2=o,n.list3=n.list2,n.eVar48=i;break;case"Form Confirmed":t.linkTrackVars+=",list2,list3",n.events="event113",n.list2=o+"-form-confirmed",n.list3=n.list2;break;default:t.events=""}n.prop74=i+": "+o,n.eVar99=c,"E-Commerce"!=i&&d.AnaPage?(t.tl(!0,"o","Event Action",n),a&&console.log("### L2 DR trackEventAction. Link Tracked")):a&&console.log("### L2 DR trackEventAction. Link NOT Tracked. AnaPage:",d.AnaPage)}},trackerProperties:{}}}]},{id:"RL380a1d2b4dc04bdb9072d3bcb9607a3d",name:"trackB2CAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackB2CAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{},n=a.logging;n&&console.log("### L1 DR trackB2CAction digitalData: ",JSON.stringify(digitalData,null,4),". event:",e);var r="account:sign-in-up",i={},o=_satellite.getVar("ddlEventType"),s=_satellite.getVar("URLCampaignID"),l=_satellite.getVar("ddlEventSocialType"),c="",d=e.detail||"",u=d.action||"",g=d.actionName||"";n&&console.log("### L1 DR trackB2CAction ddleventType:",o,". urlpageCampaign:",s,". ddlEventSocialType",l,". eventContext: ",d,". eventContextA:",u,". eventContextAN:",g,"url:",location.hostname+location.pathname+location.search,"###"),t.events="";var f="220325-DR_B2C";if("!"==t.eVar99.substring(0,1)&&(f="!"+f),(""==d||"actionB2C"==u)&&""!=o){switch(n&&console.log("### L1 DR trackB2CAction - actionB2C"),o){case"signup":i.events="event19",r="account:sign-up",c="signed-up";break;case"login":i.events="event7",r="account:sign-in",c="logged-in";break;case"email-verified":case"sign-up-cancel":i.events="",r="account:sign-in-up",c=g;break;default:c=o}""!=l&&(c=l+"-"+c),""!=s&&(r+=":"+s,c=s+"-"+c),u="actionB2C",r+=":action",i.eVar99=f+"A"}n&&console.log("### L1 DR trackB2CAction. pageName:",r,", eVar46: ",c);var p=r.split(":");i.channel=p[0],i.eVar15=p[0],i.eVar51=p[0],i.eVar52=p[0],i.eVar53=r.substring(0,r.lastIndexOf(":")),p.length-2>=1&&(i.eVar15=i.eVar15+":"+p[1],i.eVar51=i.eVar15,i.eVar52=i.eVar15),p.length-2>=2&&(i.eVar51=i.eVar51+":"+p[2],i.eVar52=i.eVar51),p.length-2>=3&&(i.eVar52=i.eVar52+":"+p[3]),i.eVar5=r.split(":")[r.split(":").length-1];var m=_satellite.getVar("userID");""!=m&&(t.eVar24=m,t.eVar25=_satellite.getVar("userStatus")),t.eVar11=_satellite.getVar("pageLanguage"),i.eVar46=c,t.eVar70=location.hostname+location.pathname,t.eVar81=_satellite.getVar("OneTrustPreferences"),i.prop74=i.eVar99+": "+r;var h={};h.pageLang=t.eVar11||"",h.u=t.eVar70||"","pageViewB2C"==u||"delayedPageViewB2C"==u?(t.pageName=_satellite.getVar("pageName").replace(/\:form/,"")+":"+g+":form",i.events="event2",i.list2="",i.list3="","1"==_satellite.getVar("ddlUserStatus")&&(t.eVar24=_satellite.getVar("userID"),t.eVar25=_satellite.getVar("userStatus"),t.eVar27=_satellite.getVar("userDOB"),t.eVar28=_satellite.getVar("userGender"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry")),i.eVar34=_satellite.getVar("pageTitle"),i.eVar44="",i.eVar77="","pageViewB2C"==u?i.eVar99=f+"F":"delayedPageViewB2C"==u&&(i.eVar99=f+"P"),a.TealPage||a.LotPage||a.Tgt?(a.TealPage&&(f+=",TE"),a.LotPage&&(f+=",LO"),a.Tgt&&(f+=",PI",t.events+=",event86"),h.pixEvent="B2C Page View",h.sEvents=t.events,n&&console.log("### L1 DR trackB2CAction PV. FPPixelEvents Called. alConfig:",JSON.stringify(a),". cEvents:",JSON.stringify(h)),_satellite.track("FPPixelEvents",{rule:"B2CP",alConfig:a,cEvents:h})):n&&console.log("### L1 DR trackB2CAction PV. FPPixelEvents NOT Called. alConfig:",JSON.stringify(a)),a.AnaPage?(t.t(i),n&&console.log("### L1 DR trackB2CAction. Page View Tracked. s.pageName",t.pageName)):n&&console.log("### L1 DR trackB2CAction. Page View NOT Tracked. AnaPage:",a.AnaPage)):"actionB2C"==u?(i.pageName=r,i.eVar70=location.hostname+location.pathname,t.linkTrackVars=_satellite.getVar("linkTrackVars"),a.TealPage||a.LotPage||a.Tgt?(a.TealPage&&(f+=",TE"),a.LotPage&&(f+=",LO"),a.Tgt&&(f+=",PI",t.events+=",event86"),h.pixEvent="signup"==o?"B2C Sign Up":"login"==o?"B2C Sign In":"B2C Action",h.sEvents=t.events,n&&console.log('### L1 DR trackB2CAction", eventType, ". FPPixelEvents Called. alConfig:',JSON.stringify(a),". cEvents:",JSON.stringify(h)),_satellite.track("FPPixelEvents",{rule:"B2CPA",alConfig:a,cEvents:h})):n&&console.log('### L1 DR trackB2CAction ", eventType, ". FPPixelEvents NOT Called. alConfig:',JSON.stringify(a)),a.AnaPage?(t.tl(!0,"o","B2C Action",i),n&&console.log("### L1 DR trackB2CAction. Link Tracked")):n&&console.log("### L1 DR trackB2CAction. Link NOT Tracked. AnaPage:",a.AnaPage)):n&&console.log("### L1 DR trackB2CAction. No Adobe Call")}},trackerProperties:{}}}]},{id:"RL1e30089ec03c49f8ab7dc65c45963f2a",name:"Page Top Libraries",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(){
"undefined"!=dataLayer&&dataLayer.length>d?(d=dataLayer.length,r&&console.log("***PTL. Call DLEV - dataLayer.Length changed, length:",d),setTimeout((function(){_satellite.track("dlEvents",{action:"PT-DLEC"})}),500)):++s>l&&(r&&console.log("***PTL. Call DLEV - cancelled after:",s*l,"dataLayer.length:",d),clearInterval(u))}if(!_satellite.getVar("FifaPlusPages")){sessionStorage.removeItem("com.adobe.dataLayerS"),sessionStorage.removeItem("com.adobe.fPageInfo");var t=new Date(Date.now()),a=_satellite.getVar("alConfig"),n=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"",r=a.logging;if(r&&(t=t.toLocaleString()+" - ms: "+t.getMilliseconds(),console.log("____A0. Page Top Libraries - OTPrefs:",a.OTPrefs,". Time: ",t,". alConfig:",a)),a.AnaPage){for(var i in localStorage)if(/^com.adobe.aiv.e./.test(i)){sessionStorage.setItem("com.adobe.aiv.a",!0),r&&console.log("#### PTL Asset InView Tracked 2021-09-30 001. Time:",Date.now(),", direct call trackAssetAction, active flag",sessionStorage.getItem("com.adobe.aiv.a")),setTimeout((function(){_satellite.track("trackAssetAction",{action:"PTL Asset InView"})}),200);break}}else r&&console.log("#### PTL Asset InView Tracking Disabled. Nothing to track or Analytics disabled. ####");if(""==n&&a.AnaPage){var o=new XMLHttpRequest;o.open("GET","https://tags.tiqcdn.com/location/location.js",!0),o.onload=function(){if(4===o.readyState&&200===o.status){var e=o.getResponseHeader("x-edgescape-location");sessionStorage.setItem("com.adobe.xresp",JSON.stringify(e)),r&&console.log("#### PTL Geo response:",e)}else r&&console.log("#### PTL Geo not ready:",o.statusText)},o.onerror=function(){r&&console.log("#### PTL Geo error:",o.statusText)},o.send(null)}else r&&console.log("#### PTL Geo already set:",n);window.Tealium={},window.tealium=window.tealium||{q:[]},(a.TealPage||a.LotPage||a.Tgt||a.fifaplusGames||/^account.+?fifa\.com/.test(location.host))&&(r&&console.log("### PTL Call FPLibraries:","Teal:"+a.TealPage+". Lot:"+a.LotPage+". Tgt (pixels):"+a.Tgt),_satellite.track("FPLibraries",{alConfig:a}));var s=0;if(/^((fifaplus:|)worldcup:qatar2022:tickets:fcfs-|fifae:fenc:tickets:fcfs:|(fifaplus:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-)/.test(a.pageName)){s=1;var l=10,c=1e3}else(/^worldcup:qatar2022:tickets:lottery/.test(a.pageName)||a.fifaplusGames)&&(s=1,l=Number("Infinity"),c=100);if(s>0){if("undefined"!=typeof dataLayer&&dataLayer.length>0){var d=dataLayer.length;r&&console.log("***PTL dataLayer exists at PT, call dlEvents, dl length:",d),setTimeout((function(){_satellite.track("dlEvents",{action:"PT"})}),500)}else d=0,r&&console.log("***PTL dataLayer doesn't exist at PT");var u=window.setInterval(e,c)}return!1}"production"!=_satellite.environment.stage&&console.log("*** PTL - Abort - fifaplus ###")}}}],actions:[]},{id:"RLdf1f6b1fc8084a348bfd9853ef5a7415",name:"trackPidAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPidAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(_satellite.getVar("FifaPlusPages"))var a=sessionStorage.getItem("com.adobe.falConfig")||{};else a=sessionStorage.getItem("com.adobe.alConfig")||{};try{a=JSON.parse(a)}catch(e){"production"!=_satellite.environment.stage&&console.log("### D:trackPidAction. Set AA---- alConfig parse error, overwrite"),a={}}var n=a.logging,r=e.detail||"",i=r.event||"",o=r.pageName||"",s=r.pageLang||"",l=r.campaign||"",c=r.socialType||"",d=r.context||"",u=r.adobe_mc||"",g=r.appID||r.appId||"",f=new URLSearchParams(location.search.toLowerCase());n&&console.log("### D:trackPidAction. Context- event:",i,". pageName:",o,". pageLang:",s,". campaign:",l,". context",d,". adobe_mC",u,". appId",g),t.linkTrackVars=a.lTrackV;var p="220811-DR_PID";t.pageName="fifaplus:account:"+o,l&&(t.pageName+=":"+l),t.channel="account",t.eVar9="D=ch",t.eVar11=s,t.eVar34=(document.title||"").toLowerCase(),t.eVar10="","app"==f.get("context")||"app"==d?(t.eVar43="fifaPlusAppWebView",/MCMID%3D/.test(u)?u=(u.split("MCMID%3D")[1]||"").split("%7C")[0]:/MCMID=/.test(u)&&(u=(u.split("MCMID=")[1]||"").split("|")[0]),u&&(t.eVar10=",vid:"+u,t.visitorID=u),t.linkTrackVars+=",eVar75",t.eVar75=g):t.eVar43="fifaPlusWeb",t.eVar10+=",cCampaign:"+l+",cContext:"+d+",cAdobeMC:"+u+",cAppId:"+g,t.eVar70=location.hostname+location.pathname,t.eVar81=a.OTPrefs,t.eVar86=document.referrer,t.eVar93=a.lotId,t.eVar94=a.tealId,t.eVar95="D=mid",t.eVar114=a.g||"",t.eVar115=a.gc||"",t.eVar25="not logged in";var m={};/pageView/.test(i)?(t.events="event2",t.pageName+=":form",/:sign-up-1(|.+?):form$/.test(t.pageName)&&(t.events+=",event18"),t.eVar46="Page View",p+="-PV",m.pixEvent="F+ Page View"):/signUpRequest|resetRequest|resetVerified/.test(i)?(t.events="event2",t.pageName+=i.replace("signUp",":").replace("reset",":").toLowerCase(),t.eVar46="Page View",p+="-PV",m.pixEvent="F+ Page View",/signUpRequest/.test(i)&&(m.pixEvent="F+ Sign Up RequestPage View")):"signIn"==i?(t.events="event7",t.pageName+=":action",t.eVar46="logged-in",p+="-SI",m.pixEvent="F+ Sign In"):"signUpVerified"==i?(t.events="event19",t.linkTrackVars+=",eVar45",t.pageName=t.pageName.replace(":sign-up:",":sign-up-verified:")+":action",t.eVar45=t.eVar43+"-"+l,t.eVar46="signed-up",p+="-SU",m.pixEvent="F+ Sign Up"):(t.events="",t.pageName+=":action",t.eVar46="fifaplus:account:"+i,p+="-A",m.pixEvent="F+ Action"),t.eVar5=t.pageName.split(":")[t.pageName.split(":").length-1],t.eVar8="D=pageName",c&&(t.eVar46=c+"-"+t.eVar46),l&&(t.eVar46=l+"-"+t.eVar46),a.TealPage||a.LotPage||a.GamPage||a.Tgt?(a.TealPage&&(p+=",TE"),a.LotPage&&(p+=",LO"),a.Tgt&&(p+=",PI",t.events+=",event86"),m.pageName=t.pageName,m.pageLang=s,m.sEvents=t.events,n&&console.log("### D:trackPidAction. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"PID",alConfig:a,cEvents:m})):n&&console.log("### D:trackPidAction. FPPixelEvents NOT Called***"),t.eVar99=p,"F+ Page View"==m.pixEvent&&a.AnaPage?(n&&console.log("### D:trackPidAction. PV fired. AnaPage:",a.AnaPage,"***"),t.t()):a.AnaPage?(n&&console.log("### D:trackPidAction. Event fired. AnaPage:",a.AnaPage,"***"),t.tl(!0,"o","PID Action")):n&&console.log("### D:trackPidAction. Event fired. AnaPage:",a.AnaPage,"***")}},trackerProperties:{}}}]},{id:"RLb0a70ef9a25741bfbf6dec7cc116da46",name:"FPEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FPEvents"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(){y&&console.log("***FEC. pageLoaded fn:",C,"c.pageName",b.hPageName,"h.pageName:",_.pageName,"cEvents:",JSON.stringify(b));var e=b||{};if("first-page"==(b={hPageName:b.pageName||"first-page"}).hPageName||_satellite.cookie.get("adobeSessionCookie")||(b.hPageName="first-page-of-visit"),b.perfTO=e.perfTO||0,b.uS=e.uS||{},y&&console.log("***FEC. pageLoaded fn. cEvents reload cEvents:",JSON.stringify(b),"plEvents:",JSON.stringify(e)),b.uP=_satellite.getVar("URLParams")||{},b.GamIds=[],b.u=location.hostname+location.pathname,b.dt=(document.title||"").toLowerCase(),b.dr=document.referrer,void 0!==fevents[C].session&&(b.appId=fevents[C].session.appId||"",b.adobe_mc=(fevents[C].session.adobe_mc||"").toLowerCase(),b.context=fevents[C].session.context||""),"app"==b.uP.context||b.uP.adobe_mc||"App Web View"==b.context||b.adobe_mc?(S="app",b.sysEnv="fifaPlusAppWebView"):(S="web",b.sysEnv="fifaPlusWeb"),b.sTagsIds=[],b.sTagsNs=[],void 0!==fevents[C].page&&(y&&console.log("***FEC. pageLoaded fn:",C,"page found"," ***"),b.contentfulChangeDate=(fevents[C].page.contentfulChangeDate||"").split("T")[0],b.contentfulCreatedDate=(fevents[C].page.contentfulCreatedDate||"").split("T")[0],b.contentfulEntryId=fevents[C].page.contentfulEntryId||"",b.contentfulInternalTitle=fevents[C].page.contentfulInternalTitle||"",""==b.contentfulInternalTitle&&(b.contentfulInternalTitle=fevents[C].page.contentfulPageName||""),b.contentfulPageName=(fevents[C].page.contentfulPageName||"").toLowerCase(),b.contentfulType=(fevents[C].page.contentfulType||"").toLowerCase(),b.pageError=fevents[C].page.pageError||"",(V=fevents[C].page.tags||[]).length>0&&i()),void 0!==fevents[C].sections&&(y&&console.log("***FEC. pageLoaded fn:",C,"sections found"," ***"),""==b.contentfulEntryId&&(b.contentfulEntryId=fevents[C].sections[0].entryId||""),void 0!==fevents[C].sections[0].properties&&(b.pHeading=(fevents[C].sections[0].properties.heading||"").toLowerCase())),y&&console.log("***FEC. pageLoaded fn. pageName 0 - pathname:",location.pathname),m=location.pathname.replace(/^\/(fifaplus\/fifaplus\/[a-z]{2}(\/|$)|fifaplus\/[a-z]{2}(\/|$)|fifaplus|[a-z]{2}(\/|$))/,"").replace(b.contentfulEntryId,""),/match(|-)cent(re|er)/.test(location.pathname))o();else{if(y&&console.log("***FEC. pageLoaded fn. replace 1 pageName:",m),/^(\/|fifaplus|)$/.test(m)?m="home:hub":/(^(video|movie)(|episode)detailstemplate|eventtemplate)$/.test(b.contentfulType)?(b.entryType=(fevents[C].sections[0].entryType||"").toLowerCase().replace("details","").replace("episode","-episode"),m=(m+b.entryType).replace("movie/movie","movie")):/categorytemplate$/.test(b.contentfulType)?m=m.replace("cat","category")+b.pHeading+":category-list":/calendartemplate$/.test(b.contentfulType)?m=m+b.pHeading+":list":/^articletemplate$/.test(b.contentfulType)?(b.pageSlug=m.split("articles/").slice(-1)[0],m="news:article"):m=(m+"/hub").replace("//","/"),/^tournaments/.test(m)){var t=m.split("/");b.eCategory=t.slice(0,3).join(":").replaceAll("::",":"),m=t.length>3?m.replace(/^tournaments\/(mens|womens)\//,""):m.replace(/^(mens|womens)(|\/)/,"")}y&&console.log("***FEC. pageLoaded fn. transform 1 pageName:",m)}b.pageName=("fifaplus:"+m).replaceAll("/",":").replaceAll(" ","-").replaceAll("::",":"),b.pageError&&(b.pageName=b.pageError+":"+b.pageName,b.eCategory&&(b.eCategory=b.pageError+":"+b.eCategory));var a=location.pathname.replace("fifaplus/","").substring(1,4);/^[a-z]{2}(|\/)$/.test(a)||(a="en"),b.pageLang=a.substring(0,2),y&&console.log("***FEC. pageLoaded fn. analytics c.pageName:",b.pageName,"c.pageLang:",b.pageLang,"cEvents:",JSON.stringify(b));var n=(performance||{}).timeOrigin||0;y&&console.log("***FEC. pageLoaded fn. Performance Time. Origin:",n,"Stored Origin:",b.perfTO),n>0&&b.perfTO<n?(b.perfTO=n,y&&console.log("***FEC. pageLoaded fn. Performance Time to Update. Origin:",n)):(b.perfTO=n+1,y&&console.log("***FEC. pageLoaded fn. Performance Time to NOT Update. Origin:",b.perfTO)),/^((video|movie)(|episode)|matchcentermatch)detailstemplate$/.test(b.contentfulType)?(A="video-pageLoaded",y&&console.log("***FEC. pageLoaded fn. analyticsPageView NOT Called. Call updateTracker. c.pageName:",b.pageName),f()):(y&&console.log("***FEC. pageLoaded fn. analyticsPageView Called. c.pageName:",b.pageName,"cEvents:",JSON.stringify(b)),b.pvType="DPL",s(),0!=Object.keys(_).length?(y&&console.log("***FEC. pageLoaded fn. analyticsEvents Called. c.pageName:",b.pageName,". h.pageName:",_.pageName,". hEvents:",JSON.stringify(_)),l()):(A="non-video-pageLoaded",_=b,y&&console.log("***FEC. pageLoaded fn. analyticsEvents NOT Called. Call updateTracker. c.pageName:",b.pageName),f()),setTimeout((function(){_satellite.track("AssetOnClick")}),1500))}function n(){if(y&&console.log("***FEC. sectionLoaded fn.:",C,". c.pageName",b.pageName," ***"),void 0!==fevents[C].sections){var e=fevents[C].sections[0];y&&console.log("***FEC. sectionLoaded fn.:",C,". section found:",e.entryType,e," ***"),"ad"==e.entryType?null!=e.entryId?(b.GamIds.push(e.entryId),b.adConfigurations=b.adConfigurations||[],b.adConfigurations.push(e.entryId+"||"+(e.adConfiguration||"")),y&&console.log("***FEC. sectionLoaded fn.:",C,". adConfigurations found. Call updateTracker:",b.adConfigurations),A="sectionLoaded update",f(),b.GamIds.length>0&&h.GamPage?(y&&console.log("***FEC. sectionLoaded fn.: ",C,". dfpAdsDisplay Called. c.GamIds",b.GamIds),c()):y&&console.log("***FEC. sectionLoaded fn.: ",C,". dfpAdsDisplay NOT Called. GamPage:",h.GamPage,"c.GamIds",b.GamIds)):y&&console.log("***FEC. sectionLoaded fn.: ",C,". dfpAdsDisplay NOT Called. entryType:",e.entryType,"entryId:",e.entryId):/^(video|movie)(|episode)detailstemplate$/.test(b.contentfulType)&&!b.pvt?(/^movie$/.test(b.entryType)&&null!=e.video&&(e=e.video),/^(video|movie)$/.test(b.entryType)?b.contentfulInternalTitle=e.internalTitle||"":/^video-episode$/.test(b.entryType)&&(b.contentfulInternalTitle=e.episodeInternalTitle||""),b.vEntryId=e.videoEntryId||"",b.vEpisode=b.contentfulInternalTitle+". S"+(e.seasonNumber||"")+". E"+(e.episodeNumber||"")+" of "+(e.seriesInternalTitle||"")+" --- "+b.vEntryId,b.vTitle=e.title||"",b.contentfulCreatedDate=(e.dateOfRelease||"").split("T")[0],b.contentfulChangeDate=(e.dateOfLastEdit||"").split("T")[0],null!=e.backgroundImage&&(b.bImg=(e.backgroundImage.src||"").replace("https://","")),b.videoCategory=e.videoCategory||"",b.videoSubcategory=e.videoSubcategory||"",(V=e.semanticTags||[]).length>0&&i(),b.videoCategory&&/^fifaplus:watch:/.test(b.pageName)&&(b.pageName="fifaplus:"+b.videoCategory.replaceAll(" ","-").toLowerCase()+":watch"+b.pageName.replace("fifaplus:watch","")),y&&console.log("***FEC. sectionLoaded fn.:",C,". analyticsPageView Called. c.pageName",b.pageName,"contentfulType:",b.contentfulType),b.pvt=!0,b.pvType="DPLS",s(),setTimeout((function(){_satellite.track("AssetOnClick")}),1500),0!=Object.keys(_).length?(y&&console.log("***FEC. sectionLoaded fn. analyticsEvents Called. c.pageName:",b.pageName,". h.pageName:",_.pageName,". hEvents:",JSON.stringify(_)),l()):(A="sectionLoaded video",_=b,y&&console.log("***FEC. sectionLoaded fn. analyticsEvents NOT Called. Call updateTracker. c.pageName:",b.pageName,". cEvents:",JSON.stringify(b)),f())):y&&console.log("***FEC. sectionLoaded fn.:",C,". Not an ad or video type, or page already tracked. c.pageName:",b.pageName,". entryType:",b.entryType,". previously tracked:",b.pvt)}}function r(){b.pvt&&b.pageName&&(b.hPageName=b.pageName),b.sTagsNs=[],b.sTagsIds=[],o(),b.pageName=("fifaplus:"+m).replaceAll("/",":").replaceAll(" ","-").replaceAll("::",":"),b.pageError&&(b.pageName=b.pageError+":"+b.pageName,b.eCategory&&(b.eCategory=b.pageError+":"+b.eCategory)),y&&console.log("***FEC. tabLoaded fn.:",C,". analyticsPageView Called. c.pageName",b.pageName,"contentfulType:",b.contentfulType),b.pvType="TC",s(),0!=Object.keys(_).length?(y&&console.log("***FEC. tabLoaded fn.:",C,". analyticsEvents Called. c.pageName:",b.pageName,". h.pageName:",_.pageName,". hEvents:",JSON.stringify(_)),l()):(A="tab-change-pageLoaded",_=b,y&&console.log("***FEC. tabLoaded fn.:",C,". analyticsEvents NOT Called. Call updateTracker. c.pageName:",b.pageName,". cEvents:",JSON.stringify(b)),f())}function i(){for(var e=0;e<V.length;e++)/^[A-Z]{3}$/.test(V[e].tagId)||(b.sTagsIds.push(V[e].tagId||V[e].id||""),b.sTagsNs.push(V[e].tagName||V[e].title||""))}function o(){var e=location.protocol+"//"+location.host+location.pathname,t=location.search,a="",n="matches:",r="list-matches",i="",o="match-centre:",s="mens:";y&&console.log("***FEC. ",P,". exFDCPNameTags fn. onChange:",JSON.stringify(fevents[C])),fevents[C].currentUrl&&(e=fevents[C].currentUrl.split("?")[0],t=fevents[C].currentUrl.split("?")[1]||""),m=e.replace(/https:\/\/www.fifa.com\/fifaplus\/[a-z]{2}(\/|$)/,""),/match-centre\/match/.test(m)&&(n="matches:match-info:",r="match-details"),V=(V=m.split(/match\/|competition\//)||[]).length>1?V[1].split("/"):[];for(var l=0;l<V.length;l++)b.sTagsIds.push(V[l]);if(y&&console.log("***FEC. ",P,". exFDCPNameTags fn. pageName 1:",m,". urlParams: ",t,". FDCP Tags: ",V),/(^|\?|&)gender=2/.test(t)&&(s="womens:"),/(^|\?|&)date=[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}/.test(t)&&(i=t.split(/(^|\?|&)date=/)[2]).split("&").length>1&&(i=i.split("&")[0]),i&&(i+=":"),fevents[C].tabId?a=fevents[C].tabId:/(^|\?|&)tab=/.test(t)&&(a=t.split(/(^|\?|&)tab=/)[2]).split("&").length>1&&(a=a.split("&")[0]),a)if(/[0-9]{1,2}/.test(a))switch(a){case"1":n="line-ups:",r="list-players";break;case"2":n="timeline:";break;case"3":n="stats:";break;case"4":n="standings:",r="list-standings";break;case"5":n="related-matches:",r="list-matches";break;case"6":n="news:",r="list-news";break;case"7":n="overview:";break;case"8":n="liveblog:"}else/[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}/.test(a)?i=fevents[C].tabId:"matchCentreWhereToWatch"===a&&(n="where-to-watch:",r="list-matches");if(y&&console.log("***FEC. ",P,". exFDCPNameTags fn. collect data 1. tabId: ",a,". tabName: ",n,". pageType: ",r,". tabDate: ",i,". competition: ",o,". gender: ",s),/\/17|520(\/|$)/.test(m)?o="worldcup:":/\/103|521(\/|$)/.test(m)?o="womensworldcup:":/\/(2|506|500|107|101|10007|106|10004|10003|516|102|108|519|104|10005|10006|10002|512|509|530|531)(\/|$)/.test(m)?(o="tournaments:",b.sTagsIds.length>0&&(o+=b.sTagsIds[0]+":")):/competition(\/|$)/.test(m)&&(n="competition:"),y&&console.log("***FEC. ",P,". exFDCPNameTags fn. collect data 2. tabId: ",a,". tabName: ",n,". pageType: ",r,". tabDate: ",i,". competition: ",o,". gender: ",s),"match-centre:"==o)m=o+n+s,b.sTagsIds.length>0&&(m+=b.sTagsIds[0]+":"),m+=i+r;else{if(m=o+n,y&&console.log("***FEC. pageLoaded fn. fifa tournament 1 cEvents.sTagsIds.length:",b.sTagsIds.length,". length: ",b.sTagsIds),b.sTagsIds.length>1){var c=b.sTagsIds.shift();y&&console.log("***FEC. pageLoaded fn. fifa tournament 2 cEvents.sTagsIds:",b.sTagsIds.length),m+=b.sTagsIds.join(":")+":",b.sTagsIds.unshift(c)}else m+=i;m+=r}y&&console.log("***FEC. ",P,". exFDCPNameTags fn. pageName 2:",m)}function s(){var e=P+b.pvType||"";if(t.clearVars(),t.pageType="",t.eVar10="",b.uP.adobe_mc||b.adobe_mc){var a=b.uP.adobe_mc||b.adobe_mc||"";/mcmid%3d/.test(a)?a=(a.split("mcmid%3d")[1]||"").split("%7c")[0]:/mcmid=/.test(a)&&(a=(a.split("mcmid=")[1]||"").split("|")[0]),a&&(t.eVar10=",vid:"+a,b.adobe_mc&&(t.visitorID=a)),b.appId&&(t.eVar75=b.appId)}if(t.channel=b.pageName.split(":")[1]||"",b.pageError&&(t.pageType="errorPage",t.channel="error page"),t.events="event2",t.pageName=b.pageName,t.eVar5=b.pageName.split(":")[b.pageName.split(":").length-1],t.eVar8="D=pageName",t.eVar9="D=ch",Object.keys(b.uP).length)for(var n in b.uP)/^(context|appid|adobe_mc|campaign|liveblog)/.test(n)&&(t.eVar10+=","+n+":"+b.uP[n]);b.adobe_mc&&(t.eVar10+=",fadobe_mc:"+b.adobe_mc),b.appId&&(t.eVar10+=",faappId:"+b.appId),b.context&&(t.eVar10+=",fcontext:"+b.context),t.eVar10&&(t.eVar10+=","),y&&console.log("***FEC. analyticsPageView fn. c.pageName:",b.pageName,"error:",b.pageError,"cEvents:",JSON.stringify(b));var r=_.uP||{};if(v&&console.log("***FEC. analyticsPageView fn. cEvents.uP:",JSON.stringify(b.uP||""),"hEvents.uP:",JSON.stringify(r||""),"alConfig.uP:",JSON.stringify(h.uP||"")),(b.uP.cid||h.uP.cid)&&(h.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=h.uP.cid||"",t.events+=",event30",D=!0,h.logging&&console.log("***FEC. analyticsPageView fn. cid from alConfig",t.events,t.campaign,D)):(t.campaign=b.uP.cid||h.uP.cid||"",b.uP.cid&&(/undefined/.test(r.cid)||r.cid!=b.uP.cid)&&(t.events+=",event30"),h.logging&&console.log("***FEC. analyticsPageView fn. cid from urlParams or alC if urlParams null:",t.events,"s.campaign:",t.campaign,"hUp.cid:",r.cid,"urlP-cid:",b.uP.cid,"alC-id:",h.uP.cid))),b.uP.intcmp&&((/undefined/.test(r.intcmp)||r.intcmp!=b.uP.intcmp)&&(y&&console.log("***FEC. analyticsPageView fn. c.pageName:",b.pageName,"hEvents.uP.intcmp:",r.intcmp||"","cEvents.uP.intcmp:",b.uP.intcmp||""),t.events+=",event29"),t.eVar2=b.uP.intcmp||h.uP.intcmp||""),t.eVar3=b.uP.s_oid||h.uP.s_oid||"",t.eVar4=b.uP.s_uid||h.uP.s_uid||"",t.eVar6=b.uP.s_pid||h.uP.s_pid||"",t.eVar82=b.uP.s_cid||h.uP.s_cid||"",t.eVar83=b.uP.linkid,b.uP.c||b.uP.pid||h.uP.c||h.uP.pid){var i=(b.uP.c||h.uP.c||"")+(b.uP.pid||h.uP.pid||"");t.events+=",event25",t.eVar102=i}t.eVar68=b.uP.utm_campaign||h.uP.utm_campaign||"",t.eVar103=b.uP.utm_source||h.uP.utm_source||"",t.eVar104=b.uP.utm_medium||h.uP.utm_medium||"",t.eVar105=b.uP.utm_term||h.uP.utm_term||"",t.eVar106=b.uP.utm_content||h.uP.utm_content||"",t.eVar11=b.pageLang,t.eVar12=b.pageSlug||"",b.uS.ssoId&&(t.eVar22=b.uS.ssoId,h.fpID=t.eVar22),b.uS.status&&(t.eVar25=b.uS.status.toLowerCase(),h.uS=t.eVar25),b.uS.dateOfBirth&&(t.eVar27=b.uS.dateOfBirth.split("T")[0]),b.uS.countryOfResidence&&(t.eVar32=b.uS.countryOfResidence.toLowerCase()),t.eVar34=b.dt,t.eVar43=b.sysEnv,t.eVar46="Page View",t.eVar65=b.contentfulEntryId,t.eVar66=b.contentfulInternalTitle,t.eVar69=b.contentfulCreatedDate,t.eVar70=b.u,t.eVar81=h.OTPrefs||"",t.eVar86=b.dr,t.eVar93=h.lotId,t.eVar94=h.tealId,t.eVar95="D=mid",t.eVar107=h.dr||"",t.eVar110=b.hPageName,t.eVar111=b.contentfulPageName,t.eVar112=b.contentfulType,t.eVar113=b.contentfulChangeDate,t.eVar114=h.g||"",t.eVar115=h.gc||"",t.eVar120=b.vTitle||"",t.eVar121=b.vEpisode||"",t.eVar123=b.vEntryId||"",/^video|movie(|episode)detailstemplate$/.test(b.contentfulType)&&(t.eVar42="D=v66"),t.eVar126=b.videoCategory||"",t.eVar127=b.entryType||"",t.eVar128=b.videoSubcategory||"",t.eVar129=b.eCategory||"",t.eVar132=(b.sTagsNs||[]).join(","),b.sTagsIds.length>0&&(t.eVar133=","+b.sTagsIds.join(",")+","),t.eVar134="Tag Length. Names- #Tags:"+(b.sTagsNs||[]).length+". #Chars:"+(t.eVar132||[]).length+". Ids- #Tags:"+(b.sTagsIds||[]).length+". #Chars:"+(t.eVar133||[]).length;var o=performance||{},s=o.timeOrigin||0,l=o.timing||"",c={};if(s>0&&(null==b.perfTO||b.perfTO<=s)?(y&&console.log("***FEC. analyticsPageView fn. Performance Updating:",l),c.nav_start=l.navigationStart||0,c.fetch_start=l.fetchStart||0,c.con_start=l.connectStart||0,c.resp_start=l.responseStart||0,c.dom_int=l.domInteractive||0,c.load_end=l.loadEventEnd||0,c.nav_start>0&&c.load_end>0?(t.eVar130=c.load_end-c.nav_start,t.eVar131=JSON.stringify(c),t.events+=",event105="+t.eVar130):y&&console.log("***FEC. analyticsPageView fn. Performance Updating. NOT Tracked. nav_start:",c.nav_start,"load_end:",c.lod_end)):y&&console.log("***FEC. analyticsPageView fn. Performance Not Updating. TimeOrigin:",s,"Stored TO:",b.perfTO),h.TealPage||h.LotPage||h.GamPage||h.Tgt?(h.TealPage&&(e+=",TE"),h.LotPage&&(e+=",LO"),h.Tgt&&(e+=",PI",t.events+=",event86"),b.pixEvent="F+ Page View",b.sEvents=t.events,b.tags=t.eVar132||"",b.tagIds=t.eVar133||"",y&&console.log("***FEC. analyticsPageView fn. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"FPEventsPV",alConfig:h,cEvents:b})):y&&console.log("***FEC. analyticsPageView fn. FPPixelEvents NOT Called***"),b.pvt=!0,t.eVar99=e,h.AnaPage)sessionStorage.setItem("com.adobe.ort",D),sessionStorage.removeItem("com.adobe.fPageInfo"),y&&console.log("***FEC. analyticsPageView fn. DPL fired***"),t.t();else{var d={};for(var u in t)/^(eVar|events|channel|pageName|campaign)/.test(u)&&(d[u]=t[u]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(d)),y&&console.log("***FEC. analyticsPageView fn. PV NOT fired, not AnaPage. Stored fPageInfo:",d)}}function l(){var e=P+"AE",a={},n="o",r=fevents[C],i="";if(y&&console.log("***FEC. analyticsEvents fn. fired. h.pageName:",_.pageName,"eventData:",r),y&&console.log("***FEC. analyticsEvents fn. DFPAds hEvents:",JSON.stringify(_)),/searchOpen|searchEmpty|searchError|searchClose|userClickedAsset|searchTrendingClick/.test(r.event)){if(/searchOpen/.test(r.event))e+="-SOP",a.events="event100";else if(/searchTrendingClick/.test(r.event))e+="-STC",a.events="event1,event101";else if(/searchEmpty/.test(r.event))e+="-SEM",a.events="event102";else if(/searchError/.test(r.event))e+="-SER",a.events="event103";else if(/searchClose/.test(r.event))e+="-SCL",a.events="event104";else if("userClickedAsset"==r.event)if(e+="-AC","search"==r.eventType)a.events="event1",a.eVar46="Search Click";else if("navigate"==r.eventType){a.events="event9,event28",a.eVar46="Tracked Link",a.eVar48="Asset Click";var o=r.sections||[],s=[];o.length>0&&(s=o[0].items||[]),s.length>0&&(a.eVar41=s[0].src||""),t.linkTrackVars+=",eVar41,eVar48"}else a.events="event28",a.eVar46="Asset Click";a.eVar1=r.searchTerm||"",a.eVar1&&(t.linkTrackVars+=",eVar1"),a.eVar46||(a.eVar46=r.event)}else if(/^(pageLoaded|sectionLoaded)$/.test(r.event)||"onChange"==r.event&&"tab"==r.eventType){a.eVar46="Page Events Data",e+="-CE",t.linkTrackVars+="eVar111,eVar112,eVar116,eVar117,eVar129",a.events="event99",a.pageName=_.pageName;var l=(_.pageName||"").split(":");if(a.channel=l[1]||"",a.eVar5=l[l.length-1],a.eVar8="D=pageName",a.eVar9="D=ch",a.eVar12=_.pageSlug||"",a.eVar34=_.dt,a.eVar43=_.sysEnv,a.eVar65=_.contentfulEntryId,a.eVar66=_.contentfulInternalTitle,a.eVar69=_.contentfulCreatedDate,a.eVar70=_.u,a.eVar86=_.dr,a.eVar111=_.contentfulPageName,a.eVar112=_.contentfulType,a.eVar113=_.contentfulChangeDate,null!=_.vScroll&&(a.eVar116=JSON.stringify(_.vScroll),a.eVar117=(_.vScroll||"").ptS||""),null!=_.GamA){for(var c=[],d=0;d<_.GamA.length;d++)c.push(_.GamA[d].split("||")[1]);0!=c.length&&(t.linkTrackVars+=",eVar85,eVar119",a.eVar85=c.join("|"),a.events+=",event92",a.eVar119=(_.adConfigurations||[]).join("|"),b.GamA=[],b.adConfigurations=[])}}else t.events="";/userClickedAsset|searchClick/.test(r.event)&&(h.TealPage||h.LotPage||h.Tgt)?(h.TealPage&&(e+=",TE"),h.LotPage&&(e+=",LO"),h.Tgt&&(e+=",PI",a.events+=",event86"),b.pixEvent=r.event,b.sEvents=t.events,i&&(b.link=(a.eVar72||"")+" | Link:"+i),y&&console.log("***FEC. analyticsEvents fn. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"FPEventsA",alConfig:h,cEvents:b})):y&&console.log("***FEC. analyticsEvents fn. FPPixelEvents NOT Called***"),a.eVar99=e,h.AnaPage&&t.tl(!0,n,a.eVar46,a),A="analyticsEvents",_=b,f(),y&&console.log("***FEC. analyticsEvents fn. complete. current & historic synced. oRide:",a)}function c(){function e(){window.googletag&&googletag.apiReady?(y&&console.log("***FEC. DFPAds fn. gtagConfig fn APIs Ready. Configure gtag. After:",i*n),clearInterval(T),googletag.cmd.push((function(){googletag.pubads().setTargeting("site",[b.pageLang]),googletag.pubads().setTargeting("user",["notloggedin"]),googletag.pubads().setTargeting("prefs",[h.OTPrefs]),googletag.pubads().enableAsyncRendering(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),y&&console.log("***FEC. DFPAds fn. gtagConfig fn. Set targeting, calling gtagDisplay. Site:",[b.pageLang],"user:",["notloggedin"],"prefs:",[h.OTPrefs]),googletag.pubads().addEventListener("slotRenderEnded",(function(e){k=e.slot.getSlotElementId()||"",0==e.isEmpty?(document.getElementById(k)&&document.getElementById(k).setAttribute("class","adIsIncluded"),k+="||gam-ld:",y&&console.log("***FEC. DFPAds fn. Rendered Event. Slot:",k,e),u()):(k+="||gam-ldE:",y&&console.log("***FEC. DFPAds fn. Rendered Event BUT slot empty. Slot:",k,e),u())})),googletag.pubads().addEventListener("impressionViewable",(function(e){k=(e.slot.getSlotElementId()||"")+"||gam-vw:",y&&console.log("***FEC. DFPAds fn. Viewable Event. Slot:",k,e),u()}))})),d()):(y&&console.log("***FEC. DFPAds fn. gtagConfig fn APIs NOT Ready After:",i*n),++i>a&&(y&&console.log("***FEC. DFPAds fn. gtagConfig fn APIs NOT Ready and Cancelled After:",i*n),clearInterval(T)))}function t(){window.googletag&&googletag.apiReady?(y&&console.log("***FEC. DFPAds fn. gtagDisplayDelay fn APIs Ready. Display Ad. After:",r*n),clearInterval(w)):(y&&console.log("***FEC. DFPAds fn. gtagDisplayDelay fn NOT Ready After:",r*n),++r>a&&(y&&console.log("***FEC. DFPAds fn. gtagDisplayDelay fn NOT Ready and Cancelled After:",r*n),clearInterval(w)))}window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],y&&console.log("***FEC. DFPAds fn.c.GamIds:",b.GamIds,"w.gtag:",window.googletag,"gtag.apiReady:",googletag.apiReady,"-",!googletag.apiReady,"gtag.pubadsReady",googletag.pubadsReady);var a=20,n=100;if(1!=b.GamIds.length||window.googletag&&googletag.apiReady)if(window.googletag&&googletag.apiReady)clearInterval(T),clearInterval(w),googletag.pubadsReady?(y&&console.log("***FEC. DFPAds fn. gtag.apiReady, pubadsReady. Calling gtagDisplay. c.GamIds",b.GamIds),d()):(y&&console.log("***FEC. DFPAds fn. gtag.apiReady, NOT pubadsReady. Calling gtagConfig. c.GamIds",b.GamIds),e());else{y&&console.log("***FEC. DFPAds fn. NOT First Ad & NOT gtag.apiReady, c.GamIds:",b.GamIds,"gtagDisplayReadyCheck init.");var r=1;w=window.setInterval(t,n)}else{y&&console.log("***FEC. DFPAds fn. First Ad, NOT gtag.apiReady, c.GamIds:",b.GamIds,"gtagAPIReadyCheck init.");var i=1;T=window.setInterval(e,n)}}function d(){clearInterval(T),clearInterval(w),y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. c.GamIds",b.GamIds),googletag.cmd.push((function(){E=googletag.pubads().getSlots()||[];for(var e=0;e<b.GamIds.length;e++){y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. GamId to Check :",b.GamIds[e]);var t=0;if(/div-gpt-/.test(b.GamIds[e]))y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. GamId already updated:",b.GamIds[e]);else{y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. GamId not upadted on page:",b.GamIds[e]);var a="div-gpt-"+b.GamIds[e];b.GamIds[e]=a;for(var n=0;n<E.length;n++){var r=E[n].getSlotElementId()||"";if(y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. Iterating existing adSlots:",r,r,"==",a),r==a){googletag.pubads().refresh([E[n]],{changeCorrelator:!1}),y&&console.log("***FEC. DFPAds fn. gtagDisplay fn. Existing adSlot. Refreshing:",n,a),t=1,b.GamA=b.GamA||[],b.GamA.push(a+"||gam-rf:"),A="gtagRefresh",f();break}}if(0==t){var i="",o="web";"app"==S&&(o="appview"),b.adConfigurations=b.adConfigurations||[];for(var s=0;s<b.adConfigurations.length;s++)if(y&&console.log("***FEC DFPAds fn. gtagDisplay fn. New ad slot. Retrieving adConfiguration for:",a,"div-gpt-"+b.adConfigurations[s]),new RegExp(a).test("div-gpt-"+b.adConfigurations[s])){i=(i=b.adConfigurations[s].split("||")[1]).replace("/web/","/"+o+"/"),y&&console.log("***FEC DFPAds fn. gtagDisplay fn. New ad slot. Found adConfiguration for:",i,S,o);break}i||(i="/21817916705/web");var l=l||[];l[s]=googletag.defineSlot(i,[970,250],a).addService(googletag.pubads());var c=googletag.sizeMapping().addSize([1024,0],[970,250]).addSize([768,0],[728,90]).addSize([300,0],[300,250]).addSize([0,0],[]).build();l[s].defineSizeMapping(c),googletag.display(a),y&&console.log("***FEC DFPAds fn. gtagDisplay fn. New ad slot. Defined & Displayed... adSlotid:",a,"adunit:",i,"viewContext:",S,"adplatform:",o,"element exists:",document.getElementById(a),"adSlot:",l[s]),b.adConfigurations=b.adConfigurations||[],b.adConfigurations.push(i),b.GamA=b.GamA||[],b.GamA.push(a+"||gam-ds:"),A="gtagDisplay",f()}}}}))}function u(){E=googletag.pubads().getSlots()||[];for(var e=0;e<E.length;e++)if(k.split("||")[0]==googletag.pubads().getSlots()[e].getSlotElementId()){var t=googletag.pubads().getSlots()[e].getResponseInformation()||"";k+=(t.advertiserId||"")+","+(t.campaignId||"")+","+(t.creativeId||""),y&&console.log("***FEC. DFPAds fn. gtagEventSave fn. found AdEvent. Slot #:",e,". AdEvent:",k,". EadSlots:",E),adm=1;break}y&&console.log("***FEC. DFPAds fn. gtagEventSave fn. Calling updateTracker. c.pageName:",b.pageName,"AdEvent:",k),A="gtagEventSave",f()}function g(){var e=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{};I=e.vScroll||{};var t=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+a,r=Math.min(Math.round(n/t*100),100),i=Math.floor(n/a);folds=Math.floor(t/a),void 0===I.u||I.u!=location.hostname+location.pathname||t>I.pH||n>I.pxS?(I={u:location.hostname+location.pathname,pH:t,iH:a,pxS:n,ptS:r,fS:i,f:folds},y&&console.log("***FEC. vScroll fn. Call updateTracker. c.pageName:",b.pageName,"vScroll:",I),A="vScroll",f()):y&&console.log("***FEC. vScroll fn. vScroll NOT updated. c.pageName:",b.pageName)}function f(){/vScroll|gtagEventSave/.test(A)&&(b=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{},_=JSON.parse(localStorage.getItem("com.adobe.falhEvents"))||{},"gtagEventSave"==A?(b.GamA=b.GamA||[],b.GamA.push(k)):"vScroll"==A&&(b.vScroll=I)),y&&console.log("***FEC. updateTracker fn. event:",A,". hEvents.u:",_.u,". url:",location.hostname+location.pathname,". AdEvent:",k,". scrollD",I),void 0!==_.u&&_.u==location.hostname+location.pathname?(_=b,localStorage.setItem("com.adobe.falcEvents",JSON.stringify(b)),h.AnaPage&&localStorage.setItem("com.adobe.falhEvents",JSON.stringify(_)),
y&&console.log("***FEC. updateTracker fn. cEvents & hEvents synced and updated. event:",A,". c.pageName:",b.pageName,"---cEvents:",JSON.stringify(b))):(localStorage.setItem("com.adobe.falcEvents",JSON.stringify(b)),y&&console.log("***FEC. updateTracker fn. Only cEvents updated. event:",A,". c.pageName:",b.pageName,"---cEvents:",JSON.stringify(b),"---hEvents:",JSON.stringify(_)))}if("undefined"!=typeof fevents){var p=parseInt(sessionStorage.getItem("com.adobe.feventsS"))||0;sessionStorage.setItem("com.adobe.feventsS",fevents.length);var m,h=JSON.parse(sessionStorage.getItem("com.adobe.falConfig"))||{},v=JSON.parse(localStorage.getItem("com.adobe.falLogEn"))||!1,y=h.logging,b=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{},_=JSON.parse(localStorage.getItem("com.adobe.falhEvents"))||{},P="221207-FEC_",C=0,S="",k="",E="",I={},V=[],A="",T="",w="",D=sessionStorage.getItem("com.adobe.ort")||"";if(h.uP=h.uP||{},y&&console.log("________________FEC. fevents Change Staring...... feventsStart:",p,"fevents length:",fevents.length,"c.pageName:",b.pageName,"h.pageName:",_.pageName,"cEvents.GamA:",b.GamA,"_____"),v&&console.log("________________FEC. fevents Change Starting... Updated hEvents (from storage). c.pageName",b.pageName,"cEvents:",JSON.stringify(b),"...hEvents:",JSON.stringify(_)),t.linkTrackVars=h.lTrackV,h.prodPages||"production"!=_satellite.environment.stage||(t.sa("fifadev"),P="!"+P),null==h.g){var O=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"";if(""!=O&&h.AnaPage){h.g=O;var L=(O||"").split("country_code=");h.gc=(L[1]||"").substring(0,2).toLowerCase(),h.logging&&console.log("### FEC alGeo Set:",O)}}if(0==p){if(y&&console.log("***FEC. feventsStart == 0"),window.addEventListener("scroll",g),h.tealId&&h.Tgt){var N=[];N.push("tealium_cookie_sync=true"),N.push("google_nid=tealium_dmp"),N.push("google_cm"),N.push("tealium_vid="+h.tealId),N.push("tealium_account="+h.tSettings.account),N.push("tealium_profile="+h.tSettings.profile);var M="https://cm.g.doubleclick.net/pixel?"+N.join("&");y&&console.log("***FEC. TealiumIDMatch. Setting pixel:",M);var x=document.createElement("img");x.src=M,x.addEventListener?x.addEventListener("load",(function(){y&&console.log("***FEC. TealiumIDMatch listener loaded")}),!1):x.onreadystatechange=function(){y&&console.log("***FEC. TealiumIDMatch onreadystatechange:",this.readyState),"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null)}}}else y&&console.log("***FEC. feventsStart != 0 alConfig.g:",h.g);for(C=p;C<fevents.length;C++)switch(y&&console.log("------FEC. fevents iterating:",C,fevents[C].event,"c.pageName:",b.pageName,"h.pageName:",_.pageName,"cEvents:",JSON.stringify(b),"-------"),fevents[C].event||""){case"userStatus":b.uS=fevents[C];break;case"searchOpen":case"searchEmpty":case"searchError":case"searchClose":case"userClickedAsset":case"searchTrendingClick":l();break;case"sectionLoaded":n();break;case"pageLoaded":a();break;case"onChange":"tab"==fevents[C].eventType&&r()}g(),y&&console.log("-----FEC. fevents iterating COMPLETE:",C,"c.pageName:",b.pageName,"h.pageName:",_.pageName,"cEvents:",JSON.stringify(b),"-----")}else"production"!=_satellite.environment.stage&&console.log("***FEC. fevents Change. fevents undefined. 2022-06-07 ***")}},trackerProperties:{}}}]},{id:"RL27fe21b3f04d4171bf482c40acae17d6",name:"FPPixelEvents",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FPPixelEvents"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){function t(){window.lotame_16003?(u&&console.log("***DR FPPixelEvents. fireLotame called after:",F*j),clearInterval(B),setTimeout((function(){a()}),1e3)):(u&&console.log("***DR FPPixelEvents. fireLotame NOT ready after:",F*j),++F>R&&(u&&console.log("***DR FPPixelEvents. fireLotame NOT ready and cancelled after:",F*j),clearInterval(B)))}function a(){window.lotame_16003?(window.lotame_16003.cmd.push((function(){window.lotame_16003.page({ruleBuilder:x}),d.LotConsents!=d.lotConsentResp?(u&&console.log("DR FPPixelEvents. fireLotame fn. Lotame Consent Fired. Tgt:",d.Tgt,"LotConsents",d.LotConsents,"lotConsentResp",d.lotConsentResp,"***"),window.lotame_16003.setConsent(l,16003,d.LotConsents)):u&&console.log("DR FPPixelEvents. fireLotame fn. Lotame Consent NOT Fired. Tgt:",d.Tgt,"LotConsents",d.LotConsents,"lotConsentResp",d.lotConsentResp,"***")})),u&&console.log("DR FPPixelEvents. fireLotame fn. Lotame Fired. LotObj:",x,"***")):u&&console.log("***DR FPPixelEvents. fireLotame fn. Lotame Disabled. lotame:",window.lotame_16003,"alConfig.LotPage:",d.LotPage,"***")}function n(){"undefined"!=typeof fbq||"undefined"!=typeof gtag?(u&&console.log("***DR FPPixelEvents. firePixels called after:",U*q),clearInterval(H),setTimeout((function(){r()}),1050)):(u&&console.log("***DR FPPixelEvents. firePixels NOT ready after:",U*q),++U>G&&(u&&console.log("***DR FPPixelEvents. firePixels NOT ready and cancelled after:",U*q,". pixEvent:",g.pixEvent,". FbE:",m,"FbEC:",h,"Add. TwIds:",S,"TwE:",v,"Add. GtId:",C,"GtE:",y,"ScE:",b,"ttcat:",k,"ttcatevent:",E),clearInterval(H)))}function r(){u&&console.log("***DR FPPixelEvents. firePixels fn. pixEvent:",g.pixEvent,". FbE:",m,"FbEC:",h,"Add. TwIds:",S,"TwE:",v,"Add. GtId:",C,"GtE:",y,"ScE:",b,"ttcat:",k,"ttcatevent:",E);var e=0;if("undefined"!=typeof fbq&&(/Page View$/.test(g.pixEvent)&&fbq("track","PageView"),m&&fbq("track",m),h&&fbq("trackCustom",h)),"undefined"!=typeof gtag){for(e=0;e<C.length;e++)gtag("config",C[e]);for(e=0;e<y.length;e++){if(d.fifaplusNft)if("F+ Collect Purchase Page View"==g.pixEvent){A="purchase";var t=g.paymentId||"[OrderID]";V={allow_custom_scripts:!0,value:"[Revenue]",transaction_id:t,u2:"[Product Name]",u3:"[Product ID]",u4:"[User ID]",send_to:y[e]},gtag("config","AW-10901012476")}else A="conversion",V={allow_custom_scripts:!0,u4:"[User ID]",send_to:y[e]};else A="conversion",V={allow_custom_scripts:!0,u1:location.pathname,u2:p,u3:g.pageLang,u9:g.searchTerm||"null",session_id:_satellite.getVar("sessionID"),send_to:y[e]};gtag("event",A,V)}}if("undefined"!=typeof snaptr&&(/Page View$/.test(g.pixEvent)&&snaptr("track","PAGE_VIEW"),b&&snaptr("track",b)),"undefined"!=typeof ttq&&(/Page View$/.test(g.pixEvent)&&(ttq.page(),d.fifaplus||d.fifaplusGames?(k.push("fifaplus"),E.push("SubmitForm")):d.ticketing?(k.push("ticketing"),E.push("AddPaymentInfo")):d.fifacom&&(k.push("fifacom"),E.push("AddToWishlist"))),k.length>0))for(e=0;e<k.length;e++)ttq.track(E[e],{content_type:"product_group",content_id:"1",content_category:k[e]});if("undefined"!=typeof twq){for(e=0;e<S.length;e++)u&&console.log("***DR FPPixelEvents. firePixels fn. Twitter Config. pixEvent:",g.pixEvent,". Add. TwIds:",S),twq("config",S[e]);for(e=0;e<v.length;e++)u&&console.log("***DR FPPixelEvents. firePixels fn. Twitter Event. pixEvent:",g.pixEvent,". TwE:",v),twq("event",v[e],{})}}function o(){for(u&&console.log("***DR FPPixelEvents. imagePixels fn. pixEvent:",g.pixEvent,". imgpixsc:",_,"imgfEvent:",P),i=0;i<_.length;i++){var e=new Image(1,1),t=1e13*(Math.random()+"");e.src="https://"+_[i].replace("AXELRND",t)}for(i=0;i<P.length;i++){var a=new Image(1,1),n=1e13*(Math.random()+"");a.src="https://"+P[i].replace("AXELRND",n)}}function s(){var e=d.tSettings.endpoint||"https://visitor-service.tealiumiq.com",t=(new Date).getTime(),a=encodeURI(e+"/"+d.tSettings.account+"/"+d.tSettings.profile+"/"+d.tealId+"?callback=tealium_adobe_enrich&rnd="+t);if(""==d.tealId||void 0!==d.tSettings.cookieName&&""!==d.tSettings.cookieName?u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. Cookie found. Executing. Settings:",JSON.stringify(d.tSettings)):u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. No cookie found. Running before Tealium Collect?"),u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. url:",a),d.tealId){document.getElementById("tealEscript22")&&document.getElementById("tealEscript22").remove();var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",a),n.setAttribute("id","tealEscript22"),n.async=!0,document.head.appendChild(n),u&&console.log("***DR FPPixelEvents. Tealium Enrichment fn. Script Appended")}}function l(e){u&&console.log("***DR FPPixelEvents. Lotame Consent Callback fn.",e)}var c=e.detail||"",d=c.alConfig||{},u=d.logging||!1,g=c.cEvents||{},f=c.rule||"",p=g.pageName||"",m="",h="",v=[],y=[],b="",_=[],P=[],C=[],S=[],k=[],E=[];g.urlParams=g.urlParams||{},/^FPEventsPV$/.test(f)?(y=["DC-11606562/pagev0/allpa0+standard"],"fifaplus:home:hub"==g.pageName?y.push("DC-11606562/pagev0/homep0+standard"):"fifaplus:tickets:hub"==g.pageName?(y.push("DC-11606562/pagev0/pagev00+standard"),S.push("nzrco")):/^fifaplus:womensworldcup:australia-new-zealand2023:tickets:hub$/.test(p)&&(y.push("DC-11608620/pagev0/pagev002+standard"),y.push("DC-5220915/merch0/pc_tt00a+standard"),v=["tw-o9js1-oc7ac"])):/^PID$/.test(f)?"F+ Page View"==g.pixEvent?y=["DC-11606562/pagev0/allpa0+standard"]:"F+ Sign Up RequestPage View"==g.pixEvent?P=["secure.adnxs.com/imptr?id=1618679&seg=31143463&t=2","insight.adsrvr.org/track/pxl/?adv=oiqvnl5&ct=0:9spuip6&fmt=3","ad.doubleclick.net/ddm/activity/src=11620671;type=invmedia;cat=fifa-000;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=AXELRND?"]:"F+ Sign In"==g.pixEvent?y=["DC-11606562/log/userl0+per_session"]:"F+ Sign Up"==g.pixEvent&&(y=["DC-11606562/fifam0/fifas0+unique","AW-10844267629/NyIRCP74zNgDEO3I-bIo"],h="FIFAPlusRegistration",v=["tw-o7p7l-obsu6"],b="SIGN_UP",k.push("fifaplus"),E.push("SubmitForm"),P=["secure.adnxs.com/imptr?id=1618677&seg=31143461&t=2","insight.adsrvr.org/track/pxl/?adv=oiqvnl5&ct=0:1xeodlm&fmt=3","ad.doubleclick.net/ddm/activity/src=11620671;type=invmedia;cat=fifa-00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=AXELRND?"]):/^(DPL|TVC)$/.test(f)?(d.fifaplusNft?(g.pixEvent="F+ Collect Page View",y.push("DC-12372855/rtf2w0/fifac0+standard"),/fifaplus:collect:microsite/.test(p)?y.push("DC-12372855/sitev0/landi0+standard"):/payments:success|(unified|credits)-payment-success:microsite$/.test(p)&&!/:pack-opening:/.test(p)?(g.pixEvent="F+ Collect Purchase Page View",y.push("DC-12372855/typpw0/fifac0+transactions"),g.paymentId=g.urlParams.paymentid||""):/:checkout:.+?:microsite$/.test(p)?y.push("DC-12372855/buypc0/fifac0+standard"):/verify-email:microsite$/.test(p)?y.push("DC-12372855/signu0/fifac0+standard"):/:drops:.+?:microsite$/.test(p)&&y.push("DC-12372855/viewp0/fifac0+standard")):d.fifacom||d.ticketing?y.push("DC-11608620/pagev0/allpa0+standard"):d.account&&y.push("DC-11608620/pagev0/pagev001+per_session"),/^(fifaplus:|)worldcup:qatar2022:tickets:lottery.+:welcome:microsite$/.test(p)?y.push("DC-11608620/pagev0/ticke0+standard"):/^(fifaplus:|)worldcup:qatar2022:tickets:hub$/.test(p)?y.push("DC-11608620/pagev0/pagev000+standard"):/^(fifaplus:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-aus:/.test(p)?(y.push("DC-11608620/pagev0/pagev003+per_session"),y.push("DC-5220915/merch0/pc_tt004+standard"),v=["tw-o9js1-oc7ac"]):/^(fifaplus:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-nzl:/.test(p)?(y.push("DC-11608620/pagev0/pagev004+per_session"),y.push("DC-5220915/merch0/pc_tt009+standard"),v=["tw-o9js1-oc7ac"]):/^news:apply-for-tickets.*:article$/.test(p)?y.push("DC-11608620/pagev0/pagev00+standard"):/^fifae:fifagg:c:cph22:microsite$/.test(p)&&y.push("DC-11606847/pagev0/pagev0+standard")):"B2C Page View"==g.pixEvent?y=["DC-11608620/pagev0/pagev001+per_session"]:"B2C Sign Up"==g.pixEvent?y=["DC-11608620/clme/fifac00+unique"]:"B2C Sign In"==g.pixEvent?y=["DC-11608620/clme/fifac0+per_session"]:"Asset Click Ticketmaster"==g.pixEvent?y=["DC-11608620/excl/exter0+per_session","DC-11606562/excl/exter0+per_session"]:"Asset Click F+ Collect GTW"==g.pixEvent?y=["DC-12372855/learn0/fifac0+standard"]:"Video Playing"==g.pixEvent?y=["DC-11606562/vid/video0+standard"]:"Video Ended"==g.pixEvent?y=["DC-11606562/vid/video00+standard"]:"Purchase"==g.pixEvent?/^fifae:fenc:tickets:fcfs:checkout:confirmation:microsite$/.test(p)?(m="Purchase",y=["DC-11606847/trans0/ticke0+transactions"],k.push("ticketing"),E.push("CompletePayment")):/^(fifaplus:|)worldcup:qatar2022:tickets:fcfs-intl:checkout:confirmation:microsite$/.test(p)?(m="Purchase",y=["DC-11608620/ticke0/ticke0+transactions"],b="PURCHASE",k.push("ticketing"),E.push("PlaceAnOrder")):/^(fifaplus:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-aus:checkout:confirmation:microsite$/.test(p)?(y.push("DC-11608620/ticke0/ticke000+transactions"),y.push("DC-5220915/merch0/pc_tt003+standard"),k.push("ticketing"),E.push("PlaceAnOrder"),v=["tw-o9js1-oc7ak"],m="Purchase",b="PURCHASE"):/^(fifaplus:|)womensworldcup:australia-new-zealand2023:tickets:fcfs-nzl:checkout:confirmation:microsite$/.test(p)&&(y.push("DC-11608620/ticke0/ticke00+transactions"),y.push("DC-5220915/merch0/pc_tt00-+standard"),k.push("ticketing"),E.push("PlaceAnOrder"),v=["tw-o9js1-oc7ak"],m="Purchase",b="PURCHASE"):"F+ Games Page View"==g.pixEvent?y=["DC-11606562/pagev0/allpa0+standard"]:"F+ Games Page View"==g.pixEvent&&(y=["DC-11606562/vosub/fanvo0+per_session"]),/Page View$/.test(g.pixEvent)&&(d.fifaplus||d.fifaplusGames)&&(_=["secure.adnxs.com/px?id=1565764&seg=29463820&t=2","ad.doubleclick.net/ddm/activity/src=11620671;type=invmedia;cat=fifa-0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=AXELRND?","insight.adsrvr.org/track/pxl/?adv=oiqvnl5&ct=0:ffdkfc7&fmt=3"]);var I={event:g.pixEvent||"",events:g.sEvents||"",fpID:d.fpID||"",uID:d.uID||"",eVar24:d.uID||"",uS:d.uS||"",eVar25:d.uS||"",uPID:d.uPID||"",lotId:d.lotId||"",eVar79:g.tixProd||"",g:d.g||"",gC:d.gc||"",pageName:p,eventCat:g.eCategory||"",pageLang:g.pageLang||"",lang:g.pageLang||"",url:g.u||"",prefs:d.OTPrefs||"",eVar81:d.OTPrefs||"",link:g.link||"",videoTitle:g.contentfulInternalTitle||"",videoCategory:g.videoCategory||"",videoSubCategory:g.videoSubcategory||"",entryType:g.pEntryType||"",tags:g.tags||"",tagIds:g.tagIds||""},V={},A="";if(u&&console.log("***DR FPPixelEvents. Referring Rule:",f,". analyticsObj:",I,". cEvents:",g,". alConfig:",d),d.TealPage){var T={},w=I.event||"";T.dataObject={},T.dataObject.analytics=I,u&&console.log("***DR FPPixelEvents. Tealium Tracking",T,"***"),window.tealium_adobe_enrich=function(e){var t=JSON.stringify(e);"{}"!==t&&""!==t&&(localStorage.setItem("teal_adbe_enrichment_data",t),u&&console.log("***DR FPPixelEvents. Tealium Enrichment Callback. Enrichment Stored"))},void 0===window.tealium.track?(u&&console.log("***DR FPPixelEvents. Tealium Tracking queued. TealEnrich, calling, after delay"),window.tealium.q.push(["track",w,T]),setTimeout((function(){s()}),1e3)):(u&&console.log("***DR FPPixelEvents. Tealium Tracked. Enrichment Called. Data: "+T),window.tealium.track(w,T),s())}else u&&console.log("***DR FPPixelEvents. Tealium Disabled ***");if(d.LotPage&&/Page View|Video Playing|Video Ended$/.test(g.pixEvent)){u&&console.log("DR FPPixelEvents. Lotame Tracking Enabled","***");var D=[];d.fifaplus?D=["asset: fifaPlusWeb"]:d.fifacom&&(D=["asset: fifaComWeb"]),I.link&&D.push(I.link);var O=[];for(var L in I)O.push(L+":"+I[L]);var N=[],M=JSON.parse(localStorage.getItem("teal_adbe_enrichment_data"))||"";if(M.audiences)for(var L in M.audiences)N.push(L+":"+M.audiences[L]);var x={asset:D,segments:O,audiences:N},F=1,R=30,j=100,B=window.setInterval(t,j)}else u&&console.log("***DR FPPixelEvents. Lotame Disabled. LotPage:",d.LotPage,"***");if(d.Tgt)if(/Page View$/.test(g.pixEvent)||"undefined"==typeof fbq&&"undefined"==typeof gtag){var U=1,G=10,q=100,H=window.setInterval(n,q);setTimeout((function(){o()}),2e3)}else u&&console.log("***DR FPPixelEvents. firePixels called immediately."),r();else u&&console.log("***DR FPPixelEvents. Pixels Disabled. Targeting:",d.Tgt,"***")}}}],actions:[]},{id:"RL6cb1007e39d04c338eec5bd236c107f6",name:"Default Page Load",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(_satellite.getVar("FifaPlusPages")||_satellite.getVar("FifaPlusGamesPages"))"production"!=_satellite.environment.stage&&console.log("*** DPL - Abort - fifaplus or fifplusgames###");else{try{var a=JSON.parse(sessionStorage.getItem("com.adobe.alConfig"))||{}}catch(e){"production"!=_satellite.environment.stage&&console.log("*** Default Page Load. alConfig parse error, overwrite"),a={}}a.uP=a.uP||{};try{var n=JSON.parse(sessionStorage.getItem("com.adobe.alhEvents"))||{}}catch(e){a.logging&&console.log("*** Default Page Load.  hEvents parse error, overwrite"),n={}}var r=a.logging;r&&console.log("*** Default Page Load - 2022-08-26 0800 ***");var i=0;"undefined"!=typeof dataLayer&&(i=dataLayer.length),r&&console.log("*** DPL. dataLayer.length:",i," .alConfig:",a);var o="221031-DPL";_satellite.getVar("ProdPages")||"production"!=_satellite.environment.stage||(t.sa("fifadev"),o="!"+o);var s=_satellite.getVar("pageName"),l=_satellite.getVar("URLParams")||{},c="",d=sessionStorage.getItem("com.adobe.ort")||"";if(/\.fifa\.com$/.test(location.host))var u=".fifa.com";else u=location.host;if(t.clearVars(),t.pageName=s,t.events="event2",!0===/^account:(|social-)sign-up:(|.+?:)form$/.test(s)?t.events+=",event18":a.fifaplusNft&&/payments:success|(unified|credits)-payment-success:microsite$/.test(s)&&!/:pack-opening:/.test(s)&&(t.events+=",event82"),r&&console.log("***DPL. urlParams:",JSON.stringify(l||""),"hEvents:",JSON.stringify(n||""),"alConfig.uP:",JSON.stringify(a.uP||"")),(l.cid||a.uP.cid)&&(a.uP.cid&&!sessionStorage.getItem("com.adobe.ort")?(t.campaign=a.uP.cid||"",t.events+=",event30",d=!0,a.logging&&console.log("***DPL. cid from alConfig",t.events,t.campaign,d)):(t.campaign=l.cid||a.uP.cid||"",l.cid&&(/undefined/.test(n.cid)||n.cid!=l.cid)&&(t.events+=",event30"),a.logging&&console.log("***DPL. cid from urlParams or alC if urlParams null:",t.events,"s.campaign:",t.campaign,"hEvents.cid:",n.cid,"urlP-cid:",l.cid,"alC-id:",a.uP.cid))),l.intcmp&&((/undefined/.test(n.intcmp)||n.intcmp!=l.intcmp)&&(t.events+=",event29",r&&console.log("***DPL. intcmp:",t.events,"hEvents.intcmp:",n.intcmp||"","urlParams.intcmp:",l.intcmp||"")),t.eVar2=l.intcmp||a.uP.intcmp||""),t.eVar3=l.s_oid||a.uP.s_oid||"",t.eVar4=l.s_uid||a.uP.s_uid||"",t.eVar6=l.s_pid||a.uP.s_pid||"",t.eVar82=l.s_cid||a.uP.s_cid||"",t.eVar83=l.linkid,l.c||l.pid||a.uP.c||a.uP.pid){var g=(l.c||a.uP.c||"")+(l.pid||a.uP.pid||"");t.events+=",event25",t.eVar102=g}t.eVar68=l.utm_campaign||a.uP.utm_campaign||"",t.eVar103=l.utm_source||a.uP.utm_source||"",t.eVar104=l.utm_medium||a.uP.utm_medium||"",t.eVar105=l.utm_term||a.uP.utm_term||"",t.eVar106=l.utm_content||a.uP.utm_content||"";var f=s.split(":");if("fifaplus"==f[0]?(f.shift(),t.eVar53=s.substring(s.indexOf(":")+1,s.lastIndexOf(":"))):t.eVar53=s.substring(0,s.lastIndexOf(":")),t.channel=f[0],t.eVar15=f[0],t.eVar51=f[0],t.eVar52=f[0],f.length-2>=1&&(t.eVar15=t.eVar15+":"+f[1],t.eVar51=t.eVar15,t.eVar52=t.eVar15),f.length-2>=2&&(t.eVar51=t.eVar51+":"+f[2],t.eVar52=t.eVar51),f.length-2>=3&&(t.eVar52=t.eVar52+":"+f[3]),r&&console.log("*** DPL Sec:",t.channel,"SS1:",t.eVar15,"SS2:",t.eVar51,"SS3:",t.eVar52,"SS4:",t.eVar53,"###"),""!=c&&(t.list2=c,t.list3=c+":::"),l.q&&(r&&console.log("*** DPL Search. urlParams.q:",l.q,"hEvents.q:",n.q,"alConfig:",a,"###"),t.eVar1=l.q,l.q!=n.q&&(t.events+=",event1")),t.eVar5=s.split(":")[s.split(":").length-1],t.eVar7=_satellite.getVar("pageID"),t.eVar8="D=pageName",t.eVar9="D=ch",Object.keys(l).length)for(var p in t.eVar10="",l)/^(context|appid|adobe_mc|campaign|liveblog)/.test(p.toLowerCase())&&(t.eVar10+=","+p+":"+l[p]);t.eVar10&&(t.eVar10+=","),t.eVar11=_satellite.getVar("pageLanguage"),t.eVar12=_satellite.getVar("ddlPageSlug"),t.eVar16=_satellite.getVar("ddlEntityID"),t.eVar24=_satellite.getVar("userID"),t.eVar25=_satellite.getVar("userStatus"),t.eVar25&&a.AnaPage&&_satellite.cookie.set("app_vi",_satellite.getVar("userID"),{expires:365,domain:u,path:"/"}),t.eVar26=_satellite.getVar("userProviderID"),t.eVar27=_satellite.getVar("userDOB"),t.eVar28=_satellite.getVar("userGender"),t.eVar29=_satellite.getVar("userLang"),t.eVar32=_satellite.getVar("userCountry"),t.eVar34=_satellite.getVar("pageTitle"),t.eVar43=_satellite.getVar("sysEnv"),t.eVar55=_satellite.getVar("ddlPageStatus"),t.eVar56=_satellite.getVar("ddlPageEdition"),t.eVar65=_satellite.getVar("pageParentID"),t.eVar66=_satellite.getVar("pageParentTitle"),t.eVar69=_satellite.getVar("ddlPageIssueDate"),t.eVar70=location.hostname+location.pathname,t.eVar81=a.OTPrefs,t.eVar86=document.referrer,t.eVar93=_satellite.getVar("LotID"),t.eVar94=_satellite.getVar("TeaID"),t.eVar95="D=mid",t.eVar107=a.dr||"";var m=JSON.parse(sessionStorage.getItem("com.adobe.xresp"))||"";if(""!=m){t.eVar114=m||"";var h=(m||"").split("country_code=");t.eVar115=(h[1]||"").substring(0,2).toLowerCase()}if(/tickets:support:(|.+)case-created:microsite$/.test(s)&&_satellite.getVar("URLcreated")&&(t.eVar44=_satellite.getVar("URLcreated"),t.eVar46="Support Request",t.events+=",event85"),/worldcup:qatar2022:tickets:lottery.+:saved:microsite$/.test(s)&&(t.eVar46="Ticketing Lottery Application",t.events+=",event110"),(a.mcPages||a.fifacom||/^fifae\:/.test(s))&&setTimeout((function(){_satellite.track("AssetOnLoad")}),3e3),a.mcPages||a.fifacom||a.fifaplusNft?(setTimeout((function(){_satellite.track("AssetOnClick")}),1e3),r&&console.log("*** DPL - DCR AssetOnClick timeout 1000 ***")):r&&console.log("*** DPL - DCR AssetOnClick NOT fired ***"),/^FIFA.com Club(| Sign-up)$/.test(document.title)){r&&console.log("#### DPL B2C Tracking Enabled ####");var v=document.createElement("script");v.innerHTML="! function() {/* find specific buttons with id 'step1Next' (if it exists) then add onclick listener to add custom event. */ AddButtonTracking('step1Next', 'trackB2CAction', 'pageViewB2C', 'step1_next'); AddButtonTracking('step2Next', 'trackB2CAction', 'pageViewB2C', 'step2_next'); AddButtonTracking('step3Next', 'trackB2CAction', 'pageViewB2C', 'step3_next'); AddButtonTracking('step4Next', 'trackB2CAction', 'pageViewB2C', 'step4_next'); AddButtonTracking('continue', 'trackB2CAction', 'actionB2C', 'email-verified'); AddButtonTracking('cancel', 'trackB2CAction', 'actionB2C', 'sign-up-cancel'); function AddButtonTracking (ButtonId, directRule, action, actionName){ var btn = document.getElementById(ButtonId); if (null != btn) { btn.onclick = function(item){ if (/development|staging/.test(_satellite.environment.stage) || localStorage.getItem('com.adobe.alLogging')) console.log('#### DPL B2C Tracking on this element:', this, '. mouse event:',item); /*create the digitalData Object if it doesn't exist */ if (typeof(window.digitalData) == 'undefined'){ window.digitalData = new Object(); } /*create or overwrite the event element with tracking parameters and call direct rule */ window.digitalData.event = {'eventType': actionName}; _satellite.track(directRule, {action:action,actionName:actionName});} } } }();",document.body.appendChild(v)}else r&&console.log("#### DPL B2C Tracking Disabled ####");if(a.TealPage||a.LotPage||a.Tgt?(a.TealPage&&(o+=",TE"),a.LotPage&&(o+=",LO"),a.Tgt&&(o+=",PI",t.events+=",event86"),cEvents={},cEvents.sEvents=t.events,cEvents.pageName=s,cEvents.pageLang=t.eVar11,cEvents.u=location.hostname+location.pathname,cEvents.urlParams=l,cEvents.pixEvent="FC Page View",r&&console.log("*** DPL. FPPixelEvents Called***"),_satellite.track("FPPixelEvents",{rule:"DPL",alConfig:a,cEvents:cEvents})):r&&console.log("*** DPL. FPPixelEvents NOT Called***"),t.eVar99=o,a.AnaPage)sessionStorage.setItem("com.adobe.ort",d),sessionStorage.setItem("com.adobe.alhEvents",JSON.stringify(l)),sessionStorage.removeItem("com.adobe.fPageInfo"),r&&console.log("*** DPL fired: ",location.hostname,a.OTPrefs,o,". ***"),t.t();else{var y={};for(var b in t)/^(eVar|events|channel|pageName|campaign)/.test(b)&&(y[b]=t[b]);sessionStorage.setItem("com.adobe.fPageInfo",JSON.stringify(y)),r&&console.log("*** DPL NOT fired. AnaPage",a.AnaPage,". Stored fPageInfo:",y)}}}},trackerProperties:{}}}]},{id:"RL8800fd699f504a6f9798f2ac30d88f7f",name:"FPtrackAssetClick",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackAssetClick"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=JSON.parse(sessionStorage.getItem("com.adobe.falConfig"))||{},n=a.logging;if(a.fifaplus){var r=e.detail||"",i=r.event||"",o=(r.sections||[])[0]||"",s=(o.items||[])[0]||"",l=s.url||s.src||"",c={},d="221010-FECl_",u=new RegExp("^(?!.*(fifa.com|azurewebsites.net|mediacells.com|secutix.com|fifa(|.)(gg|.splmns)|fifaoffical.cn|sportradar.com|javascript:void|$^)).*$"),g="Asset Click",f="o";if((n=/development|staging/.test(_satellite.environment.stage))&&console.log("###FE trackAssetClick :",r,"sections:",JSON.stringify(o),"items:",JSON.stringify(s)),t.useBeacon=!0,t.linkTrackVars+=",eVar41,eVar48,eVar72,eVar73,eVar74","!"==(t.eVar99||"").substring(0,1)&&(d="!"+d),"ad"==(o.entryType||"")){c.events="event92";for(var p=googletag.pubads().getSlots()||[],m="div-gpt-"+o.entryId||"",h=0;h<p.length;h++)if(m==(p[h].getSlotElementId()||"")){var v=googletag.pubads().getSlots()[h].getResponseInformation()||"";c.eVar85="gam-cl:"+(v.advertiserId||"")+","+(v.campaignId||"")+","+(v.creativeId||"");break}t.linkTrackVars+=",eVar85"}else c.events="event28";if(u.test(l)&&(g="Exit",f="e",c.events+=",event9"),n&&console.log("###FE trackAssetClick Type:",g,"link:",s.url,"GamA:",c.eVar85),"userClickedAsset"==i){if(d+="AC",c.eVar41=l,c.eVar46=g,c.eVar48=g,/Download|Exit/.test(g)&&(c.eVar48+=" Link"),c.eVar70=location.hostname+location.pathname,c.eVar72="Item: "+(s.internalTitle||s.title||s.identifier||"")+" | Section: "+(o.internalTitle||"")+" | Types: "+(s.entryType||"")+"--"+(o.entryType||"")+" | Id: "+(s.entryId||"")+"--"+(o.entryId||""),c.eVar73="Item: "+l+" | Id: "+(s.entryId||"")+"--"+(o.entryId||""),c.prop74=c.eVar48+":"+l,a.TealPage||a.LotPage||a.Tgt){a.TealPage&&(d+=",PI"),a.LotPage&&(d+=",LO"),a.Tgt&&(d+=",PI",c.events+=",event86");var y=JSON.parse(localStorage.getItem("com.adobe.falcEvents"))||{};y.pixEvent="Link Click",y.link=(c.eVar72||"")+" | Link:"+l,n&&console.log("###FE trackAssetClick. FPPixelEvents Called, link:",y.link,"***"),_satellite.track("FPPixelEvents",{rule:"FPaClick",alConfig:a,cEvents:y})}else n&&console.log("###FE trackAssetClick. FPPixelEvents NOT Called***");c.eVar99=d,a.AnaPage?(t.tl(!0,f,g,c),n&&console.log("###FE trackAssetClick Tracked. oRide:",c)):n&&console.log("###FE trackAssetClick. Link NOT Tracked. AnaPage:",a.AnaPage)}else n&&console.log("###FE trackAssetClick Aborted. Unknown Action:",i)}else n&&console.log("###FE trackAssetClick - Abort - NOT fifaplus ###")}},trackerProperties:{}}}]},{id:"RL9d384d854f034921baf107b650e47a16",name:"URL Change",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("LoggingL1"),t=window.location.hostname,a=[location.host,location.pathname].join("");if(e&&console.log("### L1 URL Change: ",a,"###"),/^(www|staging).fifaofficial.cn$/.test(t)||/^(integrity.fifa.com|education(|-staging).sportradar.com)$/.test(t)||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|.+\/)(stories|photos|videos)\//.test(a)||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/$/.test(a)&&""!=window.location.hash.replace(/#/g,"")||/^(www|[a-z]{2})(|.qa|.dev|.preview).fifa.com\/(|u17womens|u20womens|womens|u17|u20|club)worldcup(|.+?)\/matches\/match\//.test(a)||_satellite.getVar("FifaggPages")||/\-lottery\.secutix\.com$/.test(t)||/lottery(1|2)-(intl|dom)\.fwc22\.tickets\.fifa.com$/.test(t)||_satellite.getVar("McPages")||_satellite.getVar("FifaPlusNFTPages")){var n=0;"undefined"!=typeof dataLayer&&(n=dataLayer.length),e&&console.log("### L1 URL Change Call trackViewChange: ",a,"dataLayer.length:",n,"###"),_satellite.track("trackViewChange",{action:"DURLChange"})}else e&&console.log("### L1 URL Change Disabled: ",a,"###");return!1}}}],actions:[]},{id:"RLbf36853e974b4f08b72e970584e39f1f",name:"FPLibraries",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FPLibraries"},ruleOrder:49}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/7db34e84caae/759763b5faef/f0bf2dea76e5/RC827e7f2512154f5baaa79877d4b0c2cc-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}function a(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})})),t}function n(e){var t={exports:{}};return e(t,t.exports),t.exports}function r(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){return t.reject(a)}))}))}function i(e){return Boolean(e&&void 0!==e.length)}function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var a=1===e._state?t.onFulfilled:t.onRejected;if(null!==a){var n;try{n=a(e._value)}catch(e){return void u(t.promise,e)}d(t.promise,n)}else(1===e._state?d:u)(t.promise,e._value)}))):e._deferreds.push(t)}function d(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof l)return e._state=3,e._value=t,void g(e);if("function"==typeof a)return void p(s(a,t),e)}e._state=1,e._value=t,g(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,g(e)}function g(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,a=e._deferreds.length;t<a;t++)c(e,e._deferreds[t]);e._deferreds=null}function f(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function p(e,t){var a=!1;try{e((function(e){a||(a=!0,d(t,e))}),(function(e){a||(a=!0,u(t,e))}))}catch(e){if(a)return;a=!0,u(t,e)}}function m(e){return!0===Be(e)&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function y(e){return e.substr(0,e.indexOf("["))}function b(e,t,a){if(e.length&&Ue(t)){var n=e[0];if(1!==e.length){var r=e.slice(1);if(!v(n))return b(r,t[n],a);var i=t[n=y(n)];Array.isArray(i)&&i.forEach((function(e){return b(r,e,a)}))}else t.hasOwnProperty(n)&&"string"==typeof t[n]&&(t[n]=a(t[n]))}}if(window.atob){var _=document,P=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,k=t()?Object.assign:function(t){for(var a,n,r=e(t),i=1;i<arguments.length;i++){for(var o in a=Object(arguments[i]))C.call(a,o)&&(r[o]=a[o]);if(P){n=P(a);for(var s=0;s<n.length;s++)S.call(a,n[s])&&(r[n[s]]=a[n[s]])}}return r},E=k,I=window,V=function(e,t,a,n){var r,i=Boolean(t&&Array.isArray(a)),o=Boolean(i&&e),s=document.createElement("a");if(i){var l=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||l(),/^\/\/.+/.test(e)?s.href=I.location.protocol+e:s.href=e),s.hostname||l(),-1===a.indexOf(s.hostname)){
var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}}var d=function(){if(null!=r)return r;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},u=function(e){return o&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},g={getTurbineHost:d,decorateWithDynamicHost:u,get isDynamicEnforced(){return i}};return I&&n.onDebugChanged((function(e){e?I.dynamicHostResolver=g:delete I.dynamicHostResolver})),g},A=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},T="debug",w=function(e,t){var a=function(){return"true"===e.getItem(T)},n=function(t){e.setItem(T,t)},r=[],i=function(e){r.push(e)};return t.outputEnabled=a(),{onDebugChanged:i,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(n(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},D="Module did not export a function.",O=function(e,t,a){return function(n,r,i){i=i||[];var o=e.getModuleExports(n.modulePath);if("function"!=typeof o)throw new Error(D);var s=e.getModuleDefinition(n.modulePath),l=n.settings||{};!n.hasTransformedFilePaths&&s.filePaths&&(a(l,s.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);var c=t(l,r);return o.bind(null,c).apply(null,i)}},L=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},N={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},M="\ud83d\ude80",x=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":M,F=!1,R=function(e){if(F&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(x),e!==N.DEBUG||window.console[e]||(e=N.INFO),window.console[e].apply(window.console,t)}},j=R.bind(null,N.LOG),B=R.bind(null,N.INFO),U=R.bind(null,N.DEBUG),G=R.bind(null,N.WARN),q=R.bind(null,N.ERROR),H=function(){var e=F;F=!0,R.apply(null,Array.prototype.concat(N.WARN,Array.prototype.slice.call(arguments))),e||(F=!1)},z={log:j,info:B,debug:U,warn:G,error:q,deprecation:H,get outputEnabled(){return F},set outputEnabled(e){F=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:j.bind(null,t),info:B.bind(null,t),debug:U.bind(null,t),warn:G.bind(null,t),error:q.bind(null,t)}}},$="com.adobe.reactor.",J=function(e,t){var a=$+(t||"");return{getItem:function(t){try{return I[e].getItem(a+t)}catch(e){return null}},setItem:function(t,n){try{return I[e].setItem(a+t,n),!0}catch(e){return!1}}}},W="dataElements.",Q=J("sessionStorage",W),Y=J("localStorage",W),K={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},X={},Z=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,a){var n;switch(t){case K.PAGEVIEW:return void(X[e]=a);case K.SESSION:return void((n=Z(a))&&Q.setItem(e,n));case K.VISITOR:return void((n=Z(a))&&Y.setItem(e,n))}},getValue:function(e,t){var a;switch(t){case K.PAGEVIEW:return X.hasOwnProperty(e)?X[e]:null;case K.SESSION:return null===(a=Q.getItem(e))?a:JSON.parse(a);case K.VISITOR:return null===(a=Y.getItem(e))?a:JSON.parse(a)}}},te=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},ae=function(e,t,a,n,r){return function(i,o){var s=t(i);if(!s)return n?"":void 0;var l,c,d=s.storageDuration;try{l=e.getModuleExports(s.modulePath),c=e.getModuleDefinition(s.modulePath)}catch(e){return void z.error(te(s,i,e.message,e.stack))}if("function"==typeof l){var u,g=s.settings||{};!s.hasTransformedFilePaths&&c.filePaths&&(r(g,c.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=l(a(g,o),o)}catch(e){return void z.error(te(s,i,e.message,e.stack))}return d&&(null!=u?ee.setValue(i,d,u):u=ee.getValue(i,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=L(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}z.error(te(s,i,"Module did not export a function."))}},ne={text:function(e){return e.textContent},cleanText:function(e){return L(e.textContent)}},re=function(e,t,a){for(var n,r=e,i=0,o=t.length;i<o;i++){if(null==r)return;var s=t[i];if(a&&"@"===s.charAt(0)){var l=s.slice(1);r=ne[l](r)}else if(r.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var c=n[1];r=r.getAttribute(c)}else r=r[s]}return r},ie=function(e,t,a){return function(n,r){var i;if(t(n))i=a(n,r);else{var o=n.split("."),s=o.shift();"this"===s?r&&(i=re(r.element,o,!0)):"event"===s?r&&(i=re(r,o)):"target"===s?r&&(i=re(r.target,o)):i=re(e[s],o)}return i}},oe=function(e,t){return function(a){var n=a.split(".")[0];return Boolean(t(a)||"this"===n||"event"===n||"target"===n||e.hasOwnProperty(n))}},se=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},le=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");z.error(t)}}))},n=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=se(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,n,r,i){var o={definition:a,extensionName:n,require:r,turbine:i};o.require=r,e[t]=o},hydrateCache:a,getModuleExports:n,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ce=!1,de=function(e){return function(t,a){var n=e._monitors;n&&(ce||(z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ce=!0),n.forEach((function(e){e[t]&&e[t](a)})))}},ue=function(e,t,a){var n,r,i,o,s=[],l=function(n,r,i){if(!e(r))return n;s.push(r);var o=t(r,i);return s.pop(),null==o&&a?"":o};return n=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?l(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return l(e,a,t)}))},r=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],s=e[i];a[i]=o(s,t)}return a},i=function(e,t){for(var a=[],n=0,r=e.length;n<r;n++)a.push(o(e[n],t));return a},o=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?(z.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},ge=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe=setTimeout;l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var a=new this.constructor(o);return c(this,new f(e,t,a)),a},l.prototype.finally=r,l.all=function(e){return new l((function(t,a){function n(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){n(e,t)}),a)}r[e]=i,0==--o&&t(r)}catch(e){a(e)}}if(!i(e))return a(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var o=r.length,s=0;s<r.length;s++)n(s,r[s])}))},l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,a){a(e)}))},l.race=function(e){return new l((function(t,a){if(!i(e))return a(new TypeError("Promise.race accepts an array"));for(var n=0,r=e.length;n<r;n++)l.resolve(e[n]).then(t,a)}))},l._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){pe(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var me=a(Object.freeze({__proto__:null,default:l})),he="undefined"!=typeof window&&window.Promise||void 0!==fe&&fe.Promise||me.default||me,ve=function(e,t,a){return function(n,r,i,o){return o.then((function(){var o,s=n.delayNext;return new he((function(t,a){var r=e(n,i,[i]);if(!s)return t();var l=n.timeout,c=new he((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+l/1e3+" seconds to complete. "))}),l)}));he.race([r,c]).then(t,a)})).catch((function(e){return clearTimeout(o),e=t(e),a(n,r,e),he.reject(e)})).then((function(){clearTimeout(o)}))}))}},ye=function(e,t,a,n,r){return function(i,o,s,l){return l.then((function(){var l;return new he((function(t,a){var n=e(i,s,[s]),r=i.timeout,o=new he((function(e,t){l=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));he.race([n,o]).then(t,a)})).catch((function(e){return clearTimeout(l),e=t(e),n(i,o,e),he.reject(e)})).then((function(e){if(clearTimeout(l),!a(i,e))return r(i,o),he.reject()}))}))}},be=he.resolve(),_e=function(e,t,a){return function(n,r){return n.conditions&&n.conditions.forEach((function(t){be=e(t,n,r,be)})),n.actions&&n.actions.forEach((function(e){be=t(e,n,r,be)})),be=(be=be.then((function(){a(n)}))).catch((function(){}))}},Pe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Ce=function(e,t,a,n){return function(r,i){var o;if(r.conditions)for(var s=0;s<r.conditions.length;s++){o=r.conditions[s];try{var l=e(o,i,[i]);if(Pe(l))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,l))return a(o,r),!1}catch(e){return n(o,r,e),!1}}return!0}},Se=function(e,t){return function(a,n){e(a,n)&&t(a,n)}},ke=function(e){return function(t){var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},Ee=function(e){return function(t){var a=t.rule,n=t.event,r=e.getModuleDefinition(n.modulePath).name;return{$type:e.getModuleExtensionName(n.modulePath)+"."+r,$rule:{id:a.id,name:a.name}}}},Ie=function(e,t,a,n,r,i){return function(o,s){var l=s.rule,c=s.event;c.settings=c.settings||{};try{var d=r(s);t(c,null,[function(t){var n=a(d,t);o((function(){e(n,l)}))}])}catch(e){i.error(n(c,l,e))}}},Ve=function(e,t,a,n){return function(r,i,o){var s=t(r);a.error(e(s,i.name,o)),n("ruleActionFailed",{rule:i,action:r})}},Ae=function(e,t,a,n){return function(r,i,o){var s=t(r);a.error(e(s,i.name,o)),n("ruleConditionFailed",{rule:i,condition:r})}},Te=function(e,t,a){return function(n,r){var i=e(n);t.log('Condition "'+i+'" for rule "'+r.name+'" was not met.'),a("ruleConditionFailed",{rule:r,condition:n})}},we=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},De=function(e,t,a){return function(n,r){var i;if(n.actions)for(var o=0;o<n.actions.length;o++){i=n.actions[o];try{e(i,r,[r])}catch(e){return void t(i,n,e)}}a(n)}},Oe=function(e,t,a,n){return function(r,i){n("ruleTriggered",{rule:i}),e?a(i,r):t(i,r)}},Le=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Ne=function(e,t){return t&&!e.negate||!t&&e.negate},Me=[],xe=!1,Fe=function(e){xe?e():Me.push(e)},Re=function(e,t,a){e(t).forEach((function(e){a(Fe,e)})),xe=!0,Me.forEach((function(e){e()})),Me=[]},je=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Be=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ue=function(e){var t,a;return!1!==m(e)&&("function"==typeof(t=e.constructor)&&(!1!==m(a=t.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf")))},Ge=function(e,t){return Ue(t=t||{})?t=E({},t,e):E(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},qe=function(e,t){return function(a,n){var r=e[a];if(r){var i=r.modules;if(i)for(var o=Object.keys(i),s=0;s<o.length;s++){var l=o[s],c=i[l];if(c.shared&&c.name===n)return t.getModuleExports(l)}}}},He=function(e,t){return function(){return t?e(t):{}}},ze=function(e,t,a){return function(n){if(a){var r=n.split(".");r.splice(r.length-1||1,0,"min"),n=r.join(".")}return e(t)+n}},$e=".js",Je=function(e){return e.substr(0,e.lastIndexOf("/"))},We=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Qe=function(e,t){We(t,$e)||(t+=$e);var a=t.split("/"),n=Je(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))})),n.join("/")},Ye=n((function(e){!function(t){if(e.exports=t(),!!0){var a=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=a,n}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(n){function r(){}function i(t,a,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(a);/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+a+s}}function o(e,a){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var s=i[o].split("="),l=s.slice(1).join("=");a||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(n.read||n)(l,c)||t(l),a)try{l=JSON.parse(l)}catch(e){}if(r[c]=l,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,a){i(t,"",e(a,{expires:-1}))},r.defaults={},r.withConverter=a,r}return a((function(){}))}))})),Ke={get:Ye.get,set:Ye.set,remove:Ye.remove},Xe=function(e,t){return new he((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script "+e))}}))},Ze=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Xe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},et=function(e,t,a,n){t=t||"&",a=a||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var l=0;l<s;++l){var c,d,u,g,f=e[l].replace(i,"%20"),p=f.indexOf(a);p>=0?(c=f.substr(0,p),d=f.substr(p+1)):(c=f,d=""),u=decodeURIComponent(c),g=decodeURIComponent(d),h(r,u)?Array.isArray(r[u])?r[u].push(g):r[u]=[r[u],g]:r[u]=g}return r},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},at=function(e,t,a,n){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var r=encodeURIComponent(tt(n))+a;return Array.isArray(e[n])?e[n].map((function(e){return r+encodeURIComponent(tt(e))})).join(t):r+encodeURIComponent(tt(e[n]))})).join(t):n?encodeURIComponent(tt(n))+a+encodeURIComponent(tt(e)):""},nt=n((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=at})),rt="@adobe/reactor-",it={cookie:Ke,document:_,"load-script":Ze,"object-assign":E,promise:he,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),nt.parse(e)},stringify:function(e){return nt.stringify(e)}},window:I},ot=function(e){return function(t){if(0===t.indexOf(rt)){var a=t.substr(rt.length),n=it[a];if(n)return n}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,a,n,r,i,o){var s=e.extensions,l=e.buildInfo,c=e.environment,d=e.property.settings;if(s){var u=qe(s,t);Object.keys(s).forEach((function(g){var f=s[g],p=f.settings;Array.isArray(f.filePaths)&&(p=i(p,f.filePaths));var m=He(n,p);if(f.modules){var h=z.createPrefixedLogger(f.displayName),v=ze(o,f.hostedLibFilesBaseUrl,l.minified),y={buildInfo:l,environment:c,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:m,getHostedLibFileUrl:v,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:n,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(f.modules).forEach((function(e){var a=f.modules[e],n=ot((function(a){var n=Qe(e,a);return t.getModuleExports(n)}));t.registerModule(e,a,g,n,y)}))}})),t.hydrateCache()}return t},lt=function(e,t,a,n,r){var i=z.createPrefixedLogger("Custom Script");e.track=function(e){z.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch(z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,a){var n="",r={};a&&(n=", { expires: "+a+" }",r.expires=a);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";z.deprecation(i),Ke.set(e,t,r)},e.readCookie=function(e){return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Ke.get(e)},e.removeCookie=function(e){z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Ke.remove(e)},e.cookie=Ke,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(z.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},ct=function(e){for(var t=_.querySelectorAll("script"),a=0;a<t.length;a++){var n=t[a];if(e.test(n.src))return n}},dt=function(e,t){return function(a,n,r){return e&&Ue(a)&&Object.keys(a).length&&Array.isArray(n)&&n.length?(n.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!a.isExternal||b(e.split("."),a,t)})),a):a}},ut={getTurbine:function(){return ct(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:ct}.getTurbine,gt=window._satellite;if(gt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var ft=gt.container;delete gt.container;var pt=E({},ft.buildInfo);Object.defineProperty(pt,"environment",{get:function(){return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),ft.environment.stage}}),ft.buildInfo=pt;var mt,ht=w(J("localStorage"),z),vt="";_.currentScript&&_.currentScript.getAttribute("src")?vt=_.currentScript.getAttribute("src"):ut()&&(vt=ut().getAttribute("src"));try{mt=V(vt,Boolean(ft.company.dynamicCdnEnabled),ft.company.cdnAllowList,ht)}catch(e){throw z.warn("Please review the following error:"),e}var yt,bt=dt(mt.isDynamicEnforced,mt.decorateWithDynamicHost),_t=le(),Pt=ft.property.settings.undefinedVarsReturnEmpty,Ct=ft.property.settings.ruleComponentSequencingEnabled,St=ft.dataElements||{},kt=function(e){return St[e]},Et=function(){return yt.apply(null,arguments)},It=ae(_t,kt,Et,Pt,bt),Vt={},At=ge(Vt),Tt=oe(Vt,kt),wt=ie(Vt,kt,It);yt=ue(Tt,wt,Pt),lt(gt,ft,ht.setDebugEnabled,wt,At),st(ft,_t,ht,yt,It,bt,mt.decorateWithDynamicHost);var Dt=de(gt),Ot=O(_t,yt,bt),Lt=ke(_t),Nt=Te(Lt,z,Dt),Mt=Ae(Le,Lt,z,Dt),xt=Ve(Le,Lt,z,Dt),Ft=we(z,Dt),Rt=Ie(Oe(Ct,Se(Ce(Ot,Ne,Nt,Mt),De(Ot,xt,Ft)),_e(ye(Ot,je,Ne,Mt,Nt),ve(Ot,je,xt),Ft),Dt),Ot,Ge,Le,Ee(_t),z);Re(A,ft.rules||[],Rt)}return gt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();